window.webviz_subsurface_components=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=131)}({0:function(t,e){t.exports=window.React},1:function(t,e,n){t.exports=n(120)()},10:function(t,e,n){"use strict";(function(t){var i=n(3),r=n(60),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?i.a.Buffer:void 0,l=(s?s.isBuffer:void 0)||r.a;e.a=l}).call(this,n(58)(t))},120:function(t,e,n){"use strict";var i=n(121);function r(){}function o(){}o.resetWarningCache=r,t.exports=function(){function t(t,e,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},121:function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},122:function(t,e,n){},123:function(t,e,n){},124:function(t,e,n){"use strict";t.exports=n(125)},125:function(t,e,n){"use strict";
/** @license React v16.12.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&Symbol.for,r=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,c=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.async_mode"):60111,f=i?Symbol.for("react.concurrent_mode"):60111,d=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.suspense_list"):60120,_=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,y=i?Symbol.for("react.fundamental"):60117,g=i?Symbol.for("react.responder"):60118,b=i?Symbol.for("react.scope"):60119;function w(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case h:case f:case a:case l:case s:case p:return t;default:switch(t=t&&t.$$typeof){case c:case d:case v:case _:case u:return t;default:return e}}case o:return e}}}function x(t){return w(t)===f}e.typeOf=w,e.AsyncMode=h,e.ConcurrentMode=f,e.ContextConsumer=c,e.ContextProvider=u,e.Element=r,e.ForwardRef=d,e.Fragment=a,e.Lazy=v,e.Memo=_,e.Portal=o,e.Profiler=l,e.StrictMode=s,e.Suspense=p,e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===a||t===f||t===l||t===s||t===p||t===m||"object"==typeof t&&null!==t&&(t.$$typeof===v||t.$$typeof===_||t.$$typeof===u||t.$$typeof===c||t.$$typeof===d||t.$$typeof===y||t.$$typeof===g||t.$$typeof===b)},e.isAsyncMode=function(t){return x(t)||w(t)===h},e.isConcurrentMode=x,e.isContextConsumer=function(t){return w(t)===c},e.isContextProvider=function(t){return w(t)===u},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return w(t)===d},e.isFragment=function(t){return w(t)===a},e.isLazy=function(t){return w(t)===v},e.isMemo=function(t){return w(t)===_},e.isPortal=function(t){return w(t)===o},e.isProfiler=function(t){return w(t)===l},e.isStrictMode=function(t){return w(t)===s},e.isSuspense=function(t){return w(t)===p}},126:function(t,e){var n,i;n=window,i=document,L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(t,e){this._map=t,this._container=t._container,this._overlayPane=t._panes.overlayPane,this._popupPane=t._panes.popupPane,e&&e.shapeOptions&&(e.shapeOptions=L.Util.extend({},this.options.shapeOptions,e.shapeOptions)),L.setOptions(this,e);var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(L.DomUtil.disableTextSelection(),t.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(t){L.setOptions(this,t)},_fireCreatedEvent:function(t){this._map.fire(L.Draw.Event.CREATED,{layer:t,layerType:this.type})},_cancelDrawing:function(t){27===t.keyCode&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(t,e){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,e&&e.drawError&&(e.drawError=L.Util.extend({},this.options.drawError,e.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var t=this._markers.pop(),e=this._poly,n=e.getLatLngs(),i=n.splice(-1,1)[0];this._poly.setLatLngs(n),this._markerGroup.removeLayer(t),e.getLatLngs().length<2&&this._map.removeLayer(e),this._vertexChanged(i,!1)}},addVertex:function(t){this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(t)?this._showErrorTooltip():(this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(t)),this._poly.addLatLng(t),2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly),this._vertexChanged(t,!0))},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var t=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),e=this._poly.newLatLngIntersects(t[t.length-1]);!this.options.allowIntersection&&e||!this._shapeIsValid()?this._showErrorTooltip():(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_shapeIsValid:function(){return!0},_onZoomEnd:function(){null!==this._markers&&this._updateGuide()},_onMouseMove:function(t){var e=this._map.mouseEventToLayerPoint(t.originalEvent),n=this._map.layerPointToLatLng(e);this._currentLatLng=n,this._updateTooltip(n),this._updateGuide(e),this._mouseMarker.setLatLng(n),L.DomEvent.preventDefault(t.originalEvent)},_vertexChanged:function(t,e){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(t,e),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(t){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(t),this._clickHandled=!0,this._disableNewMarkers();var e=t.originalEvent,n=e.clientX,i=e.clientY;this._startPoint.call(this,n,i)}},_startPoint:function(t,e){this._mouseDownOrigin=L.point(t,e)},_onMouseUp:function(t){var e=t.originalEvent,n=e.clientX,i=e.clientY;this._endPoint.call(this,n,i,t),this._clickHandled=null},_endPoint:function(t,e,i){if(this._mouseDownOrigin){var r=L.point(t,e).distanceTo(this._mouseDownOrigin),o=this._calculateFinishDistance(i.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(i.latlng),this._finishShape()):o<10&&L.Browser.touch?this._finishShape():Math.abs(r)<9*(n.devicePixelRatio||1)&&this.addVertex(i.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(t){var e,n,i=t.originalEvent;!i.touches||!i.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(e=i.touches[0].clientX,n=i.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,e,n),this._endPoint.call(this,e,n,t),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(t){var e;if(this._markers.length>0){var n;if(this.type===L.Draw.Polyline.TYPE)n=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;n=this._markers[0]}var i=this._map.latLngToContainerPoint(n.getLatLng()),r=new L.Marker(t,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),o=this._map.latLngToContainerPoint(r.getLatLng());e=i.distanceTo(o)}else e=1/0;return e},_updateFinishHandler:function(){var t=this._markers.length;t>1&&this._markers[t-1].on("click",this._finishShape,this),t>2&&this._markers[t-2].off("click",this._finishShape,this)},_createMarker:function(t){var e=new L.Marker(t,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(e),e},_updateGuide:function(t){var e=this._markers?this._markers.length:0;e>0&&(t=t||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[e-1].getLatLng()),t))},_updateTooltip:function(t){var e=this._getTooltipText();t&&this._tooltip.updatePosition(t),this._errorShown||this._tooltip.updateContent(e)},_drawGuide:function(t,e){var n,i,r,o=Math.floor(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))),a=this.options.guidelineDistance,s=this.options.maxGuideLineLength,l=o>s?o-s:a;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));l<o;l+=this.options.guidelineDistance)n=l/o,i={x:Math.floor(t.x*(1-n)+n*e.x),y:Math.floor(t.y*(1-n)+n*e.y)},(r=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer)).style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(r,i)},_updateGuideColor:function(t){if(this._guidesContainer)for(var e=0,n=this._guidesContainer.childNodes.length;e<n;e++)this._guidesContainer.childNodes[e].style.backgroundColor=t},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var t,e,n=this.options.showLength;return 0===this._markers.length?t={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(e=n?this._getMeasurementString():"",t=1===this._markers.length?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:e}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:e}),t},_updateRunningMeasure:function(t,e){var n,i,r=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(n=r-(e?2:1),i=L.GeometryUtil.isVersion07x()?t.distanceTo(this._markers[n].getLatLng())*(this.options.factor||1):this._map.distance(t,this._markers[n].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=i*(e?1:-1))},_getMeasurementString:function(){var t,e=this._currentLatLng,n=this._markers[this._markers.length-1].getLatLng();return t=L.GeometryUtil.isVersion07x()?n&&e&&e.distanceTo?this._measurementRunningTotal+e.distanceTo(n)*(this.options.factor||1):this._measurementRunningTotal||0:n&&e?this._measurementRunningTotal+this._map.distance(e,n)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(t,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout(function(){this._disableMarkers=!1}.bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var t=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(t,e){L.Draw.Polyline.prototype.initialize.call(this,t,e),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var t=this._markers.length;1===t&&this._markers[0].on("click",this._finishShape,this),t>2&&(this._markers[t-1].on("dblclick",this._finishShape,this),t>3&&this._markers[t-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var t,e;return 0===this._markers.length?t=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(t=L.drawLocal.draw.handlers.polygon.tooltip.cont,e=this._getMeasurementString()):(t=L.drawLocal.draw.handlers.polygon.tooltip.end,e=this._getMeasurementString()),{text:t,subtext:e}},_getMeasurementString:function(){var t=this._area,e="";return t||this.options.showLength?(this.options.showLength&&(e=L.Draw.Polyline.prototype._getMeasurementString.call(this)),t&&(e+="<br>"+L.GeometryUtil.readableArea(t,this.options.metric,this.options.precision)),e):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(t,e){var n;!this.options.allowIntersection&&this.options.showArea&&(n=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(n)),L.Draw.Polyline.prototype._vertexChanged.call(this,t,e)},_cleanUpShape:function(){var t=this._markers.length;t>0&&(this._markers[0].off("click",this._finishShape,this),t>2&&this._markers[t-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(t,e){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),i.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(i,"mouseup",this._onMouseUp,this),L.DomEvent.off(i,"touchend",this._onMouseUp,this),i.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(t){this._isDrawing=!0,this._startLatLng=t.latlng,L.DomEvent.on(i,"mouseup",this._onMouseUp,this).on(i,"touchend",this._onMouseUp,this).preventDefault(t.originalEvent)},_onMouseMove:function(t){var e=t.latlng;this._tooltip.updatePosition(e),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(e))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(t,e){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,t,e)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(t){this._shape||this._isCurrentlyTwoClickDrawing?this._isCurrentlyTwoClickDrawing&&!function(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}(t.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this):this._isCurrentlyTwoClickDrawing=!0},_drawShape:function(t){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,t)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,t),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var t=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,t)},_getTooltipText:function(){var t,e,n,i=L.Draw.SimpleShape.prototype._getTooltipText.call(this),r=this._shape,o=this.options.showArea;return r&&(t=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),e=L.GeometryUtil.geodesicArea(t),n=o?L.GeometryUtil.readableArea(e,this.options.metric):""),{text:i.text,subtext:n}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(t,e){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(t){var e=t.latlng;this._tooltip.updatePosition(e),this._mouseMarker.setLatLng(e),this._marker?(e=this._mouseMarker.getLatLng(),this._marker.setLatLng(e)):(this._marker=this._createMarker(e),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(t){return new L.Marker(t,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(t){this._onMouseMove(t),this._onClick()},_fireCreatedEvent:function(){var t=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(t,e){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,t,e)},_fireCreatedEvent:function(){var t=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)},_createMarker:function(t){return new L.CircleMarker(t,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(t,e){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,t,e)},_drawShape:function(t){if(L.GeometryUtil.isVersion07x())var e=this._startLatLng.distanceTo(t);else e=this._map.distance(this._startLatLng,t);this._shape?this._shape.setRadius(e):(this._shape=new L.Circle(this._startLatLng,e,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var t=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,t)},_onMouseMove:function(t){var e,n=t.latlng,i=this.options.showRadius,r=this.options.metric;if(this._tooltip.updatePosition(n),this._isDrawing){this._drawShape(n),e=this._shape.getRadius().toFixed(1);var o="";i&&(o=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(e,r,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:o})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(t,e){this._marker=t,L.setOptions(this,e)},addHooks:function(){var t=this._marker;t.dragging.enable(),t.on("dragend",this._onDragEnd,t),this._toggleMarkerHighlight()},removeHooks:function(){var t=this._marker;t.dragging.disable(),t.off("dragend",this._onDragEnd,t),this._toggleMarkerHighlight()},_onDragEnd:function(t){var e=t.target;e.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:e})},_toggleMarkerHighlight:function(){var t=this._marker._icon;t&&(t.style.display="none",L.DomUtil.hasClass(t,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(t,"leaflet-edit-marker-selected"),this._offsetMarker(t,-4)):(L.DomUtil.addClass(t,"leaflet-edit-marker-selected"),this._offsetMarker(t,4)),t.style.display="")},_offsetMarker:function(t,e){var n=parseInt(t.style.marginTop,10)-e,i=parseInt(t.style.marginLeft,10)-e;t.style.marginTop=n+"px",t.style.marginLeft=i+"px"}}),L.Marker.addInitHook((function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())})),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(t){this.latlngs=[t._latlngs],t._holes&&(this.latlngs=this.latlngs.concat(t._holes)),this._poly=t,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(t){for(var e=0;e<this._verticesHandlers.length;e++)t(this._verticesHandlers[e])},addHooks:function(){this._initHandlers(),this._eachVertexHandler((function(t){t.addHooks()}))},removeHooks:function(){this._eachVertexHandler((function(t){t.removeHooks()}))},updateMarkers:function(){this._eachVertexHandler((function(t){t.updateMarkers()}))},_initHandlers:function(){this._verticesHandlers=[];for(var t=0;t<this.latlngs.length;t++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[t],this._poly.options.poly))},_updateLatLngs:function(t){this.latlngs=[t.layer._latlngs],t.layer._holes&&(this.latlngs=this.latlngs.concat(t.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(t,e,n){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=t,n&&n.drawError&&(n.drawError=L.Util.extend({},this.options.drawError,n.drawError)),this._latlngs=e,L.setOptions(this,n)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var t=this._poly,e=t._path;t instanceof L.Polygon||(t.options.fill=!1,t.options.editing&&(t.options.editing.fill=!1)),e&&t.options.editing&&t.options.editing.className&&(t.options.original.className&&t.options.original.className.split(" ").forEach((function(t){L.DomUtil.removeClass(e,t)})),t.options.editing.className.split(" ").forEach((function(t){L.DomUtil.addClass(e,t)}))),t.setStyle(t.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var t=this._poly,e=t._path;e&&t.options.editing&&t.options.editing.className&&(t.options.editing.className.split(" ").forEach((function(t){L.DomUtil.removeClass(e,t)})),t.options.original.className&&t.options.original.className.split(" ").forEach((function(t){L.DomUtil.addClass(e,t)}))),t.setStyle(t.options.original),t._map&&(t._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var t,e,n,i,r,o,a=this._defaultShape();for(t=0,n=a.length;t<n;t++)(i=this._createMarker(a[t],t)).on("click",this._onMarkerClick,this),i.on("contextmenu",this._onContextMenu,this),this._markers.push(i);for(t=0,e=n-1;t<n;e=t++)(0!==t||L.Polygon&&this._poly instanceof L.Polygon)&&(r=this._markers[e],o=this._markers[t],this._createMiddleMarker(r,o),this._updatePrevNext(r,o))},_createMarker:function(t,e){var n=new L.Marker.Touch(t,{draggable:!0,icon:this.options.icon});return n._origLatLng=t,n._index=e,n.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(n),n},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var t=this._defaultShape(),e=[].splice.apply(t,arguments);return this._poly._convertLatLngs(t,!0),this._poly.redraw(),e},_removeMarker:function(t){var e=t._index;this._markerGroup.removeLayer(t),this._markers.splice(e,1),this._spliceLatLngs(e,1),this._updateIndexes(e,-1),t.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(t){var e=t.target,n=this._poly,i=L.LatLngUtil.cloneLatLng(e._origLatLng);if(L.extend(e._origLatLng,e._latlng),n.options.poly){var r=n._map._editTooltip;if(!n.options.poly.allowIntersection&&n.intersects()){L.extend(e._origLatLng,i),e.setLatLng(i);var o=n.options.color;n.setStyle({color:this.options.drawError.color}),r&&r.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout((function(){n.setStyle({color:o}),r&&r.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})}),1e3)}}e._middleLeft&&e._middleLeft.setLatLng(this._getMiddleLatLng(e._prev,e)),e._middleRight&&e._middleRight.setLatLng(this._getMiddleLatLng(e,e._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var a=this._poly.getLatLngs();this._poly._convertLatLngs(a,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(t){var e=L.Polygon&&this._poly instanceof L.Polygon?4:3,n=t.target;this._defaultShape().length<e||(this._removeMarker(n),this._updatePrevNext(n._prev,n._next),n._middleLeft&&this._markerGroup.removeLayer(n._middleLeft),n._middleRight&&this._markerGroup.removeLayer(n._middleRight),n._prev&&n._next?this._createMiddleMarker(n._prev,n._next):n._prev?n._next||(n._prev._middleRight=null):n._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(t){var e=t.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:e,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(t){var e=this._map.mouseEventToLayerPoint(t.originalEvent.touches[0]),n=this._map.layerPointToLatLng(e),i=t.target;L.extend(i._origLatLng,n),i._middleLeft&&i._middleLeft.setLatLng(this._getMiddleLatLng(i._prev,i)),i._middleRight&&i._middleRight.setLatLng(this._getMiddleLatLng(i,i._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(t,e){this._markerGroup.eachLayer((function(n){n._index>t&&(n._index+=e)}))},_createMiddleMarker:function(t,e){var n,i,r,o=this._getMiddleLatLng(t,e),a=this._createMarker(o);a.setOpacity(.6),t._middleRight=e._middleLeft=a,i=function(){a.off("touchmove",i,this);var r=e._index;a._index=r,a.off("click",n,this).on("click",this._onMarkerClick,this),o.lat=a.getLatLng().lat,o.lng=a.getLatLng().lng,this._spliceLatLngs(r,0,o),this._markers.splice(r,0,a),a.setOpacity(1),this._updateIndexes(r,1),e._index++,this._updatePrevNext(t,a),this._updatePrevNext(a,e),this._poly.fire("editstart")},r=function(){a.off("dragstart",i,this),a.off("dragend",r,this),a.off("touchmove",i,this),this._createMiddleMarker(t,a),this._createMiddleMarker(a,e)},n=function(){i.call(this),r.call(this),this._fireEdit()},a.on("click",n,this).on("dragstart",i,this).on("dragend",r,this).on("touchmove",i,this),this._markerGroup.addLayer(a)},_updatePrevNext:function(t,e){t&&(t._next=e),e&&(e._prev=t)},_getMiddleLatLng:function(t,e){var n=this._poly._map,i=n.project(t.getLatLng()),r=n.project(e.getLatLng());return n.unproject(i._add(r)._divideBy(2))}}),L.Polyline.addInitHook((function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",(function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()})),this.on("remove",(function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})))})),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(t,e){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=t,L.Util.setOptions(this,e)},addHooks:function(){var t=this._shape;this._shape._map&&(this._map=this._shape._map,t.setStyle(t.options.editing),t._map&&(this._map=t._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var t=this._shape;if(t.setStyle(t.options.original),t._map){this._unbindMarker(this._moveMarker);for(var e=0,n=this._resizeMarkers.length;e<n;e++)this._unbindMarker(this._resizeMarkers[e]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(t,e){var n=new L.Marker.Touch(t,{draggable:!0,icon:e,zIndexOffset:10});return this._bindMarker(n),this._markerGroup.addLayer(n),n},_bindMarker:function(t){t.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(t){t.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(t){t.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(t){var e=t.target,n=e.getLatLng();e===this._moveMarker?this._move(n):this._resize(n),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(t){t.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(t){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,t),"function"==typeof this._getCorners){var e=this._getCorners(),n=t.target,i=n._cornerIndex;n.setOpacity(0),this._oppositeCorner=e[(i+2)%4],this._toggleCornerMarkers(0,i)}this._shape.fire("editstart")},_onTouchMove:function(t){var e=this._map.mouseEventToLayerPoint(t.originalEvent.touches[0]),n=this._map.layerPointToLatLng(e);return t.target===this._moveMarker?this._move(n):this._resize(n),this._shape.redraw(),!1},_onTouchEnd:function(t){t.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var t=this._shape.getBounds().getCenter();this._moveMarker=this._createMarker(t,this.options.moveIcon)},_createResizeMarker:function(){var t=this._getCorners();this._resizeMarkers=[];for(var e=0,n=t.length;e<n;e++)this._resizeMarkers.push(this._createMarker(t[e],this.options.resizeIcon)),this._resizeMarkers[e]._cornerIndex=e},_onMarkerDragStart:function(t){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,t);var e=this._getCorners(),n=t.target._cornerIndex;this._oppositeCorner=e[(n+2)%4],this._toggleCornerMarkers(0,n)},_onMarkerDragEnd:function(t){var e,n=t.target;n===this._moveMarker&&(e=this._shape.getBounds().getCenter(),n.setLatLng(e)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,t)},_move:function(t){for(var e,n=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),i=this._shape.getBounds().getCenter(),r=[],o=0,a=n.length;o<a;o++)e=[n[o].lat-i.lat,n[o].lng-i.lng],r.push([t.lat+e[0],t.lng+e[1]]);this._shape.setLatLngs(r),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(t){var e;this._shape.setBounds(L.latLngBounds(t,this._oppositeCorner)),e=this._shape.getBounds(),this._moveMarker.setLatLng(e.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var t=this._shape.getBounds();return[t.getNorthWest(),t.getNorthEast(),t.getSouthEast(),t.getSouthWest()]},_toggleCornerMarkers:function(t){for(var e=0,n=this._resizeMarkers.length;e<n;e++)this._resizeMarkers[e].setOpacity(t)},_repositionCornerMarkers:function(){for(var t=this._getCorners(),e=0,n=this._resizeMarkers.length;e<n;e++)this._resizeMarkers[e].setLatLng(t[e])}}),L.Rectangle.addInitHook((function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())})),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var t=this._shape.getLatLng();this._moveMarker=this._createMarker(t,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(t){if(this._resizeMarkers.length){var e=this._getResizeMarkerPoint(t);this._resizeMarkers[0].setLatLng(e)}this._shape.setLatLng(t),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook((function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",(function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()})),this.on("remove",(function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))})),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var t=this._shape.getLatLng(),e=this._getResizeMarkerPoint(t);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(e,this.options.resizeIcon))},_getResizeMarkerPoint:function(t){var e=this._shape._radius*Math.cos(Math.PI/4),n=this._map.project(t);return this._map.unproject([n.x+e,n.y-e])},_resize:function(t){var e=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=e.distanceTo(t):radius=this._map.distance(e,t),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook((function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())})),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(t,e){var n={};if(void 0!==t.touches){if(!t.touches.length)return;n=t.touches[0]}else{if("touch"!==t.pointerType)return;if(n=t,!this._filterClick(t))return}var i=this._map.mouseEventToContainerPoint(n),r=this._map.mouseEventToLayerPoint(n),o=this._map.layerPointToLatLng(r);this._map.fire(e,{latlng:o,layerPoint:r,containerPoint:i,pageX:n.pageX,pageY:n.pageY,originalEvent:t})},_filterClick:function(t){var e=t.timeStamp||t.originalEvent.timeStamp,n=L.DomEvent._lastClick&&e-L.DomEvent._lastClick;return n&&n>100&&n<500||t.target._simulatedClick&&!t._simulated?(L.DomEvent.stop(t),!1):(L.DomEvent._lastClick=e,!0)},_onTouchStart:function(t){this._map._loaded&&this._touchEvent(t,"touchstart")},_onTouchEnd:function(t){this._map._loaded&&this._touchEvent(t,"touchend")},_onTouchCancel:function(t){if(this._map._loaded){var e="touchcancel";this._detectIE()&&(e="pointercancel"),this._touchEvent(t,e)}},_onTouchLeave:function(t){this._map._loaded&&this._touchEvent(t,"touchleave")},_onTouchMove:function(t){this._map._loaded&&this._touchEvent(t,"touchmove")},_detectIE:function(){var t=n.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var r=t.indexOf("Edge/");return r>0&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var t=this._icon,e=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?e.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):e.concat(["touchcancel"]),L.DomUtil.addClass(t,"leaflet-clickable"),L.DomEvent.on(t,"click",this._onMouseClick,this),L.DomEvent.on(t,"keypress",this._onKeyPress,this);for(var n=0;n<e.length;n++)L.DomEvent.on(t,e[n],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var t=n.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var r=t.indexOf("Edge/");return r>0&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)}}),L.LatLngUtil={cloneLatLngs:function(t){for(var e=[],n=0,i=t.length;n<i;n++)Array.isArray(t[n])?e.push(L.LatLngUtil.cloneLatLngs(t[n])):e.push(this.cloneLatLng(t[n]));return e},cloneLatLng:function(t){return L.latLng(t.lat,t.lng)}},function(){var t={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(t){var e,n,i=t.length,r=0,o=Math.PI/180;if(i>2){for(var a=0;a<i;a++)e=t[a],r+=((n=t[(a+1)%i]).lng-e.lng)*o*(2+Math.sin(e.lat*o)+Math.sin(n.lat*o));r=6378137*r*6378137/2}return Math.abs(r)},formattedNumber:function(t,e){var n=parseFloat(t).toFixed(e),i=L.drawLocal.format&&L.drawLocal.format.numeric,r=i&&i.delimiters,o=r&&r.thousands,a=r&&r.decimal;if(o||a){var s=n.split(".");n=o?s[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+o):s[0],a=a||".",s.length>1&&(n=n+a+s[1])}return n},readableArea:function(e,n,i){var r,o;return i=L.Util.extend({},t,i),n?(o=["ha","m"],type=typeof n,"string"===type?o=[n]:"boolean"!==type&&(o=n),r=e>=1e6&&-1!==o.indexOf("km")?L.GeometryUtil.formattedNumber(1e-6*e,i.km)+" km²":e>=1e4&&-1!==o.indexOf("ha")?L.GeometryUtil.formattedNumber(1e-4*e,i.ha)+" ha":L.GeometryUtil.formattedNumber(e,i.m)+" m²"):r=(e/=.836127)>=3097600?L.GeometryUtil.formattedNumber(e/3097600,i.mi)+" mi²":e>=4840?L.GeometryUtil.formattedNumber(e/4840,i.ac)+" acres":L.GeometryUtil.formattedNumber(e,i.yd)+" yd²",r},readableDistance:function(e,n,i,r,o){var a;switch(o=L.Util.extend({},t,o),n?"string"==typeof n?n:"metric":i?"feet":r?"nauticalMile":"yards"){case"metric":a=e>1e3?L.GeometryUtil.formattedNumber(e/1e3,o.km)+" km":L.GeometryUtil.formattedNumber(e,o.m)+" m";break;case"feet":e*=3.28083,a=L.GeometryUtil.formattedNumber(e,o.ft)+" ft";break;case"nauticalMile":e*=.53996,a=L.GeometryUtil.formattedNumber(e/1e3,o.nm)+" nm";break;case"yards":default:a=(e*=1.09361)>1760?L.GeometryUtil.formattedNumber(e/1760,o.mi)+" miles":L.GeometryUtil.formattedNumber(e,o.yd)+" yd"}return a},isVersion07x:function(){var t=L.version.split(".");return 0===parseInt(t[0],10)&&7===parseInt(t[1],10)}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(t,e,n,i){return this._checkCounterclockwise(t,n,i)!==this._checkCounterclockwise(e,n,i)&&this._checkCounterclockwise(t,e,n)!==this._checkCounterclockwise(t,e,i)},_checkCounterclockwise:function(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}}),L.Polyline.include({intersects:function(){var t,e,n,i=this._getProjectedPoints(),r=i?i.length:0;if(this._tooFewPointsForIntersection())return!1;for(t=r-1;t>=3;t--)if(e=i[t-1],n=i[t],this._lineSegmentsIntersectsRange(e,n,t-2))return!0;return!1},newLatLngIntersects:function(t,e){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(t),e)},newPointIntersects:function(t,e){var n=this._getProjectedPoints(),i=n?n.length:0,r=n?n[i-1]:null,o=i-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(r,t,o,e?1:0)},_tooFewPointsForIntersection:function(t){var e=this._getProjectedPoints(),n=e?e.length:0;return!e||(n+=t||0)<=3},_lineSegmentsIntersectsRange:function(t,e,n,i){var r,o,a=this._getProjectedPoints();i=i||0;for(var s=n;s>i;s--)if(r=a[s-1],o=a[s],L.LineUtil.segmentsIntersect(t,e,r,o))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var t=[],e=this._defaultShape(),n=0;n<e.length;n++)t.push(this._map.latLngToLayerPoint(e[n]));return t}}),L.Polygon.include({intersects:function(){var t,e,n,i,r=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(t=r.length,e=r[0],n=r[t-1],i=t-2,this._lineSegmentsIntersectsRange(n,e,i,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(t){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");var e;L.Control.prototype.initialize.call(this,t),this._toolbars={},L.DrawToolbar&&this.options.draw&&(e=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=e,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(e=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=e,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(t){var e,n=L.DomUtil.create("div","leaflet-draw"),i=!1;for(var r in this._toolbars)this._toolbars.hasOwnProperty(r)&&(e=this._toolbars[r].addToolbar(t))&&(i||(L.DomUtil.hasClass(e,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(e.childNodes[0],"leaflet-draw-toolbar-top"),i=!0),n.appendChild(e));return n},onRemove:function(){for(var t in this._toolbars)this._toolbars.hasOwnProperty(t)&&this._toolbars[t].removeToolbar()},setDrawingOptions:function(t){for(var e in this._toolbars)this._toolbars[e]instanceof L.DrawToolbar&&this._toolbars[e].setOptions(t)},_toolbarEnabled:function(t){var e=t.target;for(var n in this._toolbars)this._toolbars[n]!==e&&this._toolbars[n].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook((function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))})),L.Toolbar=L.Class.extend({initialize:function(t){L.setOptions(this,t),this._modes={},this._actionButtons=[],this._activeMode=null;var e=L.version.split(".");1===parseInt(e[0],10)&&parseInt(e[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return null!==this._activeMode},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(t){var e,n=L.DomUtil.create("div","leaflet-draw-section"),i=0,r=this._toolbarClass||"",o=this.getModeHandlers(t);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=t,e=0;e<o.length;e++)o[e].enabled&&this._initModeHandler(o[e].handler,this._toolbarContainer,i++,r,o[e].title);if(i)return this._lastButtonIndex=--i,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),n.appendChild(this._toolbarContainer),n.appendChild(this._actionsContainer),n},removeToolbar:function(){for(var t in this._modes)this._modes.hasOwnProperty(t)&&(this._disposeButton(this._modes[t].button,this._modes[t].handler.enable,this._modes[t].handler),this._modes[t].handler.disable(),this._modes[t].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var e=0,n=this._actionButtons.length;e<n;e++)this._disposeButton(this._actionButtons[e].button,this._actionButtons[e].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(t,e,n,i,r){var o=t.type;this._modes[o]={},this._modes[o].handler=t,this._modes[o].button=this._createButton({type:o,title:r,className:i+"-"+o,container:e,callback:this._modes[o].handler.enable,context:this._modes[o].handler}),this._modes[o].buttonIndex=n,this._modes[o].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!n.MSStream},_createButton:function(t){var e=L.DomUtil.create("a",t.className||"",t.container),n=L.DomUtil.create("span","sr-only",t.container);e.href="#",e.appendChild(n),t.title&&(e.title=t.title,n.innerHTML=t.title),t.text&&(e.innerHTML=t.text,n.innerHTML=t.text);var i=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(e,"click",L.DomEvent.stopPropagation).on(e,"mousedown",L.DomEvent.stopPropagation).on(e,"dblclick",L.DomEvent.stopPropagation).on(e,"touchstart",L.DomEvent.stopPropagation).on(e,"click",L.DomEvent.preventDefault).on(e,i,t.callback,t.context),e},_disposeButton:function(t,e){var n=this._detectIOS()?"touchstart":"click";L.DomEvent.off(t,"click",L.DomEvent.stopPropagation).off(t,"mousedown",L.DomEvent.stopPropagation).off(t,"dblclick",L.DomEvent.stopPropagation).off(t,"touchstart",L.DomEvent.stopPropagation).off(t,"click",L.DomEvent.preventDefault).off(t,n,e)},_handlerActivated:function(t){this.disable(),this._activeMode=this._modes[t.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(t){var e,n,i,r,o=this._actionsContainer,a=this.getActions(t),s=a.length;for(n=0,i=this._actionButtons.length;n<i;n++)this._disposeButton(this._actionButtons[n].button,this._actionButtons[n].callback);for(this._actionButtons=[];o.firstChild;)o.removeChild(o.firstChild);for(var l=0;l<s;l++)"enabled"in a[l]&&!a[l].enabled||(e=L.DomUtil.create("li","",o),r=this._createButton({title:a[l].title,text:a[l].text,container:e,callback:a[l].callback,context:a[l].context}),this._actionButtons.push({button:r,callback:a[l].callback}))},_showActionsToolbar:function(){var t=this._activeMode.buttonIndex,e=this._lastButtonIndex,n=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=n+"px",0===t&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),t===e&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(t){this._map=t,this._popupPane=t._panes.popupPane,this._visible=!1,this._container=t.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(t){return this._container?(t.subtext=t.subtext||"",0!==t.subtext.length||this._singleLineLabel?t.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(t.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+t.subtext+"</span><br />":"")+"<span>"+t.text+"</span>",t.text||t.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(t){var e=this._map.latLngToLayerPoint(t),n=this._container;return this._container&&(this._visible&&(n.style.visibility="inherit"),L.DomUtil.setPosition(n,e)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(t){for(var e in this.options)this.options.hasOwnProperty(e)&&t[e]&&(t[e]=L.extend({},this.options[e],t[e]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,t)},getModeHandlers:function(t){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(t,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(t,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(t,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(t,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(t,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(t,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(t){return[{enabled:t.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:t.completeShape,context:t},{enabled:t.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:t.deleteLastVertex,context:t},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(t){for(var e in L.setOptions(this,t),this._modes)this._modes.hasOwnProperty(e)&&t.hasOwnProperty(e)&&this._modes[e].handler.setOptions(t[e])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(t){t.edit&&(void 0===t.edit.selectedPathOptions&&(t.edit.selectedPathOptions=this.options.edit.selectedPathOptions),t.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,t.edit.selectedPathOptions)),t.remove&&(t.remove=L.extend({},this.options.remove,t.remove)),t.poly&&(t.poly=L.extend({},this.options.poly,t.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,t),this._selectedFeatureCount=0},getModeHandlers:function(t){var e=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(t,{featureGroup:e,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(t,{featureGroup:e}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(t){var e=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return t.removeAllLayers&&e.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),e},addToolbar:function(t){var e=L.Toolbar.prototype.addToolbar.call(this,t);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),e},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var t,e=0!==this.options.featureGroup.getLayers().length;this.options.edit&&(t=this._modes[L.EditToolbar.Edit.TYPE].button,e?L.DomUtil.removeClass(t,"leaflet-disabled"):L.DomUtil.addClass(t,"leaflet-disabled"),t.setAttribute("title",e?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(t=this._modes[L.EditToolbar.Delete.TYPE].button,e?L.DomUtil.removeClass(t,"leaflet-disabled"):L.DomUtil.addClass(t,"leaflet-disabled"),t.setAttribute("title",e?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(t,e){if(L.Handler.prototype.initialize.call(this,t),L.setOptions(this,e),this._featureGroup=e.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(t.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),t._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer((function(t){this._revertLayer(t)}),this)},save:function(){var t=new L.LayerGroup;this._featureGroup.eachLayer((function(e){e.edited&&(t.addLayer(e),e.edited=!1)})),this._map.fire(L.Draw.Event.EDITED,{layers:t})},_backupLayer:function(t){var e=L.Util.stamp(t);this._uneditedLayerProps[e]||(t instanceof L.Polyline||t instanceof L.Polygon||t instanceof L.Rectangle?this._uneditedLayerProps[e]={latlngs:L.LatLngUtil.cloneLatLngs(t.getLatLngs())}:t instanceof L.Circle?this._uneditedLayerProps[e]={latlng:L.LatLngUtil.cloneLatLng(t.getLatLng()),radius:t.getRadius()}:(t instanceof L.Marker||t instanceof L.CircleMarker)&&(this._uneditedLayerProps[e]={latlng:L.LatLngUtil.cloneLatLng(t.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(t){var e=L.Util.stamp(t);t.edited=!1,this._uneditedLayerProps.hasOwnProperty(e)&&(t instanceof L.Polyline||t instanceof L.Polygon||t instanceof L.Rectangle?t.setLatLngs(this._uneditedLayerProps[e].latlngs):t instanceof L.Circle?(t.setLatLng(this._uneditedLayerProps[e].latlng),t.setRadius(this._uneditedLayerProps[e].radius)):(t instanceof L.Marker||t instanceof L.CircleMarker)&&t.setLatLng(this._uneditedLayerProps[e].latlng),t.fire("revert-edited",{layer:t}))},_enableLayerEdit:function(t){var e,n,i=t.layer||t.target||t;this._backupLayer(i),this.options.poly&&(n=L.Util.extend({},this.options.poly),i.options.poly=n),this.options.selectedPathOptions&&((e=L.Util.extend({},this.options.selectedPathOptions)).maintainColor&&(e.color=i.options.color,e.fillColor=i.options.fillColor),i.options.original=L.extend({},i.options),i.options.editing=e),i instanceof L.Marker?(i.editing&&i.editing.enable(),i.dragging.enable(),i.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):i.editing.enable()},_disableLayerEdit:function(t){var e=t.layer||t.target||t;e.edited=!1,e.editing&&e.editing.disable(),delete e.options.editing,delete e.options.original,this._selectedPathOptions&&(e instanceof L.Marker?this._toggleMarkerHighlight(e):(e.setStyle(e.options.previousOptions),delete e.options.previousOptions)),e instanceof L.Marker?(e.dragging.disable(),e.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):e.editing.disable()},_onMouseMove:function(t){this._tooltip.updatePosition(t.latlng)},_onMarkerDragEnd:function(t){var e=t.target;e.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:e})},_onTouchMove:function(t){var e=t.originalEvent.changedTouches[0],n=this._map.mouseEventToLayerPoint(e),i=this._map.layerPointToLatLng(n);t.target.setLatLng(i)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(t,e){if(L.Handler.prototype.initialize.call(this,t),L.Util.setOptions(this,e),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(t.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer((function(t){this._deletableLayers.addLayer(t),t.fire("revert-deleted",{layer:t})}),this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer((function(t){this._removeLayer({layer:t})}),this),this.save()},_enableLayerDelete:function(t){(t.layer||t.target||t).on("click",this._removeLayer,this)},_disableLayerDelete:function(t){var e=t.layer||t.target||t;e.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(e)},_removeLayer:function(t){var e=t.layer||t.target||t;this._deletableLayers.removeLayer(e),this._deletedLayers.addLayer(e),e.fire("deleted")},_onMouseMove:function(t){this._tooltip.updatePosition(t.latlng)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})},127:function(t,e,n){},128:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg=="},129:function(t,e,n){},130:function(t,e,n){(function(t){!function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};e[a][0].call(u.exports,(function(t){return r(e[a][1][t]||t)}),u,u.exports,t,e,n,i)}return n[a].exports}for(var o=!1,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,n,i){(function(t){var i,r,o="undefined"!=typeof window?window.L:void 0!==t?t.L:null;function a(t,e,n,i){e.split(" ").forEach((function(e){o.DomEvent.on(t,e,n,i)}))}function s(t,e,n,i){e.split(" ").forEach((function(e){o.DomEvent.off(t,e,n,i)}))}function l(t){return"oninput"in t?"input":"change"}function u(){i=this._map.dragging.enabled(),r=this._map.tap&&this._map.tap.enabled(),this._map.dragging.disable(),this._map.tap&&this._map.tap.disable()}function c(t){this._refocusOnMap(t),i&&this._map.dragging.enable(),r&&this._map.tap.enable()}function h(t){return"undefined"===t?[]:Array.isArray(t)?t:[t]}e("./layout.css"),e("./range.css"),o.Control.SideBySide=o.Control.extend({options:{thumbSize:42,padding:0},initialize:function(t,e,n){this.setLeftLayers(t),this.setRightLayers(e),o.setOptions(this,n)},getPosition:function(){var t=this._range.value,e=(.5-t)*(2*this.options.padding+this.options.thumbSize);return this._map.getSize().x*t+e},setPosition:function(){},includes:o.Evented.prototype||o.Mixin.Events,addTo:function(t){this.remove(),this._map=t;var e=this._container=o.DomUtil.create("div","leaflet-sbs",t._controlContainer);this._divider=o.DomUtil.create("div","leaflet-sbs-divider",e);var n=this._range=o.DomUtil.create("input","leaflet-sbs-range",e);return n.type="range",n.min=0,n.max=1,n.step="any",n.value=.5,n.style.paddingLeft=n.style.paddingRight=this.options.padding+"px",this._addEvents(),this._updateLayers(),this},getWrapper:function(t){return t.getContainer?t.getContainer():t.getPane()},remove:function(){return this._map?(this._leftLayer&&(this.getWrapper(this._leftLayer).style.clip=""),this._rightLayer&&(this.getWrapper(_rightLayer).style.clip=""),this._removeEvents(),o.DomUtil.remove(this._container),this._map=null,this):this},setLeftLayers:function(t){return this._leftLayers=h(t),this._updateLayers(),this},setRightLayers:function(t){return this._rightLayers=h(t),this._updateLayers(),this},_updateClip:function(){var t=this._map,e=t.containerPointToLayerPoint([0,0]),n=t.containerPointToLayerPoint(t.getSize()),i=e.x+this.getPosition(),r=this.getPosition();this._divider.style.left=r+"px",this.fire("dividermove",{x:r});var o="rect("+[e.y,i,n.y,e.x].join("px,")+"px)",a="rect("+[e.y,n.x,n.y,i].join("px,")+"px)";this._leftLayer&&(this.getWrapper(this._leftLayer).style.clip=o),this._rightLayer&&(this.getWrapper(this._rightLayer).style.clip=a)},_updateLayers:function(){if(!this._map)return this;var t=this._leftLayer,e=this._rightLayer;this._leftLayer=this._rightLayer=null,this._leftLayers.forEach((function(t){this._map.hasLayer(t)&&(this._leftLayer=t)}),this),this._rightLayers.forEach((function(t){this._map.hasLayer(t)&&(this._rightLayer=t)}),this),t!==this._leftLayer&&(t&&this.fire("leftlayerremove",{layer:t}),this._leftLayer&&this.fire("leftlayeradd",{layer:this._leftLayer})),e!==this._rightLayer&&(e&&this.fire("rightlayerremove",{layer:e}),this._rightLayer&&this.fire("rightlayeradd",{layer:this._rightLayer})),this._updateClip()},_addEvents:function(){var t=this._range,e=this._map;e&&t&&(e.on("move",this._updateClip,this),e.on("layeradd layerremove",this._updateLayers,this),a(t,l(t),this._updateClip,this),a(t,o.Browser.touch?"touchstart":"mousedown",u,this),a(t,o.Browser.touch?"touchend":"mouseup",c,this))},_removeEvents:function(){var t=this._range,e=this._map;t&&(s(t,l(t),this._updateClip,this),s(t,o.Browser.touch?"touchstart":"mousedown",u,this),s(t,o.Browser.touch?"touchend":"mouseup",c,this)),e&&(e.off("layeradd layerremove",this._updateLayers,this),e.off("move",this._updateClip,this))}}),o.control.sideBySide=function(t,e,n){return new o.Control.SideBySide(t,e,n)},n.exports=o.Control.SideBySide}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./layout.css":2,"./range.css":4}],2:[function(t,e,n){var i=".leaflet-sbs-range {\n    position: absolute;\n    top: 50%;\n    width: 100%;\n    z-index: 999;\n}\n.leaflet-sbs-divider {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 50%;\n    margin-left: -2px;\n    width: 4px;\n    background-color: #fff;\n    pointer-events: none;\n    z-index: 999;\n}\n";t("./node_modules/cssify")(i,void 0,"_20zv0m"),e.exports=i},{"./node_modules/cssify":3}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n){var i=e||document;if(i.createStyleSheet){var r=i.createStyleSheet();return r.cssText=t,r.ownerNode}return function(t,e,n){var i=t.getElementById(e);if(i)n(i);else{var r=t.getElementsByTagName("head")[0];i=t.createElement("style"),null!=e&&(i.id=e),n(i),r.appendChild(i)}return i}(i,n,(function(e){e.styleSheet?e.styleSheet.cssText=t:e.innerHTML=t}))},e.exports.byUrl=function(t){if(document.createStyleSheet)return document.createStyleSheet(t).ownerNode;var e=document.getElementsByTagName("head")[0],n=document.createElement("link");return n.rel="stylesheet",n.href=t,e.appendChild(n),n}},{}],4:[function(t,e,n){var i='.leaflet-sbs-range {\n    -webkit-appearance: none;\n    display: inline-block!important;\n    vertical-align: middle;\n    height: 0;\n    padding: 0;\n    margin: 0;\n    border: 0;\n    background: rgba(0, 0, 0, 0.25);\n    min-width: 100px;\n    cursor: pointer;\n    pointer-events: none;\n    z-index: 999;\n}\n.leaflet-sbs-range::-ms-fill-upper {\n    background: transparent;\n}\n.leaflet-sbs-range::-ms-fill-lower {\n    background: rgba(255, 255, 255, 0.25);\n}\n/* Browser thingies */\n\n.leaflet-sbs-range::-moz-range-track {\n    opacity: 0;\n}\n.leaflet-sbs-range::-ms-track {\n    opacity: 0;\n}\n.leaflet-sbs-range::-ms-tooltip {\n    display: none;\n}\n/* For whatever reason, these need to be defined\n * on their own so dont group them */\n\n.leaflet-sbs-range::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    margin: 0;\n    padding: 0;\n    background: #fff;\n    height: 40px;\n    width: 40px;\n    border-radius: 20px;\n    cursor: ew-resize;\n    pointer-events: auto;\n    border: 1px solid #ddd;\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABlBMVEV9fX3///+Kct39AAAAAnRSTlP/AOW3MEoAAAA9SURBVFjD7dehDQAwDANBZ/+l2wmKoiqR7pHRcaeaCxAIBAL/g7k9JxAIBAKBQCAQCAQC14H+MhAIBE4CD3fOFvGVBzhZAAAAAElFTkSuQmCC");\n    background-position: 50% 50%;\n    background-repeat: no-repeat;\n    background-size: 40px 40px;\n}\n.leaflet-sbs-range::-ms-thumb {\n    margin: 0;\n    padding: 0;\n    background: #fff;\n    height: 40px;\n    width: 40px;\n    border-radius: 20px;\n    cursor: ew-resize;\n    pointer-events: auto;\n    border: 1px solid #ddd;\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABlBMVEV9fX3///+Kct39AAAAAnRSTlP/AOW3MEoAAAA9SURBVFjD7dehDQAwDANBZ/+l2wmKoiqR7pHRcaeaCxAIBAL/g7k9JxAIBAKBQCAQCAQC14H+MhAIBE4CD3fOFvGVBzhZAAAAAElFTkSuQmCC");\n    background-position: 50% 50%;\n    background-repeat: no-repeat;\n    background-size: 40px 40px;\n}\n.leaflet-sbs-range::-moz-range-thumb {\n    padding: 0;\n    right: 0    ;\n    background: #fff;\n    height: 40px;\n    width: 40px;\n    border-radius: 20px;\n    cursor: ew-resize;\n    pointer-events: auto;\n    border: 1px solid #ddd;\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABlBMVEV9fX3///+Kct39AAAAAnRSTlP/AOW3MEoAAAA9SURBVFjD7dehDQAwDANBZ/+l2wmKoiqR7pHRcaeaCxAIBAL/g7k9JxAIBAKBQCAQCAQC14H+MhAIBE4CD3fOFvGVBzhZAAAAAElFTkSuQmCC");\n    background-position: 50% 50%;\n    background-repeat: no-repeat;\n    background-size: 40px 40px;\n}\n.leaflet-sbs-range:disabled::-moz-range-thumb {\n    cursor: default;\n}\n.leaflet-sbs-range:disabled::-ms-thumb {\n    cursor: default;\n}\n.leaflet-sbs-range:disabled::-webkit-slider-thumb {\n    cursor: default;\n}\n.leaflet-sbs-range:disabled {\n    cursor: default;\n}\n.leaflet-sbs-range:focus {\n    outline: none!important;\n}\n.leaflet-sbs-range::-moz-focus-outer {\n    border: 0;\n}\n\n';t("./node_modules/cssify")(i,void 0,"_nplvhf"),e.exports=i},{"./node_modules/cssify":3}]},{},[1])}).call(this,n(57))},131:function(t,e,n){"use strict";n.r(e);var i=n(0),r=n.n(i),o=n(1),a=n.n(o),s=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},l=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return s(e(t),n)}),{left:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}};var u=l(s),c=u.right,h=(u.left,c);var f=function(t,e){var n,i,r,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(i=r=n;++a<o;)null!=(n=t[a])&&(i>n&&(i=n),r<n&&(r=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(i=r=n;++a<o;)null!=(n=e(t[a],a,t))&&(i>n&&(i=n),r<n&&(r=n));return[i,r]},d=Array.prototype,p=(d.slice,d.map,function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o}),m=Math.sqrt(50),_=Math.sqrt(10),v=Math.sqrt(2),y=function(t,e,n){var i,r,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(a=g(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(r=Math.ceil(e-t+1));++s<r;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(r=Math.ceil(t-e+1));++s<r;)o[s]=(t-s)/a;return i&&o.reverse(),o};function g(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=m?10:o>=_?5:o>=v?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=m?10:o>=_?5:o>=v?2:1)}function b(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=m?r*=10:o>=_?r*=5:o>=v&&(r*=2),e<t?-r:r}var w=function(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n>=n)for(i=n;++o<r;)null!=(n=t[o])&&n>i&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&n>i&&(i=n);return i},x=function(t){for(var e,n,i,r=t.length,o=-1,a=0;++o<r;)a+=t[o].length;for(n=new Array(a);--r>=0;)for(e=(i=t[r]).length;--e>=0;)n[--a]=i[e];return n},L=function(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n>=n)for(i=n;++o<r;)null!=(n=t[o])&&i>n&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&i>n&&(i=n);return i};var k=Array.prototype.slice,E=function(t){return t};function M(t){return"translate("+(t+.5)+",0)"}function P(t){return"translate(0,"+(t+.5)+")"}function T(t){return function(e){return+t(e)}}function C(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function S(){return!this.__axis}function O(t,e){var n=[],i=null,r=null,o=6,a=6,s=3,l=1===t||4===t?-1:1,u=4===t||2===t?"x":"y",c=1===t||3===t?M:P;function h(h){var f=null==i?e.ticks?e.ticks.apply(e,n):e.domain():i,d=null==r?e.tickFormat?e.tickFormat.apply(e,n):E:r,p=Math.max(o,0)+s,m=e.range(),_=+m[0]+.5,v=+m[m.length-1]+.5,y=(e.bandwidth?C:T)(e.copy()),g=h.selection?h.selection():h,b=g.selectAll(".domain").data([null]),w=g.selectAll(".tick").data(f,e).order(),x=w.exit(),L=w.enter().append("g").attr("class","tick"),k=w.select("line"),M=w.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(L),k=k.merge(L.append("line").attr("stroke","currentColor").attr(u+"2",l*o)),M=M.merge(L.append("text").attr("fill","currentColor").attr(u,l*p).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==g&&(b=b.transition(h),w=w.transition(h),k=k.transition(h),M=M.transition(h),x=x.transition(h).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=y(t))?c(t):this.getAttribute("transform")})),L.attr("opacity",1e-6).attr("transform",(function(t){var e=this.parentNode.__axis;return c(e&&isFinite(e=e(t))?e:y(t))}))),x.remove(),b.attr("d",4===t||2==t?a?"M"+l*a+","+_+"H0.5V"+v+"H"+l*a:"M0.5,"+_+"V"+v:a?"M"+_+","+l*a+"V0.5H"+v+"V"+l*a:"M"+_+",0.5H"+v),w.attr("opacity",1).attr("transform",(function(t){return c(y(t))})),k.attr(u+"2",l*o),M.attr(u,l*p).text(d),g.filter(S).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),g.each((function(){this.__axis=y}))}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=k.call(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:k.call(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(i=null==t?null:k.call(t),h):i&&i.slice()},h.tickFormat=function(t){return arguments.length?(r=t,h):r},h.tickSize=function(t){return arguments.length?(o=a=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(s=+t,h):s},h}var A={value:function(){}};function D(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new R(i)}function R(t){this._=t}function z(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function j(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function I(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=A,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}R.prototype=D.prototype={constructor:R,on:function(t,e){var n,i=this._,r=z(t+"",i),o=-1,a=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=r[o]).type)i[n]=I(i[n],t.name,e);else if(null==e)for(n in i)i[n]=I(i[n],t.name,null);return this}for(;++o<a;)if((n=(t=r[o]).type)&&(n=j(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new R(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var N=D;function B(){}var U=function(t){return null==t?B:function(){return this.querySelector(t)}};function F(){return[]}var Z=function(t){return null==t?F:function(){return this.querySelectorAll(t)}},H=function(t){return function(){return this.matches(t)}},V=function(t){return new Array(t.length)};function G(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}G.prototype={constructor:G,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function W(t,e,n,i,r,o){for(var a,s=0,l=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):n[s]=new G(t,o[s]);for(;s<l;++s)(a=e[s])&&(r[s]=a)}function Y(t,e,n,i,r,o,a){var s,l,u,c={},h=e.length,f=o.length,d=new Array(h);for(s=0;s<h;++s)(l=e[s])&&(d[s]=u="$"+a.call(l,l.__data__,s,e),u in c?r[s]=l:c[u]=l);for(s=0;s<f;++s)(l=c[u="$"+a.call(t,o[s],s,o)])?(i[s]=l,l.__data__=o[s],c[u]=null):n[s]=new G(t,o[s]);for(s=0;s<h;++s)(l=e[s])&&c[d[s]]===l&&(r[s]=l)}function q(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var X="http://www.w3.org/1999/xhtml",K={svg:"http://www.w3.org/2000/svg",xhtml:X,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},J=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),K.hasOwnProperty(e)?{space:K[e],local:t}:t};function $(t){return function(){this.removeAttribute(t)}}function Q(t){return function(){this.removeAttributeNS(t.space,t.local)}}function tt(t,e){return function(){this.setAttribute(t,e)}}function et(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function nt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function it(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var rt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function ot(t){return function(){this.style.removeProperty(t)}}function at(t,e,n){return function(){this.style.setProperty(t,e,n)}}function st(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function lt(t,e){return t.style.getPropertyValue(e)||rt(t).getComputedStyle(t,null).getPropertyValue(e)}function ut(t){return function(){delete this[t]}}function ct(t,e){return function(){this[t]=e}}function ht(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function ft(t){return t.trim().split(/^|\s+/)}function dt(t){return t.classList||new pt(t)}function pt(t){this._node=t,this._names=ft(t.getAttribute("class")||"")}function mt(t,e){for(var n=dt(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function _t(t,e){for(var n=dt(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function vt(t){return function(){mt(this,t)}}function yt(t){return function(){_t(this,t)}}function gt(t,e){return function(){(e.apply(this,arguments)?mt:_t)(this,t)}}pt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function bt(){this.textContent=""}function wt(t){return function(){this.textContent=t}}function xt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Lt(){this.innerHTML=""}function kt(t){return function(){this.innerHTML=t}}function Et(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Mt(){this.nextSibling&&this.parentNode.appendChild(this)}function Pt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Tt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===X&&e.documentElement.namespaceURI===X?e.createElement(t):e.createElementNS(n,t)}}function Ct(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var St=function(t){var e=J(t);return(e.local?Ct:Tt)(e)};function Ot(){return null}function At(){var t=this.parentNode;t&&t.removeChild(this)}function Dt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Rt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var zt={},jt=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(zt={mouseenter:"mouseover",mouseleave:"mouseout"}));function It(t,e,n){return t=Nt(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Nt(t,e,n){return function(i){var r=jt;jt=i;try{t.call(this,this.__data__,e,n)}finally{jt=r}}}function Bt(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Ut(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function Ft(t,e,n){var i=zt.hasOwnProperty(t.type)?It:Nt;return function(r,o,a){var s,l=this.__on,u=i(e,o,a);if(l)for(var c=0,h=l.length;c<h;++c)if((s=l[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=n),void(s.value=e);this.addEventListener(t.type,u,n),s={type:t.type,name:t.name,value:e,listener:u,capture:n},l?l.push(s):this.__on=[s]}}function Zt(t,e,n,i){var r=jt;t.sourceEvent=jt,jt=t;try{return e.apply(n,i)}finally{jt=r}}function Ht(t,e,n){var i=rt(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function Vt(t,e){return function(){return Ht(this,t,e)}}function Gt(t,e){return function(){return Ht(this,t,e.apply(this,arguments))}}var Wt=[null];function Yt(t,e){this._groups=t,this._parents=e}function qt(){return new Yt([[document.documentElement]],Wt)}Yt.prototype=qt.prototype={constructor:Yt,select:function(t){"function"!=typeof t&&(t=U(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a,s=e[r],l=s.length,u=i[r]=new Array(l),c=0;c<l;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),u[c]=a);return new Yt(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Z(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,u=0;u<l;++u)(a=s[u])&&(i.push(t.call(a,a.__data__,u,s)),r.push(a));return new Yt(i,r)},filter:function(t){"function"!=typeof t&&(t=H(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,l=i[r]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&l.push(o);return new Yt(i,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),c=-1,this.each((function(t){p[++c]=t})),p;var n,i=e?Y:W,r=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),u=new Array(a),c=0;c<a;++c){var h=r[c],f=o[c],d=f.length,p=t.call(h,h&&h.__data__,c,r),m=p.length,_=l[c]=new Array(m),v=s[c]=new Array(m);i(h,f,_,v,u[c]=new Array(d),p,e);for(var y,g,b=0,w=0;b<m;++b)if(y=_[b]){for(b>=w&&(w=b+1);!(g=v[w])&&++w<m;);y._next=g||null}}return(s=new Yt(s,r))._enter=l,s._exit=u,s},enter:function(){return new Yt(this._enter||this._groups.map(V),this._parents)},exit:function(){return new Yt(this._exit||this._groups.map(V),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,o=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=e&&(r=e(r)),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var l,u=e[s],c=n[s],h=u.length,f=a[s]=new Array(h),d=0;d<h;++d)(l=u[d]||c[d])&&(f[d]=l);for(;s<i;++s)a[s]=e[s];return new Yt(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&4^i.compareDocumentPosition(a)&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=q);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var a,s=n[o],l=s.length,u=r[o]=new Array(l),c=0;c<l;++c)(a=s[c])&&(u[c]=a);u.sort(e)}return new Yt(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],a=0,s=o.length;a<s;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this},attr:function(t,e){var n=J(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?Q:$:"function"==typeof e?n.local?it:nt:n.local?et:tt)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?ot:"function"==typeof e?st:at)(t,e,null==n?"":n)):lt(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?ut:"function"==typeof e?ht:ct)(t,e)):this.node()[t]},classed:function(t,e){var n=ft(t+"");if(arguments.length<2){for(var i=dt(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?gt:e?vt:yt)(n,e))},text:function(t){return arguments.length?this.each(null==t?bt:("function"==typeof t?xt:wt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Lt:("function"==typeof t?Et:kt)(t)):this.node().innerHTML},raise:function(){return this.each(Mt)},lower:function(){return this.each(Pt)},append:function(t){var e="function"==typeof t?t:St(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:St(t),i=null==e?Ot:"function"==typeof e?e:U(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(At)},clone:function(t){return this.select(t?Rt:Dt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,o=Bt(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Ft:Ut,null==n&&(n=!1),i=0;i<a;++i)this.each(s(o[i],e,n));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(i=0,l=s[u];i<a;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Gt:Vt)(t,e))}};var Xt=qt,Kt=function(t){return"string"==typeof t?new Yt([[document.querySelector(t)]],[document.documentElement]):new Yt([[t]],Wt)};function Jt(){jt.stopImmediatePropagation()}var $t=function(){jt.preventDefault(),jt.stopImmediatePropagation()},Qt=function(t){var e=t.document.documentElement,n=Kt(t).on("dragstart.drag",$t,!0);"onselectstart"in e?n.on("selectstart.drag",$t,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function te(t,e){var n=t.document.documentElement,i=Kt(t).on("dragstart.drag",null);e&&(i.on("click.drag",$t,!0),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var ee=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function ne(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function ie(){}var re="\\s*([+-]?\\d+)\\s*",oe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ae="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",se=/^#([0-9a-f]{3,8})$/,le=new RegExp("^rgb\\("+[re,re,re]+"\\)$"),ue=new RegExp("^rgb\\("+[ae,ae,ae]+"\\)$"),ce=new RegExp("^rgba\\("+[re,re,re,oe]+"\\)$"),he=new RegExp("^rgba\\("+[ae,ae,ae,oe]+"\\)$"),fe=new RegExp("^hsl\\("+[oe,ae,ae]+"\\)$"),de=new RegExp("^hsla\\("+[oe,ae,ae,oe]+"\\)$"),pe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function me(){return this.rgb().formatHex()}function _e(){return this.rgb().formatRgb()}function ve(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=se.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?ye(e):3===n?new xe(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?new xe(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?new xe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=le.exec(t))?new xe(e[1],e[2],e[3],1):(e=ue.exec(t))?new xe(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ce.exec(t))?ge(e[1],e[2],e[3],e[4]):(e=he.exec(t))?ge(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=fe.exec(t))?Me(e[1],e[2]/100,e[3]/100,1):(e=de.exec(t))?Me(e[1],e[2]/100,e[3]/100,e[4]):pe.hasOwnProperty(t)?ye(pe[t]):"transparent"===t?new xe(NaN,NaN,NaN,0):null}function ye(t){return new xe(t>>16&255,t>>8&255,255&t,1)}function ge(t,e,n,i){return i<=0&&(t=e=n=NaN),new xe(t,e,n,i)}function be(t){return t instanceof ie||(t=ve(t)),t?new xe((t=t.rgb()).r,t.g,t.b,t.opacity):new xe}function we(t,e,n,i){return 1===arguments.length?be(t):new xe(t,e,n,null==i?1:i)}function xe(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Le(){return"#"+Ee(this.r)+Ee(this.g)+Ee(this.b)}function ke(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ee(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Me(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Te(t,e,n,i)}function Pe(t){if(t instanceof Te)return new Te(t.h,t.s,t.l,t.opacity);if(t instanceof ie||(t=ve(t)),!t)return new Te;if(t instanceof Te)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,s=o-r,l=(o+r)/2;return s?(a=e===o?(n-i)/s+6*(n<i):n===o?(i-e)/s+2:(e-n)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=l>0&&l<1?0:a,new Te(a,s,l,t.opacity)}function Te(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Ce(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Se(t,e,n,i,r){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*i+a*r)/6}ee(ie,ve,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:me,formatHex:me,formatHsl:function(){return Pe(this).formatHsl()},formatRgb:_e,toString:_e}),ee(xe,we,ne(ie,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new xe(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new xe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Le,formatHex:Le,formatRgb:ke,toString:ke})),ee(Te,(function(t,e,n,i){return 1===arguments.length?Pe(t):new Te(t,e,n,null==i?1:i)}),ne(ie,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Te(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Te(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new xe(Ce(t>=240?t-240:t+120,r,i),Ce(t,r,i),Ce(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Oe=function(t){return function(){return t}};function Ae(t,e){return function(n){return t+n*e}}function De(t){return 1==(t=+t)?Re:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):Oe(isNaN(e)?n:e)}}function Re(t,e){var n=e-t;return n?Ae(t,n):Oe(isNaN(t)?e:t)}var ze=function t(e){var n=De(e);function i(t,e){var i=n((t=we(t)).r,(e=we(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),a=Re(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=a(e),t+""}}return i.gamma=t,i}(1);function je(t){return function(e){var n,i,r=e.length,o=new Array(r),a=new Array(r),s=new Array(r);for(n=0;n<r;++n)i=we(e[n]),o[n]=i.r||0,a[n]=i.g||0,s[n]=i.b||0;return o=t(o),a=t(a),s=t(s),i.opacity=1,function(t){return i.r=o(t),i.g=a(t),i.b=s(t),i+""}}}je((function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1],a=i>0?t[i-1]:2*r-o,s=i<e-1?t[i+2]:2*o-r;return Se((n-i/e)*e,a,r,o,s)}})),je((function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],o=t[i%e],a=t[(i+1)%e],s=t[(i+2)%e];return Se((n-i/e)*e,r,o,a,s)}}));var Ie=function(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(o){for(n=0;n<i;++n)r[n]=t[n]*(1-o)+e[n]*o;return r}};function Ne(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Be(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),a=new Array(i);for(n=0;n<r;++n)o[n]=qe(t[n],e[n]);for(;n<i;++n)a[n]=e[n];return function(t){for(n=0;n<r;++n)a[n]=o[n](t);return a}}var Ue=function(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}},Fe=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},Ze=function(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=qe(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},He=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ve=new RegExp(He.source,"g");var Ge,We,Ye=function(t,e){var n,i,r,o=He.lastIndex=Ve.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=He.exec(t))&&(i=Ve.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Fe(n,i)})),o=Ve.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)s[(n=l[i]).i]=n.x(t);return s.join("")})},qe=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?Oe(e):("number"===i?Fe:"string"===i?(n=ve(e))?(e=n,ze):Ye:e instanceof ve?ze:e instanceof Date?Ue:Ne(e)?Ie:Array.isArray(e)?Be:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Ze:Fe)(t,e)},Xe=function(){for(var t,e=jt;t=e.sourceEvent;)e=t;return e},Ke=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]},Je=function(t,e,n){arguments.length<3&&(n=e,e=Xe().changedTouches);for(var i,r=0,o=e?e.length:0;r<o;++r)if((i=e[r]).identifier===n)return Ke(t,i);return null},$e=function(t){var e=Xe();return e.changedTouches&&(e=e.changedTouches[0]),Ke(t,e)},Qe=0,tn=0,en=0,nn=0,rn=0,on=0,an="object"==typeof performance&&performance.now?performance:Date,sn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ln(){return rn||(sn(un),rn=an.now()+on)}function un(){rn=0}function cn(){this._call=this._time=this._next=null}function hn(t,e,n){var i=new cn;return i.restart(t,e,n),i}function fn(){rn=(nn=an.now())+on,Qe=tn=0;try{!function(){ln(),++Qe;for(var t,e=Ge;e;)(t=rn-e._time)>=0&&e._call.call(null,t),e=e._next;--Qe}()}finally{Qe=0,function(){var t,e,n=Ge,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ge=e);We=t,pn(i)}(),rn=0}}function dn(){var t=an.now(),e=t-nn;e>1e3&&(on-=e,nn=t)}function pn(t){Qe||(tn&&(tn=clearTimeout(tn)),t-rn>24?(t<1/0&&(tn=setTimeout(fn,t-an.now()-on)),en&&(en=clearInterval(en))):(en||(nn=an.now(),en=setInterval(dn,1e3)),Qe=1,sn(fn)))}cn.prototype=hn.prototype={constructor:cn,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?ln():+n)+(null==e?0:+e),this._next||We===this||(We?We._next=this:Ge=this,We=this),this._call=t,this._time=n,pn()},stop:function(){this._call&&(this._call=null,this._time=1/0,pn())}};var mn=function(t,e,n){var i=new cn;return e=null==e?0:+e,i.restart((function(n){i.stop(),t(n+e)}),e,n),i},_n=N("start","end","cancel","interrupt"),vn=[],yn=function(t,e,n,i,r,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function o(l){var u,c,h,f;if(1!==n.state)return s();for(u in r)if((f=r[u]).name===n.name){if(3===f.state)return mn(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete r[u]):+u<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete r[u])}if(mn((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(h=n.tween.length),u=0,c=-1;u<h;++u)(f=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=f);i.length=c+1}}function a(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=i.length;++o<a;)i[o].call(t,r);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var i in n.state=6,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=hn((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:i,group:r,on:_n,tween:vn,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function gn(t,e){var n=wn(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function bn(t,e){var n=wn(t,e);if(n.state>3)throw new Error("too late; already running");return n}function wn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var xn,Ln,kn,En,Mn=function(t,e){var n,i,r,o=t.__transition,a=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[r]):a=!1;a&&delete t.__transition}},Pn=180/Math.PI,Tn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Cn=function(t,e,n,i,r,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),t*i<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*Pn,skewX:Math.atan(l)*Pn,scaleX:a,scaleY:s}};function Sn(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(t,i,r,o,a,s){if(t!==r||i!==o){var l=a.push("translate(",null,e,null,n);s.push({i:l-4,x:Fe(t,r)},{i:l-2,x:Fe(i,o)})}else(r||o)&&a.push("translate("+r+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:Fe(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(o.rotate,a.rotate,s,l),function(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:Fe(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(o.skewX,a.skewX,s,l),function(t,e,n,i,o,a){if(t!==n||e!==i){var s=o.push(r(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Fe(t,n)},{i:s-2,x:Fe(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(t){for(var e,n=-1,i=l.length;++n<i;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var On=Sn((function(t){return"none"===t?Tn:(xn||(xn=document.createElement("DIV"),Ln=document.documentElement,kn=document.defaultView),xn.style.transform=t,t=kn.getComputedStyle(Ln.appendChild(xn),null).getPropertyValue("transform"),Ln.removeChild(xn),t=t.slice(7,-1).split(","),Cn(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),An=Sn((function(t){return null==t?Tn:(En||(En=document.createElementNS("http://www.w3.org/2000/svg","g")),En.setAttribute("transform",t),(t=En.transform.baseVal.consolidate())?(t=t.matrix,Cn(t.a,t.b,t.c,t.d,t.e,t.f)):Tn)}),", ",")",")");function Dn(t,e){var n,i;return function(){var r=bn(this,t),o=r.tween;if(o!==n)for(var a=0,s=(i=n=o).length;a<s;++a)if(i[a].name===e){(i=i.slice()).splice(a,1);break}r.tween=i}}function Rn(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=bn(this,t),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:e,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===e){r[l]=s;break}l===u&&r.push(s)}o.tween=r}}function zn(t,e,n){var i=t._id;return t.each((function(){var t=bn(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return wn(t,i).value[e]}}var jn=function(t,e){var n;return("number"==typeof e?Fe:e instanceof ve?ze:(n=ve(e))?(e=n,ze):Ye)(t,e)};function In(t){return function(){this.removeAttribute(t)}}function Nn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Bn(t,e,n){var i,r,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===i?r:r=e(i=a,n)}}function Un(t,e,n){var i,r,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===i?r:r=e(i=a,n)}}function Fn(t,e,n){var i,r,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===i&&s===r?o:(r=s,o=e(i=a,l));this.removeAttribute(t)}}function Zn(t,e,n){var i,r,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===i&&s===r?o:(r=s,o=e(i=a,l));this.removeAttributeNS(t.space,t.local)}}function Hn(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Vn(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Gn(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Vn(t,r)),n}return r._value=e,r}function Wn(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Hn(t,r)),n}return r._value=e,r}function Yn(t,e){return function(){gn(this,t).delay=+e.apply(this,arguments)}}function qn(t,e){return e=+e,function(){gn(this,t).delay=e}}function Xn(t,e){return function(){bn(this,t).duration=+e.apply(this,arguments)}}function Kn(t,e){return e=+e,function(){bn(this,t).duration=e}}function Jn(t,e){if("function"!=typeof e)throw new Error;return function(){bn(this,t).ease=e}}function $n(t,e,n){var i,r,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?gn:bn;return function(){var a=o(this,t),s=a.on;s!==i&&(r=(i=s).copy()).on(e,n),a.on=r}}var Qn=Xt.prototype.constructor;function ti(t){return function(){this.style.removeProperty(t)}}function ei(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function ni(t,e,n){var i,r;function o(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&ei(t,o,n)),i}return o._value=e,o}function ii(t){return function(e){this.textContent=t.call(this,e)}}function ri(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&ii(i)),e}return i._value=t,i}var oi=0;function ai(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function si(){return++oi}var li=Xt.prototype;ai.prototype=function(t){return Xt().transition(t)}.prototype={constructor:ai,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=U(t));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s,l,u=i[a],c=u.length,h=o[a]=new Array(c),f=0;f<c;++f)(s=u[f])&&(l=t.call(s,s.__data__,f,u))&&("__data__"in s&&(l.__data__=s.__data__),h[f]=l,yn(h[f],e,n,f,h,wn(s,n)));return new ai(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Z(t));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var l,u=i[s],c=u.length,h=0;h<c;++h)if(l=u[h]){for(var f,d=t.call(l,l.__data__,h,u),p=wn(l,n),m=0,_=d.length;m<_;++m)(f=d[m])&&yn(f,e,n,m,d,p);o.push(d),a.push(l)}return new ai(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=H(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,l=i[r]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&l.push(o);return new ai(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var l,u=e[s],c=n[s],h=u.length,f=a[s]=new Array(h),d=0;d<h;++d)(l=u[d]||c[d])&&(f[d]=l);for(;s<i;++s)a[s]=e[s];return new ai(a,this._parents,this._name,this._id)},selection:function(){return new Qn(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=si(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,u=0;u<l;++u)if(a=s[u]){var c=wn(a,e);yn(a,t,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ai(i,this._parents,t,n)},call:li.call,nodes:li.nodes,node:li.node,size:li.size,empty:li.empty,each:li.each,on:function(t,e){var n=this._id;return arguments.length<2?wn(this.node(),n).on.on(t):this.each($n(n,t,e))},attr:function(t,e){var n=J(t),i="transform"===n?An:jn;return this.attrTween(t,"function"==typeof e?(n.local?Zn:Fn)(n,i,zn(this,"attr."+t,e)):null==e?(n.local?Nn:In)(n):(n.local?Un:Bn)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=J(t);return this.tween(n,(i.local?Gn:Wn)(i,e))},style:function(t,e,n){var i="transform"==(t+="")?On:jn;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var o=lt(this,t),a=(this.style.removeProperty(t),lt(this,t));return o===a?null:o===n&&a===i?r:r=e(n=o,i=a)}}(t,i)).on("end.style."+t,ti(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,r,o;return function(){var a=lt(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=lt(this,t)),a===l?null:a===i&&l===r?o:(r=l,o=e(i=a,s))}}(t,i,zn(this,"style."+t,e))).each(function(t,e){var n,i,r,o,a="style."+e,s="end."+a;return function(){var l=bn(this,t),u=l.on,c=null==l.value[a]?o||(o=ti(e)):void 0;u===n&&r===c||(i=(n=u).copy()).on(s,r=c),l.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,r,o=n+"";return function(){var a=lt(this,t);return a===o?null:a===i?r:r=e(i=a,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,ni(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(zn(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,ri(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=wn(this.node(),n).tween,o=0,a=r.length;o<a;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?Dn:Rn)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Yn:qn)(e,t)):wn(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Xn:Kn)(e,t)):wn(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Jn(e,t)):wn(this.node(),e).ease},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--r&&o()}};n.each((function(){var n=bn(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e}))}))}};var ui={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function ci(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return ui.time=ln(),ui;return n}Xt.prototype.interrupt=function(t){return this.each((function(){Mn(this,t)}))},Xt.prototype.transition=function(t){var e,n;t instanceof ai?(e=t._id,t=t._name):(e=si(),(n=ui).time=ln(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,u=0;u<l;++u)(a=s[u])&&yn(a,t,e,u,s,n||ci(a,e));return new ai(i,this._parents,t,e)};function hi(t){return[+t[0],+t[1]]}function fi(t){return[hi(t[0]),hi(t[1])]}["w","e"].map(di),["n","s"].map(di),["n","w","e","s","nw","ne","sw","se"].map(di);function di(t){return{type:t}}Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;var pi=Math.PI,mi=2*pi,_i=mi-1e-6;function vi(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function yi(){return new vi}vi.prototype=yi.prototype={constructor:vi,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var o=this._x1,a=this._y1,s=n-t,l=i-e,u=o-t,c=a-e,h=u*u+c*c;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(c*s-l*u)>1e-6&&r){var f=n-o,d=i-a,p=s*s+l*l,m=f*f+d*d,_=Math.sqrt(p),v=Math.sqrt(h),y=r*Math.tan((pi-Math.acos((p+h-m)/(2*_*v)))/2),g=y/v,b=y/_;Math.abs(g-1)>1e-6&&(this._+="L"+(t+g*u)+","+(e+g*c)),this._+="A"+r+","+r+",0,0,"+ +(c*f>u*d)+","+(this._x1=t+b*s)+","+(this._y1=e+b*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,i,r,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(i),s=n*Math.sin(i),l=t+a,u=e+s,c=1^o,h=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+l+","+u),n&&(h<0&&(h=h%mi+mi),h>_i?this._+="A"+n+","+n+",0,1,"+c+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=pi)+","+c+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var gi=yi;function bi(){}function wi(t,e){var n=new bi;if(t instanceof bi)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var i,r=-1,o=t.length;if(null==e)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e(i=t[r],r,t),i)}else if(t)for(var a in t)n.set(a,t[a]);return n}bi.prototype=wi.prototype={constructor:bi,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var xi=wi;function Li(){}var ki=xi.prototype;function Ei(t,e){var n=new Li;if(t instanceof Li)t.each((function(t){n.add(t)}));else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}Li.prototype=Ei.prototype={constructor:Li,has:ki.has,add:function(t){return this["$"+(t+="")]=t,this},remove:ki.remove,clear:ki.clear,values:ki.keys,size:ki.size,empty:ki.empty,each:ki.each};Array.prototype.slice;var Mi=function(t){return function(){return t}};function Pi(t,e,n,i,r,o,a,s,l,u){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=a,this.dx=s,this.dy=l,this._=u}function Ti(){return!jt.ctrlKey&&!jt.button}function Ci(){return this.parentNode}function Si(t){return null==t?{x:jt.x,y:jt.y}:t}function Oi(){return navigator.maxTouchPoints||"ontouchstart"in this}Pi.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Ai=function(){var t,e,n,i,r=Ti,o=Ci,a=Si,s=Oi,l={},u=N("start","drag","end"),c=0,h=0;function f(t){t.on("mousedown.drag",d).filter(s).on("touchstart.drag",_).on("touchmove.drag",v).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!i&&r.apply(this,arguments)){var a=g("mouse",o.apply(this,arguments),$e,this,arguments);a&&(Kt(jt.view).on("mousemove.drag",p,!0).on("mouseup.drag",m,!0),Qt(jt.view),Jt(),n=!1,t=jt.clientX,e=jt.clientY,a("start"))}}function p(){if($t(),!n){var i=jt.clientX-t,r=jt.clientY-e;n=i*i+r*r>h}l.mouse("drag")}function m(){Kt(jt.view).on("mousemove.drag mouseup.drag",null),te(jt.view,n),$t(),l.mouse("end")}function _(){if(r.apply(this,arguments)){var t,e,n=jt.changedTouches,i=o.apply(this,arguments),a=n.length;for(t=0;t<a;++t)(e=g(n[t].identifier,i,Je,this,arguments))&&(Jt(),e("start"))}}function v(){var t,e,n=jt.changedTouches,i=n.length;for(t=0;t<i;++t)(e=l[n[t].identifier])&&($t(),e("drag"))}function y(){var t,e,n=jt.changedTouches,r=n.length;for(i&&clearTimeout(i),i=setTimeout((function(){i=null}),500),t=0;t<r;++t)(e=l[n[t].identifier])&&(Jt(),e("end"))}function g(t,e,n,i,r){var o,s,h,d=n(e,t),p=u.copy();if(Zt(new Pi(f,"beforestart",o,t,c,d[0],d[1],0,0,p),(function(){return null!=(jt.subject=o=a.apply(i,r))&&(s=o.x-d[0]||0,h=o.y-d[1]||0,!0)})))return function a(u){var m,_=d;switch(u){case"start":l[t]=a,m=c++;break;case"end":delete l[t],--c;case"drag":d=n(e,t),m=c}Zt(new Pi(f,u,o,t,m,d[0]+s,d[1]+h,d[0]-_[0],d[1]-_[1],p),p.apply,p,[u,i,r])}}return f.filter=function(t){return arguments.length?(r="function"==typeof t?t:Mi(!!t),f):r},f.container=function(t){return arguments.length?(o="function"==typeof t?t:Mi(t),f):o},f.subject=function(t){return arguments.length?(a="function"==typeof t?t:Mi(t),f):a},f.touchable=function(t){return arguments.length?(s="function"==typeof t?t:Mi(!!t),f):s},f.on=function(){var t=u.on.apply(u,arguments);return t===u?f:t},f.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,f):Math.sqrt(h)},f};var Di={},Ri={};function zi(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function ji(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var i in t)i in e||n.push(e[i]=i)})),n}function Ii(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}function Ni(t){var e,n=t.getUTCHours(),i=t.getUTCMinutes(),r=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+Ii(-e,6):e>9999?"+"+Ii(e,6):Ii(e,4))+"-"+Ii(t.getUTCMonth()+1,2)+"-"+Ii(t.getUTCDate(),2)+(o?"T"+Ii(n,2)+":"+Ii(i,2)+":"+Ii(r,2)+"."+Ii(o,3)+"Z":r?"T"+Ii(n,2)+":"+Ii(i,2)+":"+Ii(r,2)+"Z":i||n?"T"+Ii(n,2)+":"+Ii(i,2)+"Z":"")}var Bi=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function i(t,e){var i,r=[],o=t.length,a=0,s=0,l=o<=0,u=!1;function c(){if(l)return Ri;if(u)return u=!1,Di;var e,i,r=a;if(34===t.charCodeAt(r)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?l=!0:10===(i=t.charCodeAt(a++))?u=!0:13===i&&(u=!0,10===t.charCodeAt(a)&&++a),t.slice(r+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(i=t.charCodeAt(e=a++)))u=!0;else if(13===i)u=!0,10===t.charCodeAt(a)&&++a;else if(i!==n)continue;return t.slice(r,e)}return l=!0,t.slice(r,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(i=c())!==Ri;){for(var h=[];i!==Di&&i!==Ri;)h.push(i),i=c();e&&null==(h=e(h,s++))||r.push(h)}return r}function r(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?Ni(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,r,o=i(t,(function(t,i){if(n)return n(t,i-1);r=t,n=e?function(t,e){var n=zi(t);return function(i,r){return e(n(i),r,t)}}(t,e):zi(t)}));return o.columns=r||[],o},parseRows:i,format:function(e,n){return null==n&&(n=ji(e)),[n.map(a).join(t)].concat(r(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=ji(t)),r(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}},Ui=Bi(","),Fi=Ui.parse,Zi=(Ui.parseRows,Ui.format,Ui.formatBody,Ui.formatRows,Ui.formatRow,Ui.formatValue,Bi("\t")),Hi=Zi.parse;Zi.parseRows,Zi.format,Zi.formatBody,Zi.formatRows,Zi.formatRow,Zi.formatValue;function Vi(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var Gi=function(t,e){return fetch(t,e).then(Vi)};function Wi(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=void 0),Gi(e,n).then((function(e){return t(e,i)}))}}Wi(Fi),Wi(Hi);function Yi(t){return function(e,n){return Gi(e,n).then((function(e){return(new DOMParser).parseFromString(e,t)}))}}Yi("application/xml"),Yi("text/html"),Yi("image/svg+xml");function qi(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,a,s,l,u,c,h,f,d=t._root,p={data:i},m=t._x0,_=t._y0,v=t._x1,y=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((u=e>=(o=(m+v)/2))?m=o:v=o,(c=n>=(a=(_+y)/2))?_=a:y=a,r=d,!(d=d[h=c<<1|u]))return r[h]=p,t;if(s=+t._x.call(null,d.data),l=+t._y.call(null,d.data),e===s&&n===l)return p.next=d,r?r[h]=p:t._root=p,t;do{r=r?r[h]=new Array(4):t._root=new Array(4),(u=e>=(o=(m+v)/2))?m=o:v=o,(c=n>=(a=(_+y)/2))?_=a:y=a}while((h=c<<1|u)==(f=(l>=a)<<1|s>=o));return r[f]=d,r[h]=p,t}var Xi=function(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r};function Ki(t){return t[0]}function Ji(t){return t[1]}function $i(t,e,n){var i=new Qi(null==e?Ki:e,null==n?Ji:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function Qi(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function tr(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var er=$i.prototype=Qi.prototype;er.copy=function(){var t,e,n=new Qi(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=tr(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=tr(e));return n},er.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return qi(this.cover(e,n),e,n,t)},er.addAll=function(t){var e,n,i,r,o=t.length,a=new Array(o),s=new Array(o),l=1/0,u=1/0,c=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(a[n]=i,s[n]=r,i<l&&(l=i),i>c&&(c=i),r<u&&(u=r),r>h&&(h=r));if(l>c||u>h)return this;for(this.cover(l,u).cover(c,h),n=0;n<o;++n)qi(this,a[n],s[n],t[n]);return this},er.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{for(var a,s,l=r-n,u=this._root;n>t||t>=r||i>e||e>=o;)switch(s=(e<i)<<1|t<n,(a=new Array(4))[s]=u,u=a,l*=2,s){case 0:r=n+l,o=i+l;break;case 1:n=r-l,o=i+l;break;case 2:r=n+l,i=o-l;break;case 3:n=r-l,i=o-l}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},er.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},er.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},er.find=function(t,e,n){var i,r,o,a,s,l,u,c=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],m=this._root;for(m&&p.push(new Xi(m,c,h,f,d)),null==n?n=1/0:(c=t-n,h=e-n,f=t+n,d=e+n,n*=n);l=p.pop();)if(!(!(m=l.node)||(r=l.x0)>f||(o=l.y0)>d||(a=l.x1)<c||(s=l.y1)<h))if(m.length){var _=(r+a)/2,v=(o+s)/2;p.push(new Xi(m[3],_,v,a,s),new Xi(m[2],r,v,_,s),new Xi(m[1],_,o,a,v),new Xi(m[0],r,o,_,v)),(u=(e>=v)<<1|t>=_)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=l)}else{var y=t-+this._x.call(null,m.data),g=e-+this._y.call(null,m.data),b=y*y+g*g;if(b<n){var w=Math.sqrt(n=b);c=t-w,h=e-w,f=t+w,d=e+w,i=m.data}}return i},er.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,i,r,o,a,s,l,u,c,h,f,d=this._root,p=this._x0,m=this._y0,_=this._x1,v=this._y1;if(!d)return this;if(d.length)for(;;){if((u=o>=(s=(p+_)/2))?p=s:_=s,(c=a>=(l=(m+v)/2))?m=l:v=l,e=d,!(d=d[h=c<<1|u]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(i=d,!(d=d.next))return this;return(r=d.next)&&delete d.next,i?(r?i.next=r:delete i.next,this):e?(r?e[h]=r:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=r,this)},er.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},er.root=function(){return this._root},er.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},er.visit=function(t){var e,n,i,r,o,a,s=[],l=this._root;for(l&&s.push(new Xi(l,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(l=e.node,i=e.x0,r=e.y0,o=e.x1,a=e.y1)&&l.length){var u=(i+o)/2,c=(r+a)/2;(n=l[3])&&s.push(new Xi(n,u,c,o,a)),(n=l[2])&&s.push(new Xi(n,i,c,u,a)),(n=l[1])&&s.push(new Xi(n,u,r,o,c)),(n=l[0])&&s.push(new Xi(n,i,r,u,c))}return this},er.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new Xi(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var o,a=e.x0,s=e.y0,l=e.x1,u=e.y1,c=(a+l)/2,h=(s+u)/2;(o=r[0])&&n.push(new Xi(o,a,s,c,h)),(o=r[1])&&n.push(new Xi(o,c,s,l,h)),(o=r[2])&&n.push(new Xi(o,a,h,c,u)),(o=r[3])&&n.push(new Xi(o,c,h,l,u))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},er.x=function(t){return arguments.length?(this._x=t,this):this._x},er.y=function(t){return arguments.length?(this._y=t,this):this._y};Math.PI,Math.sqrt(5);var nr=function(){return Math.random()},ir=(function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(nr),function t(e){function n(t,n){var i,r;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=i)o=i,i=null;else do{i=2*e()-1,o=2*e()-1,r=i*i+o*o}while(!r||r>1);return t+n*o*Math.sqrt(-2*Math.log(r)/r)}}return n.source=t,n}(nr)),rr=(function t(e){function n(){var t=ir.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(nr),function t(e){function n(t){return function(){for(var n=0,i=0;i<t;++i)n+=e();return n}}return n.source=t,n}(nr));(function t(e){function n(t){var n=rr.source(e)(t);return function(){return n()/t}}return n.source=t,n})(nr),function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(nr);function or(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var ar=Array.prototype,sr=ar.map,lr=ar.slice,ur={name:"implicit"};function cr(){var t=xi(),e=[],n=[],i=ur;function r(r){var o=r+"",a=t.get(o);if(!a){if(i!==ur)return i;t.set(o,a=e.push(r))}return n[(a-1)%n.length]}return r.domain=function(n){if(!arguments.length)return e.slice();e=[],t=xi();for(var i,o,a=-1,s=n.length;++a<s;)t.has(o=(i=n[a])+"")||t.set(o,e.push(i));return r},r.range=function(t){return arguments.length?(n=lr.call(t),r):n.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return cr(e,n).unknown(i)},or.apply(r,arguments),r}function hr(){var t,e,n=cr().unknown(void 0),i=n.domain,r=n.range,o=[0,1],a=!1,s=0,l=0,u=.5;function c(){var n=i().length,c=o[1]<o[0],h=o[c-0],f=o[1-c];t=(f-h)/Math.max(1,n-s+2*l),a&&(t=Math.floor(t)),h+=(f-h-t*(n-s))*u,e=t*(1-s),a&&(h=Math.round(h),e=Math.round(e));var d=p(n).map((function(e){return h+t*e}));return r(c?d.reverse():d)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),c()):i()},n.range=function(t){return arguments.length?(o=[+t[0],+t[1]],c()):o.slice()},n.rangeRound=function(t){return o=[+t[0],+t[1]],a=!0,c()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,c()):a},n.padding=function(t){return arguments.length?(s=Math.min(1,l=+t),c()):s},n.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),c()):s},n.paddingOuter=function(t){return arguments.length?(l=+t,c()):l},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),c()):u},n.copy=function(){return hr(i(),o).round(a).paddingInner(s).paddingOuter(l).align(u)},or.apply(c(),arguments)}var fr=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}},dr=function(t){return+t},pr=[0,1];function mr(t){return t}function _r(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function vr(t){var e,n=t[0],i=t[t.length-1];return n>i&&(e=n,n=i,i=e),function(t){return Math.max(n,Math.min(i,t))}}function yr(t,e,n){var i=t[0],r=t[1],o=e[0],a=e[1];return r<i?(i=_r(r,i),o=n(a,o)):(i=_r(i,r),o=n(o,a)),function(t){return o(i(t))}}function gr(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),o=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=_r(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=h(t,e,1,i)-1;return o[n](r[n](e))}}function br(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function wr(){var t,e,n,i,r,o,a=pr,s=pr,l=qe,u=mr;function c(){return i=Math.min(a.length,s.length)>2?gr:yr,r=o=null,h}function h(e){return isNaN(e=+e)?n:(r||(r=i(a.map(t),s,l)))(t(u(e)))}return h.invert=function(n){return u(e((o||(o=i(s,a.map(t),Fe)))(n)))},h.domain=function(t){return arguments.length?(a=sr.call(t,dr),u===mr||(u=vr(a)),c()):a.slice()},h.range=function(t){return arguments.length?(s=lr.call(t),c()):s.slice()},h.rangeRound=function(t){return s=lr.call(t),l=fr,c()},h.clamp=function(t){return arguments.length?(u=t?vr(a):mr,h):u!==mr},h.interpolate=function(t){return arguments.length?(l=t,c()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,i){return t=n,e=i,c()}}function xr(t,e){return wr()(t,e)}var Lr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kr(t){if(!(e=Lr.exec(t)))throw new Error("invalid format: "+t);var e;return new Er({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Er(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}kr.prototype=Er.prototype,Er.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Mr,Pr,Tr,Cr,Sr=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]},Or=function(t){return(t=Sr(Math.abs(t)))?t[1]:NaN},Ar=function(t,e){var n=Sr(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},Dr={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Ar(100*t,e)},r:Ar,s:function(t,e){var n=Sr(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(Mr=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Sr(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Rr=function(t){return t},zr=Array.prototype.map,jr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];Pr=function(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?Rr:(e=zr.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var r=t.length,o=[],a=0,s=e[0],l=0;r>0&&s>0&&(l+s+1>i&&(s=Math.max(1,i-l)),o.push(t.substring(r-=s,r+s)),!((l+=s+1)>i));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Rr:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(zr.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=kr(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,m=t.comma,_=t.precision,v=t.trim,y=t.type;"n"===y?(m=!0,y="g"):Dr[y]||(void 0===_&&(_=12),v=!0,y="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var g="$"===f?r:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===f?o:/[%p]/.test(y)?l:"",w=Dr[y],x=/[defgprs%]/.test(y);function L(t){var r,o,l,f=g,L=b;if("c"===y)L=w(t)+L,t="";else{var k=(t=+t)<0;if(t=isNaN(t)?c:w(Math.abs(t),_),v&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),k&&0==+t&&(k=!1),f=(k?"("===h?h:u:"-"===h||"("===h?"":h)+f,L=("s"===y?jr[8+Mr/3]:"")+L+(k&&"("===h?")":""),x)for(r=-1,o=t.length;++r<o;)if(48>(l=t.charCodeAt(r))||l>57){L=(46===l?a+t.slice(r+1):t.slice(r))+L,t=t.slice(0,r);break}}m&&!d&&(t=i(t,1/0));var E=f.length+t.length+L.length,M=E<p?new Array(p-E+1).join(e):"";switch(m&&d&&(t=i(M+t,M.length?p-L.length:1/0),M=""),n){case"<":t=f+t+L+M;break;case"=":t=f+M+t+L;break;case"^":t=M.slice(0,E=M.length>>1)+f+t+L+M.slice(E);break;default:t=M+f+t+L}return s(t)}return _=void 0===_?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_)),L.toString=function(){return t+""},L}return{format:h,formatPrefix:function(t,e){var n=h(((t=kr(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Or(e)/3))),r=Math.pow(10,-i),o=jr[8+i/3];return function(t){return n(r*t)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Tr=Pr.format,Cr=Pr.formatPrefix;var Ir=function(t,e,n,i){var r,o=b(t,e,n);switch((i=kr(null==i?",f":i)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Or(e)/3)))-Or(Math.abs(t)))}(o,a))||(i.precision=r),Cr(i,a);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Or(e)-Or(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-Or(Math.abs(t)))}(o))||(i.precision=r-2*("%"===i.type))}return Tr(i)};function Nr(t){var e=t.domain;return t.ticks=function(t){var n=e();return y(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return Ir(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r=e(),o=0,a=r.length-1,s=r[o],l=r[a];return l<s&&(i=s,s=l,l=i,i=o,o=a,a=i),(i=g(s,l,n))>0?i=g(s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i,n):i<0&&(i=g(s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i,n)),i>0?(r[o]=Math.floor(s/i)*i,r[a]=Math.ceil(l/i)*i,e(r)):i<0&&(r[o]=Math.ceil(s*i)/i,r[a]=Math.floor(l*i)/i,e(r)),t},t}function Br(){var t=xr(mr,mr);return t.copy=function(){return br(t,Br())},or.apply(t,arguments),Nr(t)}var Ur=function(t,e){var n,i=0,r=(t=t.slice()).length-1,o=t[i],a=t[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t};var Fr=new Date,Zr=new Date;function Hr(t,e,n,i){function r(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return r.floor=function(e){return t(e=new Date(+e)),e},r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,o){var a,s=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<i);return s},r.filter=function(n){return Hr((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););}))},n&&(r.count=function(e,i){return Fr.setTime(+e),Zr.setTime(+i),t(Fr),t(Zr),Math.floor(n(Fr,Zr))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t==0}:function(e){return r.count(0,e)%t==0}):r:null}),r}var Vr=Hr((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Vr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Hr((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Gr=Vr,Wr=(Vr.range,Hr((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),Yr=Wr;Wr.range;function qr(t){return Hr((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var Xr=qr(0),Kr=qr(1),Jr=qr(2),$r=qr(3),Qr=qr(4),to=qr(5),eo=qr(6),no=(Xr.range,Kr.range,Jr.range,$r.range,Qr.range,to.range,eo.range,Hr((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}))),io=no,ro=(no.range,Hr((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()}))),oo=ro,ao=(ro.range,Hr((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()}))),so=ao,lo=(ao.range,Hr((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()}))),uo=lo,co=(lo.range,Hr((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t})));co.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Hr((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):co:null};var ho=co;co.range;function fo(t){return Hr((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var po=fo(0),mo=fo(1),_o=fo(2),vo=fo(3),yo=fo(4),go=fo(5),bo=fo(6),wo=(po.range,mo.range,_o.range,vo.range,yo.range,go.range,bo.range,Hr((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}))),xo=wo,Lo=(wo.range,Hr((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));Lo.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Hr((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var ko=Lo;Lo.range;function Eo(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Mo(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Po(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var To,Co,So={"-":"",_:" ",0:"0"},Oo=/^\s*\d+/,Ao=/^%/,Do=/[\\^$*+?|[\]().{}]/g;function Ro(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function zo(t){return t.replace(Do,"\\$&")}function jo(t){return new RegExp("^(?:"+t.map(zo).join("|")+")","i")}function Io(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function No(t,e,n){var i=Oo.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Bo(t,e,n){var i=Oo.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function Uo(t,e,n){var i=Oo.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function Fo(t,e,n){var i=Oo.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function Zo(t,e,n){var i=Oo.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function Ho(t,e,n){var i=Oo.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Vo(t,e,n){var i=Oo.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Go(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Wo(t,e,n){var i=Oo.exec(e.slice(n,n+1));return i?(t.q=3*i[0]-3,n+i[0].length):-1}function Yo(t,e,n){var i=Oo.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function qo(t,e,n){var i=Oo.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Xo(t,e,n){var i=Oo.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function Ko(t,e,n){var i=Oo.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function Jo(t,e,n){var i=Oo.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function $o(t,e,n){var i=Oo.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function Qo(t,e,n){var i=Oo.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function ta(t,e,n){var i=Oo.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function ea(t,e,n){var i=Ao.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function na(t,e,n){var i=Oo.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function ia(t,e,n){var i=Oo.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function ra(t,e){return Ro(t.getDate(),e,2)}function oa(t,e){return Ro(t.getHours(),e,2)}function aa(t,e){return Ro(t.getHours()%12||12,e,2)}function sa(t,e){return Ro(1+io.count(Gr(t),t),e,3)}function la(t,e){return Ro(t.getMilliseconds(),e,3)}function ua(t,e){return la(t,e)+"000"}function ca(t,e){return Ro(t.getMonth()+1,e,2)}function ha(t,e){return Ro(t.getMinutes(),e,2)}function fa(t,e){return Ro(t.getSeconds(),e,2)}function da(t){var e=t.getDay();return 0===e?7:e}function pa(t,e){return Ro(Xr.count(Gr(t)-1,t),e,2)}function ma(t,e){var n=t.getDay();return t=n>=4||0===n?Qr(t):Qr.ceil(t),Ro(Qr.count(Gr(t),t)+(4===Gr(t).getDay()),e,2)}function _a(t){return t.getDay()}function va(t,e){return Ro(Kr.count(Gr(t)-1,t),e,2)}function ya(t,e){return Ro(t.getFullYear()%100,e,2)}function ga(t,e){return Ro(t.getFullYear()%1e4,e,4)}function ba(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ro(e/60|0,"0",2)+Ro(e%60,"0",2)}function wa(t,e){return Ro(t.getUTCDate(),e,2)}function xa(t,e){return Ro(t.getUTCHours(),e,2)}function La(t,e){return Ro(t.getUTCHours()%12||12,e,2)}function ka(t,e){return Ro(1+xo.count(ko(t),t),e,3)}function Ea(t,e){return Ro(t.getUTCMilliseconds(),e,3)}function Ma(t,e){return Ea(t,e)+"000"}function Pa(t,e){return Ro(t.getUTCMonth()+1,e,2)}function Ta(t,e){return Ro(t.getUTCMinutes(),e,2)}function Ca(t,e){return Ro(t.getUTCSeconds(),e,2)}function Sa(t){var e=t.getUTCDay();return 0===e?7:e}function Oa(t,e){return Ro(po.count(ko(t)-1,t),e,2)}function Aa(t,e){var n=t.getUTCDay();return t=n>=4||0===n?yo(t):yo.ceil(t),Ro(yo.count(ko(t),t)+(4===ko(t).getUTCDay()),e,2)}function Da(t){return t.getUTCDay()}function Ra(t,e){return Ro(mo.count(ko(t)-1,t),e,2)}function za(t,e){return Ro(t.getUTCFullYear()%100,e,2)}function ja(t,e){return Ro(t.getUTCFullYear()%1e4,e,4)}function Ia(){return"+0000"}function Na(){return"%"}function Ba(t){return+t}function Ua(t){return Math.floor(+t/1e3)}!function(t){To=function(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=jo(r),c=Io(r),h=jo(o),f=Io(o),d=jo(a),p=Io(a),m=jo(s),_=Io(s),v=jo(l),y=Io(l),g={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:ra,e:ra,f:ua,H:oa,I:aa,j:sa,L:la,m:ca,M:ha,p:function(t){return r[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Ba,s:Ua,S:fa,u:da,U:pa,V:ma,w:_a,W:va,x:null,X:null,y:ya,Y:ga,Z:ba,"%":Na},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:wa,e:wa,f:Ma,H:xa,I:La,j:ka,L:Ea,m:Pa,M:Ta,p:function(t){return r[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Ba,s:Ua,S:Ca,u:Sa,U:Oa,V:Aa,w:Da,W:Ra,x:null,X:null,y:za,Y:ja,Z:Ia,"%":Na},w={a:function(t,e,n){var i=d.exec(e.slice(n));return i?(t.w=p[i[0].toLowerCase()],n+i[0].length):-1},A:function(t,e,n){var i=h.exec(e.slice(n));return i?(t.w=f[i[0].toLowerCase()],n+i[0].length):-1},b:function(t,e,n){var i=v.exec(e.slice(n));return i?(t.m=y[i[0].toLowerCase()],n+i[0].length):-1},B:function(t,e,n){var i=m.exec(e.slice(n));return i?(t.m=_[i[0].toLowerCase()],n+i[0].length):-1},c:function(t,n,i){return k(t,e,n,i)},d:qo,e:qo,f:ta,H:Ko,I:Ko,j:Xo,L:Qo,m:Yo,M:Jo,p:function(t,e,n){var i=u.exec(e.slice(n));return i?(t.p=c[i[0].toLowerCase()],n+i[0].length):-1},q:Wo,Q:na,s:ia,S:$o,u:Bo,U:Uo,V:Fo,w:No,W:Zo,x:function(t,e,i){return k(t,n,e,i)},X:function(t,e,n){return k(t,i,e,n)},y:Vo,Y:Ho,Z:Go,"%":ea};function x(t,e){return function(n){var i,r,o,a=[],s=-1,l=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(r=So[i=t.charAt(++s)])?i=t.charAt(++s):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),a.push(i),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function L(t,e){return function(n){var i,r,o=Po(1900,void 0,1);if(k(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(!e||"Z"in o||(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(i=Mo(Po(o.y,0,1))).getUTCDay(),i=r>4||0===r?mo.ceil(i):mo(i),i=xo.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(r=(i=Eo(Po(o.y,0,1))).getDay(),i=r>4||0===r?Kr.ceil(i):Kr(i),i=io.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?Mo(Po(o.y,0,1)).getUTCDay():Eo(Po(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Mo(o)):Eo(o)}}function k(t,e,n,i){for(var r,o,a=0,s=e.length,l=n.length;a<s;){if(i>=l)return-1;if(37===(r=e.charCodeAt(a++))){if(r=e.charAt(a++),!(o=w[r in So?e.charAt(a++):r])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return(g.x=x(n,g),g.X=x(i,g),g.c=x(e,g),b.x=x(n,b),b.X=x(i,b),b.c=x(e,b),{format:function(t){var e=x(t+="",g);return e.toString=function(){return t},e},parse:function(t){var e=L(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=L(t+="",!0);return e.toString=function(){return t},e}})}(t),Co=To.format,To.parse,To.utcFormat,To.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Fa(t){return new Date(t)}function Za(t){return t instanceof Date?+t:+new Date(+t)}function Ha(t,e,n,i,r,o,a,s,u){var c=xr(mr,mr),h=c.invert,f=c.domain,d=u(".%L"),p=u(":%S"),m=u("%I:%M"),_=u("%I %p"),v=u("%a %d"),y=u("%b %d"),g=u("%B"),w=u("%Y"),x=[[a,1,1e3],[a,5,5e3],[a,15,15e3],[a,30,3e4],[o,1,6e4],[o,5,3e5],[o,15,9e5],[o,30,18e5],[r,1,36e5],[r,3,108e5],[r,6,216e5],[r,12,432e5],[i,1,864e5],[i,2,1728e5],[n,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,31536e6]];function L(s){return(a(s)<s?d:o(s)<s?p:r(s)<s?m:i(s)<s?_:e(s)<s?n(s)<s?v:y:t(s)<s?g:w)(s)}function k(e,n,i,r){if(null==e&&(e=10),"number"==typeof e){var o=Math.abs(i-n)/e,a=l((function(t){return t[2]})).right(x,o);a===x.length?(r=b(n/31536e6,i/31536e6,e),e=t):a?(r=(a=x[o/x[a-1][2]<x[a][2]/o?a-1:a])[1],e=a[0]):(r=Math.max(b(n,i,e),1),e=s)}return null==r?e:e.every(r)}return c.invert=function(t){return new Date(h(t))},c.domain=function(t){return arguments.length?f(sr.call(t,Za)):f().map(Fa)},c.ticks=function(t,e){var n,i=f(),r=i[0],o=i[i.length-1],a=o<r;return a&&(n=r,r=o,o=n),n=(n=k(t,r,o,e))?n.range(r,o+1):[],a?n.reverse():n},c.tickFormat=function(t,e){return null==e?L:u(e)},c.nice=function(t,e){var n=f();return(t=k(t,n[0],n[n.length-1],e))?f(Ur(n,t)):c},c.copy=function(){return br(c,Ha(t,e,n,i,r,o,a,s,u))},c}var Va=Hr((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),Ga=(Va.range,Hr((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()}))),Wa=(Ga.range,Hr((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()})));Wa.range;var Ya=Math.PI/180,qa=180/Math.PI,Xa=-.14861,Ka=1.78277,Ja=-.29227,$a=-.90649,Qa=1.97294*$a,ts=1.97294*Ka,es=Ka*Ja-$a*Xa;function ns(t){if(t instanceof rs)return new rs(t.h,t.s,t.l,t.opacity);t instanceof xe||(t=be(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(es*i+Qa*e-ts*n)/(es+Qa-ts),o=i-r,a=(1.97294*(n-r)-Ja*o)/$a,s=Math.sqrt(a*a+o*o)/(1.97294*r*(1-r)),l=s?Math.atan2(a,o)*qa-120:NaN;return new rs(l<0?l+360:l,s,r,t.opacity)}function is(t,e,n,i){return 1===arguments.length?ns(t):new rs(t,e,n,null==i?1:i)}function rs(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function os(t){return function e(n){function i(e,i){var r=t((e=is(e)).h,(i=is(i)).h),o=Re(e.s,i.s),a=Re(e.l,i.l),s=Re(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,i.gamma=e,i}(1)}ee(rs,is,ne(ie,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new rs(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new rs(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Ya,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new xe(255*(e+n*(Xa*i+Ka*r)),255*(e+n*(Ja*i+$a*r)),255*(e+n*(1.97294*i)),this.opacity)}}));os((function(t,e){var n=e-t;return n?Ae(t,n>180||n<-180?n-360*Math.round(n/360):n):Oe(isNaN(t)?e:t)}));var as=os(Re),ss=as(is(-100,.75,.35),is(80,1.5,.8)),ls=as(is(260,.75,.35),is(80,1.5,.8)),us=is(),cs=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return us.h=360*t-100,us.s=1.5-1.5*e,us.l=.8-.9*e,us+""},hs=function(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(6*i,6*++i);return n};function fs(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var ds=fs(hs("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),ps=(fs(hs("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),fs(hs("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"))),ms=(fs(hs("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),function(t){return function(){return t}});function _s(t){this._context=t}_s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var vs=function(t){return new _s(t)};function ys(t){return t[0]}function gs(t){return t[1]}var bs=function(){var t=ys,e=gs,n=ms(!0),i=null,r=vs,o=null;function a(a){var s,l,u,c=a.length,h=!1;for(null==i&&(o=r(u=gi())),s=0;s<=c;++s)!(s<c&&n(l=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(l,s,a),+e(l,s,a));if(u)return o=null,u+""||null}return a.x=function(e){return arguments.length?(t="function"==typeof e?e:ms(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:ms(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:ms(!!t),a):n},a.curve=function(t){return arguments.length?(r=t,null!=i&&(o=r(i)),a):r},a.context=function(t){return arguments.length?(null==t?i=o=null:o=r(i=t),a):i},a};function ws(){this._=null}function xs(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ls(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function ks(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function Es(t){for(;t.L;)t=t.L;return t}ws.prototype={constructor:ws,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Es(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(Ls(this,n),n=(t=n).U),n.C=!1,i.C=!0,ks(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(ks(this,n),n=(t=n).U),n.C=!1,i.C=!0,Ls(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,a=t.R;if(n=o?a?Es(a):o:a,r?r.L===t?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=a,a.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,Ls(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ks(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,Ls(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,ks(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ls(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,ks(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var Ms=ws;function Ps(t,e,n,i){var r=[null,null],o=Js.push(r)-1;return r.left=t,r.right=e,n&&Cs(r,t,e,n),i&&Cs(r,e,t,i),Xs[t.index].halfedges.push(o),Xs[e.index].halfedges.push(o),r}function Ts(t,e,n){var i=[e,n];return i.left=t,i}function Cs(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function Ss(t,e,n,i,r){var o,a=t[0],s=t[1],l=a[0],u=a[1],c=0,h=1,f=s[0]-l,d=s[1]-u;if(o=e-l,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=i-l,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}if(o=n-u,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>c&&(c=o)}if(o=r-u,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(t[0]=[l+c*f,u+c*d]),h<1&&(t[1]=[l+h*f,u+h*d]),!0)}}}}}function Os(t,e,n,i,r){var o=t[1];if(o)return!0;var a,s,l=t[0],u=t.left,c=t.right,h=u[0],f=u[1],d=c[0],p=c[1],m=(h+d)/2,_=(f+p)/2;if(p===f){if(m<e||m>=i)return;if(h>d){if(l){if(l[1]>=r)return}else l=[m,n];o=[m,r]}else{if(l){if(l[1]<n)return}else l=[m,r];o=[m,n]}}else if(s=_-(a=(h-d)/(p-f))*m,a<-1||a>1)if(h>d){if(l){if(l[1]>=r)return}else l=[(n-s)/a,n];o=[(r-s)/a,r]}else{if(l){if(l[1]<n)return}else l=[(r-s)/a,r];o=[(n-s)/a,n]}else if(f<p){if(l){if(l[0]>=i)return}else l=[e,a*e+s];o=[i,a*i+s]}else{if(l){if(l[0]<e)return}else l=[i,a*i+s];o=[e,a*e+s]}return t[0]=l,t[1]=o,!0}function As(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function Ds(t,e){return e[+(e.left!==t.site)]}function Rs(t,e){return e[+(e.left===t.site)]}var zs,js=[];function Is(){xs(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ns(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var a=r[0],s=r[1],l=i[0]-a,u=i[1]-s,c=o[0]-a,h=o[1]-s,f=2*(l*h-u*c);if(!(f>=-Qs)){var d=l*l+u*u,p=c*c+h*h,m=(h*d-u*p)/f,_=(l*p-c*d)/f,v=js.pop()||new Is;v.arc=t,v.site=r,v.x=m+a,v.y=(v.cy=_+s)+Math.sqrt(m*m+_*_),t.circle=v;for(var y=null,g=Ks._;g;)if(v.y<g.y||v.y===g.y&&v.x<=g.x){if(!g.L){y=g.P;break}g=g.L}else{if(!g.R){y=g;break}g=g.R}Ks.insert(y,v),y||(zs=v)}}}}function Bs(t){var e=t.circle;e&&(e.P||(zs=e.N),Ks.remove(e),js.push(e),xs(e),t.circle=null)}var Us=[];function Fs(){xs(this),this.edge=this.site=this.circle=null}function Zs(t){var e=Us.pop()||new Fs;return e.site=t,e}function Hs(t){Bs(t),qs.remove(t),Us.push(t),xs(t)}function Vs(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],o=t.P,a=t.N,s=[t];Hs(t);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<$s&&Math.abs(i-l.circle.cy)<$s;)o=l.P,s.unshift(l),Hs(l),l=o;s.unshift(l),Bs(l);for(var u=a;u.circle&&Math.abs(n-u.circle.x)<$s&&Math.abs(i-u.circle.cy)<$s;)a=u.N,s.push(u),Hs(u),u=a;s.push(u),Bs(u);var c,h=s.length;for(c=1;c<h;++c)u=s[c],l=s[c-1],Cs(u.edge,l.site,u.site,r);l=s[0],(u=s[h-1]).edge=Ps(l.site,u.site,null,r),Ns(l),Ns(u)}function Gs(t){for(var e,n,i,r,o=t[0],a=t[1],s=qs._;s;)if((i=Ws(s,a)-o)>$s)s=s.L;else{if(!((r=o-Ys(s,a))>$s)){i>-$s?(e=s.P,n=s):r>-$s?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){Xs[t.index]={site:t,halfedges:[]}}(t);var l=Zs(t);if(qs.insert(e,l),e||n){if(e===n)return Bs(e),n=Zs(e.site),qs.insert(l,n),l.edge=n.edge=Ps(e.site,l.site),Ns(e),void Ns(n);if(n){Bs(e),Bs(n);var u=e.site,c=u[0],h=u[1],f=t[0]-c,d=t[1]-h,p=n.site,m=p[0]-c,_=p[1]-h,v=2*(f*_-d*m),y=f*f+d*d,g=m*m+_*_,b=[(_*y-d*g)/v+c,(f*g-m*y)/v+h];Cs(n.edge,u,p,b),l.edge=Ps(u,t,null,b),n.edge=Ps(t,p,null,b),Ns(e),Ns(n)}else l.edge=Ps(e.site,l.site)}}function Ws(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],l=n[1],u=l-e;if(!u)return s;var c=s-i,h=1/o-1/u,f=c/u;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*u)-l+u/2+r-o/2)))/h+i:(i+s)/2}function Ys(t,e){var n=t.N;if(n)return Ws(n,e);var i=t.site;return i[1]===e?i[0]:1/0}var qs,Xs,Ks,Js,$s=1e-6,Qs=1e-12;function tl(t,e){return e[1]-t[1]||e[0]-t[0]}function el(t,e){var n,i,r,o=t.sort(tl).pop();for(Js=[],Xs=new Array(t.length),qs=new Ms,Ks=new Ms;;)if(r=zs,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===n&&o[1]===i||(Gs(o),n=o[0],i=o[1]),o=t.pop();else{if(!r)break;Vs(r.arc)}if(function(){for(var t,e,n,i,r=0,o=Xs.length;r<o;++r)if((t=Xs[r])&&(i=(e=t.halfedges).length)){var a=new Array(i),s=new Array(i);for(n=0;n<i;++n)a[n]=n,s[n]=As(t,Js[e[n]]);for(a.sort((function(t,e){return s[e]-s[t]})),n=0;n<i;++n)s[n]=e[a[n]];for(n=0;n<i;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],l=+e[1][0],u=+e[1][1];!function(t,e,n,i){for(var r,o=Js.length;o--;)Os(r=Js[o],t,e,n,i)&&Ss(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>$s||Math.abs(r[0][1]-r[1][1])>$s)||delete Js[o]}(a,s,l,u),function(t,e,n,i){var r,o,a,s,l,u,c,h,f,d,p,m,_=Xs.length,v=!0;for(r=0;r<_;++r)if(o=Xs[r]){for(a=o.site,s=(l=o.halfedges).length;s--;)Js[l[s]]||l.splice(s,1);for(s=0,u=l.length;s<u;)p=(d=Rs(o,Js[l[s]]))[0],m=d[1],h=(c=Ds(o,Js[l[++s%u]]))[0],f=c[1],(Math.abs(p-h)>$s||Math.abs(m-f)>$s)&&(l.splice(s,0,Js.push(Ts(a,d,Math.abs(p-t)<$s&&i-m>$s?[t,Math.abs(h-t)<$s?f:i]:Math.abs(m-i)<$s&&n-p>$s?[Math.abs(f-i)<$s?h:n,i]:Math.abs(p-n)<$s&&m-e>$s?[n,Math.abs(h-n)<$s?f:e]:Math.abs(m-e)<$s&&p-t>$s?[Math.abs(f-e)<$s?h:t,e]:null))-1),++u);u&&(v=!1)}if(v){var y,g,b,w=1/0;for(r=0,v=null;r<_;++r)(o=Xs[r])&&(b=(y=(a=o.site)[0]-t)*y+(g=a[1]-e)*g)<w&&(w=b,v=o);if(v){var x=[t,e],L=[t,i],k=[n,i],E=[n,e];v.halfedges.push(Js.push(Ts(a=v.site,x,L))-1,Js.push(Ts(a,L,k))-1,Js.push(Ts(a,k,E))-1,Js.push(Ts(a,E,x))-1)}}for(r=0;r<_;++r)(o=Xs[r])&&(o.halfedges.length||delete Xs[r])}(a,s,l,u)}this.edges=Js,this.cells=Xs,qs=Ks=Js=Xs=null}el.prototype={constructor:el,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return Ds(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,i){if(o=(r=n.halfedges).length)for(var r,o,a,s,l,u,c=n.site,h=-1,f=e[r[o-1]],d=f.left===c?f.right:f.left;++h<o;)a=d,d=(f=e[r[h]]).left===c?f.right:f.left,a&&d&&i<a.index&&i<d.index&&(l=a,u=d,((s=c)[0]-u[0])*(l[1]-s[1])-(s[0]-l[0])*(u[1]-s[1])<0)&&t.push([c.data,a.data,d.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var i,r,o=this,a=o._found||0,s=o.cells.length;!(r=o.cells[a]);)if(++a>=s)return null;var l=t-r.site[0],u=e-r.site[1],c=l*l+u*u;do{r=o.cells[i=a],a=null,r.halfedges.forEach((function(n){var i=o.edges[n],s=i.left;if(s!==r.site&&s||(s=i.right)){var l=t-s[0],u=e-s[1],h=l*l+u*u;h<c&&(c=h,a=s.index)}}))}while(null!==a);return o._found=i,null==n||c<=n*n?r.site:null}};var nl=Math.SQRT2;function il(t){return((t=Math.exp(t))+1/t)/2}var rl=function(t,e){var n,i,r=t[0],o=t[1],a=t[2],s=e[0],l=e[1],u=e[2],c=s-r,h=l-o,f=c*c+h*h;if(f<1e-12)i=Math.log(u/a)/nl,n=function(t){return[r+t*c,o+t*h,a*Math.exp(nl*t*i)]};else{var d=Math.sqrt(f),p=(u*u-a*a+4*f)/(2*a*2*d),m=(u*u-a*a-4*f)/(2*u*2*d),_=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(m*m+1)-m);i=(v-_)/nl,n=function(t){var e,n=t*i,s=il(_),l=a/(2*d)*(s*(e=nl*n+_,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(_));return[r+l*c,o+l*h,a*s/il(nl*n+_)]}}return n.duration=1e3*i,n},ol=function(t){return function(){return t}};function al(t,e,n){this.target=t,this.type=e,this.transform=n}function sl(t,e,n){this.k=t,this.x=e,this.y=n}sl.prototype={constructor:sl,scale:function(t){return 1===t?this:new sl(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new sl(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ll=new sl(1,0,0);function ul(){jt.stopImmediatePropagation()}sl.prototype;var cl=function(){jt.preventDefault(),jt.stopImmediatePropagation()};function hl(){return!jt.ctrlKey&&!jt.button}function fl(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function dl(){return this.__zoom||ll}function pl(){return-jt.deltaY*(1===jt.deltaMode?.05:jt.deltaMode?1:.002)}function ml(){return navigator.maxTouchPoints||"ontouchstart"in this}function _l(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function vl(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var yl=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events={}}var e,n,i;return e=t,(n=[{key:"on",value:function(t,e){if(!t)throw new Error("No event name provided");if(!e)throw new Error("No handler provided");this.events[t]||(this.events[t]=[]),this.events[t].push(e)}},{key:"emit",value:function(t,e){if(!t)throw new Error("No event name provided");var n=this.events[t];n&&n.forEach((function(t){return t(e)}))}},{key:"off",value:function(t,e){if(!t)throw new Error("No event name provided");if(!e)throw new Error("No handler provided");this.events[t]&&(this.events[t]=this.events[t].filter((function(t){return t!==e})))}}])&&vl(e.prototype,n),i&&vl(e,i),t}();function gl(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var bl=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.eventBus=new yl}var e,n,i;return e=t,(n=[{key:"on",value:function(t,e){this.eventBus.on(t,e)}},{key:"emit",value:function(t,e){this.eventBus.emit(t,e)}},{key:"off",value:function(t,e){this.eventBus.off(t,e)}}])&&gl(e.prototype,n),i&&gl(e,i),t}();function wl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xl(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Ll=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};wl(this,t),this.validate(e),this.parentElement=e.parentElement,this.width=e.width?e.width:200,this.height=e.height?e.height:100,this.position=e.position?e.position:{x:0,y:0},this.data=[]}var e,n,i;return e=t,(n=[{key:"validate",value:function(t){if(!t.parentElement)throw new Error("Parent element not provided")}},{key:"loadData",value:function(t){this.data=t,this.container&&this.renderLegend()}},{key:"render",value:function(){this.renderContainer(),this.renderLegend()}},{key:"renderContainer",value:function(){this.container=this.parentElement.append("g").attr("id","g_legend").attr("transform","translate(".concat(this.position.x,",").concat(this.position.y,")"))}},{key:"renderLegend",value:function(){this._renderColourBoxes(),this._renderLegendLabels()}},{key:"_renderColourBoxes",value:function(){var t=this.container.selectAll("rect.colorBox").data(this.data);t.exit().remove(),t.enter().append("rect").attr("class","colorBox").attr("width",13.5).attr("height",13.5).attr("x",9).attr("y",(function(t,e){return 9+22*e})).merge(t).attr("fill",(function(t){return t.box.colour})).attr("stroke",(function(t){return t.box.stroke})).attr("fill-opacity",(function(t){return t.box.fillOpacity}))}},{key:"_renderLegendLabels",value:function(){var t=this.container.selectAll("text.legendLabel").data(this.data);t.exit().remove(),t.data(this.data).enter().append("text").attr("class","legendLabel").attr("x",36).attr("y",(function(t,e){return 22*(e+1)})).attr("font-size",20).merge(t).text((function(t){return t.label})).exit().remove()}}])&&xl(e.prototype,n),i&&xl(e,i),t}();function kl(t){return(kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function El(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ml(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pl(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Tl(t,e){return!e||"object"!==kl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Cl(t){return(Cl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Sl(t,e){return(Sl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ol=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ml(this,e),(t=Tl(this,Cl(e).call(this))).validate(n),t.parentElement=n.parentElement,t.width=n.width?n.width:100,t.height=n.height?n.height:100,t.position=n.position?n.position:{x:0,y:0},t.maxHorizontalValue=10,t.notePosition=t.height+40,t.data={name:"",positive:[],negative:[],labels:[]},t.SIGMA_LETTER="σ",t.NEGATIVE_BARS_COLOR="#34A037",t.NEGATIVE_BARS_OPACITY=.7,t.NEGATIVE_BARS_STROKE="#050",t.POSITIVE_BARS_COLOR="#40537D",t.POSITIVE_BARS_OPACITY=.7,t.POSITIVE_BARS_STROKE="#050",t.PLOT_MARGIN=50,t.LABEL_MARGIN=-10,t.LABEL_FONT_SIZE=15,t.confidenceIntervalUnsorted=n.confidenceIntervalUnsorted?n.confidenceIntervalUnsorted:{low:0,high:2},t.confidenceIntervalSorted=n.confidenceIntervalSorted,t}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sl(t,e)}(e,t),n=e,(i=[{key:"validate",value:function(t){if(!t.parentElement)throw new Error("Parent element not provided")}},{key:"setData",value:function(t){this.data=t,this.container&&this.renderUpdate()}},{key:"render",value:function(){this.renderContainer(),this.renderTitle(),this.renderPlot(),this.renderHorizontalScale(),this.renderLegend()}},{key:"renderUpdate",value:function(){this.renderTitle(),this.renderNegativeBars(),this.renderPositiveBars(),this.renderParameterLabels()}},{key:"renderContainer",value:function(){this.container=this.parentElement.append("g").attr("id","g_history_matching_plot").attr("transform","translate(".concat(this.position.x,",").concat(this.position.y,")"))}},{key:"renderTitle",value:function(){this.container.selectAll("text#title").data([this.data.name]).enter().append("text").attr("id","title").attr("x",this.width/2).attr("font-size",30).attr("text-anchor","middle").merge(this.container.selectAll("text#title")).text((function(t){return"Misfit overview for ".concat(t)}))}},{key:"renderPlot",value:function(){this.renderPlotContainer(),this.renderConfidenceIntervals(),this.renderHorizontalScale(),this.renderNegativeBars(),this.renderPositiveBars(),this.renderParameterLabels(),this.renderTooltip()}},{key:"renderPlotContainer",value:function(){this.plotContainer=this.container.append("g").attr("transform","translate(0,".concat(this.PLOT_MARGIN,")")),this.xScale=Br().domain([0,this.maxHorizontalValue]).range([0,this.width]),this.yScale=hr().domain(p(0,this.data.positive.length+1)).range([10,this.height])}},{key:"renderHorizontalScale",value:function(){var t,e=this,n=O(1,t).scale(this.xScale).tickFormat((function(t){return 0===t?"0":"".concat(1===t?e.SIGMA_LETTER:t+e.SIGMA_LETTER,"²")}));this.plotContainer.append("g").attr("id","g_history_matching_plot_xaxis").attr("class","axis").attr("transform","translate(0, 0)").call(n),this.plotContainer.selectAll("#g_history_matching_plot_xaxis text").style("font-size","15px")}},{key:"renderLegend",value:function(){this.legend=new Ll({parentElement:this.plotContainer,width:.43*this.width,height:.11*this.width,position:{x:.5*this.width,y:.14*this.height}}),this.legend.loadData([{label:"Simulated values too high",box:{colour:"#34A037",stroke:"#050",fillOpacity:.7}},{label:"Simulated values too low",box:{colour:"#40537D",stroke:"#40537D",fillOpacity:.7}},{label:"P90-P10 confidence interval (unsorted)*",box:{colour:"#FF26A4",stroke:"#FF26A4",fillOpacity:.3}},{label:"P90-P10 confidence interval (sorted)*",box:{colour:"#FF7900",stroke:"#FF7900",fillOpacity:.3}}]),this.legend.render()}},{key:"renderParameterLabels",value:function(){var t=this,e=this.plotContainer.selectAll("text.ylabel").data(this.data.labels,(function(t,e){return e}));e.exit().remove(),e.enter().append("text").attr("class","ylabel").attr("transform",(function(e,n){return"translate(".concat([t.LABEL_MARGIN,t.yScale(n)+t.LABEL_FONT_SIZE],")")})).attr("text-anchor","end").attr("font-size",this.LABEL_FONT_SIZE).merge(e).text((function(t){return t})),e.transition().duration(400).attr("fill-opacity",0),e.transition().delay(400).duration(1).text((function(t){return t})),e.transition().delay(400).duration(400).attr("fill-opacity",1)}},{key:"renderNegativeBars",value:function(){var t=this,e=this.plotContainer.selectAll("rect.bar_neg").data(this.data.negative,(function(t,e){return e}));e.exit().remove(),e.enter().append("rect").attr("transform",(function(e,n){return"translate(0,".concat(t.yScale(n),")")})).attr("class","bar_neg").attr("fill",this.NEGATIVE_BARS_COLOR).attr("stroke",this.NEGATIVE_BARS_STROKE).attr("fill-opacity",this.NEGATIVE_BARS_OPACITY).attr("height",this.yScale.bandwidth()).on("mouseover",(function(e,n,i){return t.showTooltip(n,i[n])})).on("mouseout",(function(e,n,i){return t.hideTooltip(i[n])})).attr("width",(function(e,n){return"".concat(t.xScale(t.data.negative[n]+.01),"px")})).attr("transform",(function(e,n){return"translate(0,".concat(t.yScale(n),")")})),e.transition().attr("width",(function(e,n){return"".concat(t.xScale(t.data.negative[n]+.01),"px")})).attr("transform",(function(e,n){return"translate(0,".concat(t.yScale(n),")")}))}},{key:"renderPositiveBars",value:function(){var t=this,e=this.plotContainer.selectAll("rect.bar_pos").data(this.data.positive,(function(t,e){return e}));e.exit().remove(),e.enter().append("rect").attr("class","bar_pos").attr("fill",this.POSITIVE_BARS_COLOR).attr("stroke",this.POSITIVE_BARS_STROKE).attr("fill-opacity",this.POSITIVE_BARS_OPACITY).attr("height",this.yScale.bandwidth()).on("mouseover",(function(e,n,i){return t.showTooltip(n,i[n])})).on("mouseout",(function(e,n,i){return t.hideTooltip(i[n])})).attr("width",(function(e,n){return"".concat(t.xScale(t.data.positive[n]),"px")})).attr("transform",(function(e,n){return"translate(".concat([t.xScale(t.data.negative[n]),t.yScale(n)],")")})),e.transition().attr("width",(function(e,n){return"".concat(t.xScale(t.data.positive[n]),"px")})).attr("transform",(function(e,n){return"translate(".concat([t.xScale(t.data.negative[n]),t.yScale(n)],")")}))}},{key:"showTooltip",value:function(t,e){this.tooltip.select("text.positive").text(this.data.positive[t].toFixed(2)),this.tooltip.select("text.negative").text(this.data.negative[t].toFixed(2));var n=El($e(this.parentElement.node()),2),i=n[0],r=n[1];this.tooltip.attr("transform","translate(".concat(i+20,", ").concat(r-30,")")),this.tooltip.style("display","block"),Kt(e).transition().attr("stroke-width",5)}},{key:"hideTooltip",value:function(t){Kt(t).transition().attr("stroke-width",1),this.tooltip.style("display","none")}},{key:"renderConfidenceIntervals",value:function(){this._renderUnsorted(),this._renderSorted()}},{key:"_renderUnsorted",value:function(){this.plotContainer.append("path").attr("fill","#FF26A4").attr("fill-opacity","0.3").attr("d","M".concat(this.xScale(this.confidenceIntervalUnsorted.low)," ").concat(this.yScale(this.data.negative.length)," L").concat(this.xScale(this.confidenceIntervalUnsorted.low)," 10 L").concat(this.xScale(this.confidenceIntervalUnsorted.high)," 10 L").concat(this.xScale(this.confidenceIntervalUnsorted.high)," ").concat(this.yScale(this.data.negative.length)," Z")),this.plotContainer.append("text").attr("transform","translate(0, ".concat(this.notePosition,")")).attr("font-size",20).text("*Visualized confidence intervals use the (conservative) assumption of correlated error within each observation group.")}},{key:"_renderSorted",value:function(){var t=this;this.lineContainer=this.plotContainer.append("g").attr("transform","translate(0,0)");var e=this.data.negative.length,n=this.confidenceIntervalSorted.high.map((function(e,n){return{xVal:t.xScale(e),yVal:t.yScale(n)}})).concat(this.confidenceIntervalSorted.low.slice(0).reverse().map((function(n,i){return{xVal:t.xScale(n),yVal:t.yScale(e-1-i)}}))),i="M";n.forEach((function(r,o){var a=r.yVal,s=r.xVal;i+=0===o?"".concat(s,",").concat(a):"H".concat(s),i+="V".concat(o<e?o<e-1?n[o+1].yVal:n[o].yVal+t.yScale.bandwidth():n[o].yVal)})),this.lineContainer.append("path").datum(n).attr("d",i).attr("stroke","#FF7900").attr("fill","#FF7900").attr("fill-opacity","0.3")}},{key:"renderTooltip",value:function(){this.tooltip=this.parentElement.append("g").attr("id","g_tooltip").style("display","none"),this.tooltip.transition().duration(1e3),this.tooltip.append("rect").attr("width",200).attr("height",50).attr("fill","white").attr("fill-opacity",.9).attr("stroke","black"),this.tooltip.append("text").attr("x",16).attr("y",22).attr("font-size",20).text("Positive"),this.tooltip.append("text").attr("x",16).attr("y",42).attr("font-size",20).text("Negative"),this.tooltip.append("text").attr("class","positive").attr("x",150).attr("y",22).attr("font-size",20).text("150"),this.tooltip.append("text").attr("class","negative").attr("x",150).attr("y",42).attr("font-size",20).text("159")}}])&&Pl(n.prototype,i),r&&Pl(n,r),e}(bl);n(122);function Al(t){return(Al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dl(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Rl(t,e){return!e||"object"!==Al(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zl(t){return(zl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jl(t,e){return(jl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Il="HORIZONTAL",Nl="VERTICAL",Bl="TOP",Ul="BOTTOM",Fl="LEFT",Zl="RIGHT",Hl={HORIZONTAL:"width",VERTICAL:"height"},Vl={HORIZONTAL:"x",VERTICAL:"y"},Gl=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Rl(this,zl(e).call(this))).parentElement=t.parentElement,n.data=t.data||[],n.numberOfVisibleTicks=t.numberOfVisibleTicks,n.length=t.length||0,n.width=t.width||0,n.position=t.position||{x:0,y:0},n.orientation=t.orientation||Il,n.dimension=Hl[n.orientation],n.axis=Vl[n.orientation],n.selectedIndex=0,n.orientation===Il?(n.currentValuePosition=t.currentValuePosition||Bl,n.ticksPosition=t.ticksPosition||Ul):(n.currentValuePosition=t.currentValuePosition||Fl,n.ticksPosition=t.ticksPosition||Zl),n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jl(t,e)}(e,t),n=e,(i=[{key:"render",value:function(){this.init(),this.renderContainer(),this.renderLine(),this.renderTicks(),this.renderCurrentTick(),this.renderHandle()}},{key:"init",value:function(){this.scale=Br().domain([0,this.data.length-1]).range([0,this.length]).clamp(!0)}},{key:"renderContainer",value:function(){this.container=this.parentElement.append("g").attr("class","slider").attr("transform","translate(".concat(this.position.x,", ").concat(this.position.y,")"))}},{key:"renderLine",value:function(){var t=this;this.container.append("line").attr("class","slider").attr("".concat(this.axis,"1"),this.scale.range()[0]).attr("".concat(this.axis,"2"),this.scale.range()[1]).select((function(){return this.parentNode.appendChild(this.cloneNode(!0))})).attr("class","slider-inset").select((function(){return this.parentNode.appendChild(this.cloneNode(!0))})).attr("class","slider-overlay").call(Ai().on("start.interrupt",(function(){return t.container.interrupt()})).on("start drag",(function(){return t.slideMove(jt[t.axis])})).on("end",(function(){return t.slideEnd(jt[t.axis])})))}},{key:"slideMove",value:function(t){t=this.scale(this.scale.invert(t)),this.bar.attr("c".concat(this.axis),t);var e=Math.round(this.scale.invert(t));e!==this.selectedIndex&&(this.selectedIndex=e,this.emit("change",this.selectedIndex)),this.container.select(".currentTick").text(this.data[this.selectedIndex]).attr(this.axis,t)}},{key:"slideEnd",value:function(t){t=this.scale(this.scale.invert(t));var e=this.scale(Math.round(this.scale.invert(t)));this.bar.transition().duration(500).attr("c".concat(this.axis),e),this.container.select(".currentTick").transition().duration(500).attr(this.axis,e),this.emit("end",this.selectedIndex)}},{key:"renderTicks",value:function(){var t=this,e=this._calculateTickProperties(this.ticksPosition);this.container.append("g").classed("ticks",!0).attr("transform",e.transform).selectAll("text").data(this.scale.ticks(this.numberOfVisibleTicks)).enter().append("text").attr(this.axis,(function(e){return t.scale(e)})).attr("text-anchor",e["text-anchor"]).attr("dominant-baseline",e["dominant-baseline"]).text((function(e){return t.data[e]}))}},{key:"renderCurrentTick",value:function(){var t=this._calculateTickProperties(this.currentValuePosition);this.container.append("g").append("text").classed("ticks",!0).classed("currentTick",!0).attr("transform",t.transform).attr("text-anchor",t["text-anchor"]).attr("dominant-baseline",t["dominant-baseline"]).text(this.data[0]).attr(this.axis,this.scale(0))}},{key:"_calculateTickProperties",value:function(t){if(this.orientation===Il&&t===Bl)return{transform:"translate(0,-".concat(8,")"),"text-anchor":"middle","dominant-baseline":"text-after-edge"};if(this.orientation===Il&&t===Ul)return{transform:"translate(0,".concat(8,")"),"text-anchor":"middle","dominant-baseline":"text-before-edge"};if(this.orientation===Nl&&t===Fl)return{transform:"translate(-".concat(8,", 0)"),"text-anchor":"end","dominant-baseline":"central"};if(this.orientation===Nl&&t===Zl)return{transform:"translate(".concat(8,", 0)"),"text-anchor":"start","dominant-baseline":"central"};throw new Error("Not implemented pair of orientation (".concat(this.orientation,") and tick position (").concat(t,")"))}},{key:"renderHandle",value:function(){this.bar=this.container.insert("circle",".slider-overlay").attr("class","handle").attr("r",8)}},{key:"setData",value:function(t){this.data=t,this.update()}},{key:"update",value:function(){this.scale=Br().domain([0,this.data.length-1]).range([0,this.length]).clamp(!0),this.container.selectAll(".ticks").remove(),this.renderTicks(),this.renderCurrentTick(),this.slideEnd(this.selectedIndex)}}])&&Dl(n.prototype,i),r&&Dl(n,r),e}(bl);function Wl(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Yl=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,(n=[{key:"init",value:function(t,e){this.container=t,this.data=e,this.initVisualisation(),this.initIterationPicker(),this.initPlot(),this._reorderTooltipLegendElements(),this.initResize()}},{key:"initVisualisation",value:function(){this.margin={left:200,right:200,bottom:100,top:100},this.plotWidth=Kt(this.container).node().offsetWidth-this.margin.left-this.margin.right,this.plotHeight=20*(this.data.iterations[0].labels.length+1),Kt(this.container).selectAll("*").remove(),this.svg=Kt(this.container).append("svg").attr("width",this.plotWidth+this.margin.left+this.margin.right).attr("height",this.plotHeight+this.margin.top+this.margin.bottom)}},{key:"initPlot",value:function(){this.plot=new Ol({parentElement:this.svg,width:this.plotWidth,height:this.plotHeight,position:{x:this.margin.left,y:this.margin.top},confidenceIntervalUnsorted:this.data.confidence_interval_unsorted,confidenceIntervalSorted:this.data.confidence_interval_sorted}),this.plot.setData(this.data.iterations[0]),this.plot.render()}},{key:"initIterationPicker",value:function(){var t=this;this.sliderContainer=this.svg.append("g"),this.sliderContainer.attr("width",this.plotWidth).attr("height",80),this.iterationPicker=new Gl({parentElement:this.sliderContainer,data:this.data.iterations.map((function(t){return t.name})),length:this.plotWidth,width:80,position:{x:200,y:40},numberOfVisibleTicks:this.data.iterations.length}),this.iterationPicker.on("change",(function(e){t._setIteration(e)})),this.iterationPicker.render()}},{key:"initResize",value:function(){var t=this;window.addEventListener("resize",(function(){t.plotWidth=Kt(t.container).node().offsetWidth-t.margin.left-t.margin.right,t.initVisualisation(),t.initIterationPicker(),t.initPlot(),t._reorderTooltipLegendElements()}))}},{key:"_setIteration",value:function(t){this.plot.setData(this.data.iterations[t])}},{key:"_reorderTooltipLegendElements",value:function(){this.svg.node().appendChild(this.svg.select("#g_tooltip").node())}}])&&Wl(e.prototype,n),i&&Wl(e,i),t}();function ql(t){return(ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xl(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Kl(t,e){return!e||"object"!==ql(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jl(t){return(Jl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $l(t,e){return($l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ql=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Kl(this,Jl(e).call(this,t))).elementId="container-".concat(t.id),n}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$l(t,e)}(e,t),n=e,(i=[{key:"componentDidMount",value:function(){var t=this.props,e=t.data,n=(t.height,function(t){return"string"==typeof t?JSON.parse(t):t}(e)),i="#".concat(this.elementId);(new Yl).init(i,n)}},{key:"render",value:function(){return r.a.createElement("div",{id:this.elementId})}}])&&Xl(n.prototype,i),o&&Xl(n,o),e}(i.Component);Ql.defaultProps={height:800},Ql.propTypes={id:a.a.string.isRequired,height:a.a.number,data:a.a.object};var tu=Ql;function eu(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var nu=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events={}}var e,n,i;return e=t,(n=[{key:"on",value:function(t,e){if(!t)throw new Error("No event name provided");if(!e)throw new Error("No handler provided");this.events[t]||(this.events[t]=[]),this.events[t].push(e)}},{key:"emit",value:function(t,e){if(!t)throw new Error("No event name provided");var n=this.events[t];n&&n.forEach((function(t){return t(e)}))}},{key:"off",value:function(t,e){if(!t)throw new Error("No event name provided");if(!e)throw new Error("No handler provided");this.events[t]&&(this.events[t]=this.events[t].filter((function(t){return t!==e})))}}])&&eu(e.prototype,n),i&&eu(e,i),t}();function iu(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var ru=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.eventBus=new nu}var e,n,i;return e=t,(n=[{key:"on",value:function(t,e){this.eventBus.on(t,e)}},{key:"emit",value:function(t,e){this.eventBus.emit(t,e)}},{key:"off",value:function(t,e){this.eventBus.off(t,e)}}])&&iu(e.prototype,n),i&&iu(e,i),t}();function ou(t){return(ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function au(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function su(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lu(t,e){return!e||"object"!==ou(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uu(t){return(uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function cu(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function hu(t,e,n){return e&&cu(t.prototype,e),n&&cu(t,n),t}function fu(t,e){return(fu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var du=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return su(this,e),(t=lu(this,uu(e).call(this))).constructor.validate(n),t.layer=0,t.parentElement=n.parentElement,t.coords=n.coords,t.values=n.values,t.valMin=n.valMin,t.valMax=n.valMax,t.xMin=n.xMin,t.yMax=n.yMax,t.colorScale=n.colorScale,t.mapTransform={x:0,y:0,k:0,angle:0},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fu(t,e)}(e,t),hu(e,null,[{key:"validate",value:function(t){if(!t.parentElement)throw new Error("Parent element not provided");if(!t.coords)throw new Error("Coords not provided");if(!t.values)throw new Error("Values not provided");if(!t.colorScale)throw new Error("Color scale not provided")}}]),hu(e,[{key:"setTransform",value:function(t){this.mapTransform=t,this.element&&this.element.attr("transform",this.getMapTransform())}},{key:"getMapTransform",value:function(){return"translate(".concat(this.mapTransform.x,",").concat(this.mapTransform.y,")")+" scale(".concat(this.mapTransform.k,")")+" rotate(".concat(this.mapTransform.angle,", ").concat(this.mapWidth/2,",").concat(this.mapHeight/2,")")}},{key:"setLayer",value:function(t){this.layer=t,this.renderCells()}},{key:"color",value:function(t){return this.colorScale((this.values[this.layer][t]-this.valMin)/(this.valMax-this.valMin))}},{key:"renderCells",value:function(){var t=this;this.map=this.element.selectAll("polygon").data(this.coords[this.layer]),this.map.enter().append("polygon").merge(this.map).attr("points",(function(e){return e.map((function(e){var n=au(e,2),i=n[0],r=n[1];return[i-t.xMin,t.yMax-r].join(",")})).join(" ")})).attr("fill",(function(e,n){return t.color(n)})).on("mousemove",(function(e,n){t.emit("mousemove",{x:$e(this)[0],y:$e(this)[1],value:t.values[t.layer][n]})})).on("mouseleave",(function(){return t.emit("mouseleave")})),this.map.exit().remove();var e=this.element.node();void 0===this.mapWidth&&e&&(this.mapWidth=e.getBoundingClientRect().width),void 0===this.mapHeight&&e&&(this.mapHeight=e.getBoundingClientRect().height),this.element.attr("transform",this.getMapTransform())}},{key:"renderContainer",value:function(){this.element=this.parentElement.append("g").attr("id","g_map_cells")}},{key:"render",value:function(){this.renderContainer(),this.renderCells()}}]),e}(ru);function pu(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function mu(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var _u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.TRANSFORM_REGEX=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,this.transform=this.parseTransform(e)}var e,n,i;return e=t,(n=[{key:"parseTransform",value:function(t){var e={};return t?(t.match(this.TRANSFORM_REGEX).forEach((function(t){var n=t.match(/[\w.-]+/g),i=n.shift();e[i]=n})),e):e}},{key:"addTransform",value:function(t,e){this.transform[t]=e.map((function(t){return"".concat(t)}))}},{key:"toString",value:function(){return Object.entries(this.transform).reduce((function(t,e){var n=e[1].join(",");return"".concat(t," ").concat(e[0],"(").concat(n,")")}),"")}}])&&mu(e.prototype,n),i&&mu(e,i),t}();function vu(t){return(vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function gu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bu(t,e){return!e||"object"!==vu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wu(t){return(wu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xu(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Lu(t,e,n){return e&&xu(t.prototype,e),n&&xu(t,n),t}function ku(t,e){return(ku=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Eu=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return gu(this,e),(t=bu(this,wu(e).call(this))).constructor.validate(n),t.parentElement=n.parentElement,t.position=n.initialPosition?n.initialPosition:{x:0,y:0},t.initialRotation=n.initialRotation?n.initialRotation:0,t.dragStartAngle=0,t.dragAngle=0,t.rotationAngle=0,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ku(t,e)}(e,t),Lu(e,null,[{key:"validate",value:function(t){if(!t.parentElement)throw new Error("Parent element not provided.")}},{key:"calculateAngleFromCoord",value:function(t,e){return t-100<0?180+180*Math.atan((e-100)/(t-100))/Math.PI:180*Math.atan((e-100)/(t-100))/Math.PI}}]),Lu(e,[{key:"setPosition",value:function(t){var e=t.x,n=t.y;this.position.x=e,this.position.y=n,this.applyTransform()}},{key:"setRotation",value:function(t){this.rotationAngle=t,this.applyTransform()}},{key:"_dragStarted",value:function(){var t=yu($e(this.element.node()),2),e=t[0],n=t[1];this.element.selectAll("polygon").attr("fill","#A75C7C"),this.dragStartAngle=this.constructor.calculateAngleFromCoord(e,n)}},{key:"_dragged",value:function(){var t=yu($e(this.element.node()),2),e=t[0],n=t[1];this.dragAngle=this.constructor.calculateAngleFromCoord(e,n),this.rotationAngle=(this.rotationAngle+this.dragAngle-this.dragStartAngle)%360,this.applyTransform(),this.emit("dragged",this.rotationAngle)}},{key:"_createElement",value:function(){this.element=this.parentElement.append("g").attr("id","g_compass")}},{key:"_dragEnded",value:function(){this.element.selectAll("polygon").attr("fill","#DA8FAF")}},{key:"initDragEvents",value:function(){this.element.call(Ai().on("start",this._dragStarted.bind(this)).on("drag",this._dragged.bind(this)).on("end",this._dragEnded.bind(this)))}},{key:"applyTransform",value:function(){var t=new _u;t.addTransform("translate",[this.position.x,this.position.y]),t.addTransform("rotate",[-this.initialRotation+this.rotationAngle,100,100]),this.element.attr("transform",t.toString())}},{key:"renderContainer",value:function(){this._createElement(),this.setPosition(this.position),this.setRotation(this.initialRotation)}},{key:"renderShape",value:function(){this.element.selectAll("polygon").data(["100,30 85,85 30,100 85,115 100,170 115,115 170,100 115,85","100,100 85,115 100,170","100,100 115,115 170,100","100,100 100,30, 115,85","100,100 85,85 30,100"]).enter().append("polygon").attr("points",(function(t){return t})).attr("fill","#DA8FAF").attr("opacity","0.5").style("pointer-events","visiblePainted")}},{key:"renderLetters",value:function(){this.element.append("text").attr("x",100).attr("y",20).attr("text-anchor","middle").attr("dominant-baseline","middle").text("N"),this.element.append("text").attr("x",180).attr("y",100).attr("text-anchor","middle").attr("dominant-baseline","middle").text("E"),this.element.append("text").attr("x",100).attr("y",180).attr("text-anchor","middle").attr("dominant-baseline","middle").text("S"),this.element.append("text").attr("x",20).attr("y",100).attr("text-anchor","middle").attr("dominant-baseline","middle").text("W")}},{key:"render",value:function(){this.renderContainer(),this.renderShape(),this.renderLetters()}}]),e}(ru);function Mu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pu(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Tu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Mu(this,t),this.validate(e)}var e,n,i;return e=t,(n=[{key:"validate",value:function(t){if(!t.parentElement)throw new Error("Parent element not provided");if(void 0===t.initialK)throw new Error("Initial K value not provided");if(t.initialK<=0)throw new Error("Initial K cannot be 0 or undefined");if(void 0===t.origMeter2Px)throw new Error("origMeter2Px not provided");this.parentElement=t.parentElement,t.initialPosition?this.position={x:t.initialPosition.x,y:t.initialPosition.y}:this.position={x:0,y:0},this.k=t.initialK,this.origMeter2Px=t.origMeter2Px}},{key:"render",value:function(){this.renderContainer(),this.renderScale()}},{key:"setK",value:function(t){this.k=t,this.renderScale()}},{key:"renderContainer",value:function(){this.element=this.parentElement.append("g").attr("id","g_scale").attr("transform","translate(".concat(this.position.x,",").concat(this.position.y,")"))}},{key:"renderScale",value:function(){var t=this.k*this.origMeter2Px,e=0,n=null,i=null,r=1,o=1;1e3*t<400?(n=1e3,i=[""," km"]):100*t<400?(n=100,i=["00"," m"]):(n=1,i=[""," m"]);for(var a=5;a>0;a-=1){var s=400/t/a/n;s%1<r&&Math.floor(s)>0&&(o=Math.floor(s),r=s%1,e=a)}for(var l=o*n*t,u=[],c=[],h=0;h<e;h+=1)u.push(h*l),h%2==0?c.push("black"):c.push("white");this.element.selectAll("rect").remove(),this.element.selectAll("rect").data(u).enter().append("rect").attr("y","0px").attr("height","10px").attr("stroke","#bbbbbb").attr("fill",(function(t,e){return c[e]})).attr("fill-opacity","0.6").attr("x",(function(t){return"".concat(t,"px")})).attr("width","".concat(l,"px")),this.element.selectAll("text").remove(),this.element.append("text").attr("x",0).attr("y",-10).attr("text-anchor","middle").text("0".concat(i[1])),this.element.append("text").attr("x",l*e).attr("y",-10).attr("text-anchor","middle").text(o*e+i[0]+i[1])}}])&&Pu(e.prototype,n),i&&Pu(e,i),t}();function Cu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Su(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Ou=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Cu(this,t),this.validate(e),this.scale=e.scale,this.COLORBAR_WIDTH=200,this.NUMBER_COLORBARS=50}var e,n,i;return e=t,(n=[{key:"validate",value:function(t){if(!t.parentElement)throw new Error("Parent element not provided");if(!t.scale)throw new Error("No scale provided");t.initialPosition?this.position={x:t.initialPosition.x,y:t.initialPosition.y}:this.position={x:0,y:0},this.parentElement=t.parentElement,this.labelMin=t.labelMin?t.labelMin:"",this.labelMax=t.labelMax?t.labelMax:""}},{key:"render",value:function(){this.renderContainer(),this.renderScale()}},{key:"renderContainer",value:function(){this.element=this.parentElement.append("g").attr("transform","translate(".concat(this.position.x,",").concat(this.position.y,")"))}},{key:"renderScale",value:function(){this._renderColorBar(),this._renderMinLabel(),this._renderMaxLabel()}},{key:"_renderColorBar",value:function(){for(var t=0;t<this.NUMBER_COLORBARS;t+=1)this.element.append("rect").attr("x",this.COLORBAR_WIDTH/this.NUMBER_COLORBARS*t).attr("width",this.COLORBAR_WIDTH/this.NUMBER_COLORBARS).attr("height",8).attr("stroke",this.scale(t/this.NUMBER_COLORBARS)).attr("fill",this.scale(t/this.NUMBER_COLORBARS));this.element.append("rect").attr("width",this.COLORBAR_WIDTH).attr("height",8).attr("fill","none").attr("stroke","black"),this.element.append("line").attr("x1",0).attr("x2",0).attr("y1",8).attr("y2",12).attr("stroke","black"),this.element.append("line").attr("x1",this.COLORBAR_WIDTH).attr("x2",this.COLORBAR_WIDTH).attr("y1",8).attr("y2",12).attr("stroke","black")}},{key:"_renderMinLabel",value:function(){this.element.append("text").attr("x",0).attr("y",30).attr("text-anchor","middle").text(this.labelMin)}},{key:"_renderMaxLabel",value:function(){this.element.append("text").attr("x",this.COLORBAR_WIDTH).attr("y",30).attr("text-anchor","middle").text(this.labelMax)}}])&&Su(e.prototype,n),i&&Su(e,i),t}();function Au(t){return(Au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Du(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ru(t,e){return!e||"object"!==Au(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zu(t){return(zu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ju(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Iu(t,e,n){return e&&ju(t.prototype,e),n&&ju(t,n),t}function Nu(t,e){return(Nu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Bu=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Du(this,e),(t=Ru(this,zu(e).call(this))).constructor.validate(n),t.parentElement=n.parentElement,t.position=n.initialPosition?n.initialPosition:{x:0,y:0},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nu(t,e)}(e,t),Iu(e,null,[{key:"validate",value:function(t){if(!t.parentElement)throw new Error("Parent element not provided")}}]),Iu(e,[{key:"setX",value:function(t){this.xElement.text(t)}},{key:"setY",value:function(t){this.yElement.text(t)}},{key:"setValue",value:function(t){this.valueElement.text(t)}},{key:"renderContainer",value:function(){this.element=this.parentElement.append("g").attr("id","g_infobox").attr("class","map_2d_infobox").attr("transform","translate(".concat(this.position.x,",").concat(this.position.y,")"))}},{key:"renderInformationLines",value:function(){this.valueElement=this.element.append("text").attr("id","valueInfo").attr("x",5).attr("y",15).attr("opacity",.6),this.xElement=this.element.append("text").attr("id","xInfo").attr("x",5).attr("y",45).attr("opacity",.6),this.yElement=this.element.append("text").attr("id","yInfo").attr("x",5).attr("y",60).attr("opacity",.6)}},{key:"render",value:function(){this.renderContainer(),this.renderInformationLines()}}]),e}(ru);function Uu(t){return(Uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zu(t,e){return!e||"object"!==Uu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hu(t){return(Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vu(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Gu(t,e,n){return e&&Vu(t.prototype,e),n&&Vu(t,n),t}function Wu(t,e){return(Wu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yu(){return this.parentNode.appendChild(this.cloneNode(!0))}var qu=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Fu(this,e),(t=Zu(this,Hu(e).call(this))).constructor.validate(n),t.parentElement=n.parentElement,t.values=n.values,t.value=0,t.scale=Br().domain([0,t.values.length-1]).range([0,n.height]).clamp(!0),n.initialPosition?t.position={x:n.initialPosition.x,y:n.initialPosition.y}:t.position={x:0,y:0},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wu(t,e)}(e,t),Gu(e,null,[{key:"validate",value:function(t){if(!t.parentElement)throw new Error("Parent element not provided");if(!t.values)throw new Error("Values not provided");if(!t.height)throw new Error("Height not provided")}}]),Gu(e,[{key:"setPosition",value:function(t){var e=t.x,n=t.y;this.position.x=e,this.position.y=n,this.element.attr("transform","translate(".concat(e,",").concat(n,")"))}},{key:"_onDragSlider",value:function(t){Math.round(t)!==this.value&&(this.value=Math.round(t),this.handle.attr("cy",this.scale(this.value)),this.text.attr("y",this.scale(this.value)).text(this.values[this.value]),this.emit("change",this.value))}},{key:"_renderLine",value:function(){var t=this,e=this;this.slider=this.element.append("g").attr("class","slider").attr("style","stroke-width: 8px; stroke-linecap: round"),this.slider.append("line").attr("class","track").attr("y1",this.scale.range()[0]).attr("y2",this.scale.range()[1]).attr("style","stroke-linecap: round; stroke: #000; stroke-opacity: 0.3; stroke-width: 10px").select(Yu).attr("class","track-inset").attr("style","stroke-linecap: round; stroke: #ddd; stroke-width: 8px").select(Yu).attr("class","track-overlay").attr("style","stroke-linecap: round; pointer-events: stroke; stroke-width: 50px; stroke: transparent; cursor: grab").call(Ai().on("start.interrupt",(function(){e.slider.interrupt()})).on("start drag",(function(){e._onDragSlider(t.scale.invert(jt.y))})))}},{key:"_renderHandle",value:function(){this.handle=this.slider.insert("circle",".track-overlay").attr("class","handle").attr("style","fill: #fff; stroke: #000; stroke-opacity: 0.5; stroke-width: 1.25px").attr("r",9)}},{key:"_renderLabel",value:function(){this.text=this.slider.append("text").text(this.values[this.value]).attr("x",-12).attr("y",0).style("font-size",30).attr("text-anchor","end").attr("cursor","default").attr("alignment-baseline","middle")}},{key:"renderSlider",value:function(){this._renderLine(),this._renderHandle(),this._renderLabel()}},{key:"renderContainer",value:function(){this.element=this.parentElement.append("g").attr("id","g_slider").attr("transform","translate(".concat(this.position.x,", ").concat(this.position.y,")"))}},{key:"render",value:function(){this.renderContainer(),this.renderSlider()}}]),e}(ru);function Xu(t){return(Xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ku(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ju(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function $u(t,e){return!e||"object"!==Xu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qu(t){return(Qu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tc(t,e){return(tc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ec=function(t){function e(t){var n,i=t.elementSelector,r=t.layers,o=t.height,a=void 0===o?800:o,s=t.width,l=void 0===s?void 0:s,u=t.colorMap,c=void 0===u?"viridis":u,h=t.valUnit,f=void 0===h?"":h,d=t.layerNames,p=void 0===d?[]:d;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=$u(this,Qu(e).call(this))).elementSelector=i,n._calcMinMax(r),n.colorMap=c,n.valUnit=f,n.layerNames=p,n.layers=r,n.coords=r.map((function(t){return t.map((function(t){return t.points}))})),n.values=r.map((function(t){return t.map((function(t){return t.value}))})),n.height=a;var m=Kt(i).node();return l?n.width=l:m&&(n.width=m.offsetWidth),n.MARGIN={TOP:50,RIGHT:200,BOTTOM:20,LEFT:40},n._calculateDimensions(),n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tc(t,e)}(e,t),n=e,(i=[{key:"_calcMinMax",value:function(t){var e=x(t),n=x(e.map((function(t){return t.points}))),i=Ku(f(n,(function(t){return t[0]})),2);this.xMin=i[0],this.xMax=i[1];var r=Ku(f(n,(function(t){return t[1]})),2);this.yMin=r[0],this.yMax=r[1];var o=Ku(f(e,(function(t){return t.value})),2);this.valMax=o[0],this.valMin=o[1]}},{key:"_calculateDimensions",value:function(){var t=this.xMax-this.xMin,e=this.yMax-this.yMin;t/this.width>e/this.height?(this.kInit=this.width/t,e>t&&(this.kInit*=e/t),this.origMeter2Px=this.width/t/this.kInit):(this.kInit=this.height/e,t>e&&(this.kInit*=t/e),this.origMeter2Px=this.height/e/this.kInit),this.mapTransform={x:0,y:0,k:this.kInit,angle:0}}},{key:"_isHorizontal",value:function(){var t=this.xMax-this.xMin,e=this.yMax-this.yMin;return t/this.width>e/this.height}},{key:"init",value:function(){this.initColorScale(),this.initContainer(),this.initContainerBorder(),this.initMap(),this.initZoom(),this.initCompass(),this.initLayerSlider(),this.initDistanceScale(),this.initInfoBox(),this.initDepthScale(),this.initResize()}},{key:"initColorScale",value:function(){var t;switch(this.colorMap){case"viridis":t=ds;break;case"inferno":t=ps;break;case"warm":t=ss;break;case"cool":t=ls;break;case"rainbow":t=cs;break;default:t=ds}this.colorScale=t}},{key:"initContainer",value:function(){this.containerMap=Kt(this.elementSelector).attr("class","map_2d").append("svg").attr("id","svg_map").attr("width",this.width).attr("height",this.height).style("position","absolute"),this.containerControls=Kt(this.elementSelector).append("svg").attr("id","svg_controls").style("z-index",10).style("pointer-events","none").attr("width",this.width).attr("height",this.height).style("position","absolute")}},{key:"initContainerBorder",value:function(){this.containerControls.append("rect").attr("width","100%").attr("height","100%").attr("fill","none").attr("stroke","#aaaaaa").attr("stroke-width","2")}},{key:"initMap",value:function(){var t=this;this.map=new du({parentElement:this.containerMap,coords:this.coords,values:this.values,valMax:this.valMax,valMin:this.valMin,xMin:this.xMin,yMax:this.yMax,colorScale:this.colorScale}),this.map.setTransform(this.mapTransform),this.map.render(),this.map.on("mousemove",(function(e){t.infoBox.setX("x = ".concat(t._calculateXCoord(e.x))),t.infoBox.setY("y = ".concat(t._calculateYCoord(e.y))),t.infoBox.setValue("".concat(e.value," ").concat(t.valUnit))})),this.map.on("mouseleave",(function(){t.infoBox.setX(""),t.infoBox.setY(""),t.infoBox.setValue("")}))}},{key:"_calculateXCoord",value:function(t){return parseFloat((t+this.xMin).toFixed(2))}},{key:"_calculateYCoord",value:function(t){return parseFloat((t-this.yMax).toFixed(2))}},{key:"initZoom",value:function(){(function(){var t,e,n=hl,i=fl,r=_l,o=pl,a=ml,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],u=250,c=rl,h=N("start","zoom","end"),f=0;function d(t){t.property("__zoom",dl).on("wheel.zoom",b).on("mousedown.zoom",w).on("dblclick.zoom",x).filter(a).on("touchstart.zoom",L).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(t,e){return(e=Math.max(s[0],Math.min(s[1],e)))===t.k?t:new sl(e,t.x,t.y)}function m(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new sl(t.k,i,r)}function _(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function v(t,e,n){t.on("start.zoom",(function(){y(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){y(this,arguments).end()})).tween("zoom",(function(){var t=this,r=arguments,o=y(t,r),a=i.apply(t,r),s=null==n?_(a):"function"==typeof n?n.apply(t,r):n,l=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),u=t.__zoom,h="function"==typeof e?e.apply(t,r):e,f=c(u.invert(s).concat(l/u.k),h.invert(s).concat(l/h.k));return function(t){if(1===t)t=h;else{var e=f(t),n=l/e[2];t=new sl(n,s[0]-e[0]*n,s[1]-e[1]*n)}o.zoom(null,t)}}))}function y(t,e,n){return!n&&t.__zooming||new g(t,e)}function g(t,e){this.that=t,this.args=e,this.active=0,this.extent=i.apply(t,e),this.taps=0}function b(){if(n.apply(this,arguments)){var t=y(this,arguments),e=this.__zoom,i=Math.max(s[0],Math.min(s[1],e.k*Math.pow(2,o.apply(this,arguments)))),a=$e(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=e.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(e.k===i)return;t.mouse=[a,e.invert(a)],Mn(this),t.start()}cl(),t.wheel=setTimeout(u,150),t.zoom("mouse",r(m(p(e,i),t.mouse[0],t.mouse[1]),t.extent,l))}function u(){t.wheel=null,t.end()}}function w(){if(!e&&n.apply(this,arguments)){var t=y(this,arguments,!0),i=Kt(jt.view).on("mousemove.zoom",u,!0).on("mouseup.zoom",c,!0),o=$e(this),a=jt.clientX,s=jt.clientY;Qt(jt.view),ul(),t.mouse=[o,this.__zoom.invert(o)],Mn(this),t.start()}function u(){if(cl(),!t.moved){var e=jt.clientX-a,n=jt.clientY-s;t.moved=e*e+n*n>f}t.zoom("mouse",r(m(t.that.__zoom,t.mouse[0]=$e(t.that),t.mouse[1]),t.extent,l))}function c(){i.on("mousemove.zoom mouseup.zoom",null),te(jt.view,t.moved),cl(),t.end()}}function x(){if(n.apply(this,arguments)){var t=this.__zoom,e=$e(this),o=t.invert(e),a=t.k*(jt.shiftKey?.5:2),s=r(m(p(t,a),e,o),i.apply(this,arguments),l);cl(),u>0?Kt(this).transition().duration(u).call(v,s,e):Kt(this).call(d.transform,s)}}function L(){if(n.apply(this,arguments)){var e,i,r,o,a=jt.touches,s=a.length,l=y(this,arguments,jt.changedTouches.length===s);for(ul(),i=0;i<s;++i)r=a[i],o=[o=Je(this,a,r.identifier),this.__zoom.invert(o),r.identifier],l.touch0?l.touch1||l.touch0[2]===o[2]||(l.touch1=o,l.taps=0):(l.touch0=o,e=!0,l.taps=1+!!t);t&&(t=clearTimeout(t)),e&&(l.taps<2&&(t=setTimeout((function(){t=null}),500)),Mn(this),l.start())}}function k(){if(this.__zooming){var e,n,i,o,a=y(this,arguments),s=jt.changedTouches,u=s.length;for(cl(),t&&(t=clearTimeout(t)),a.taps=0,e=0;e<u;++e)n=s[e],i=Je(this,s,n.identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=i);if(n=a.that.__zoom,a.touch1){var c=a.touch0[0],h=a.touch0[1],f=a.touch1[0],d=a.touch1[1],_=(_=f[0]-c[0])*_+(_=f[1]-c[1])*_,v=(v=d[0]-h[0])*v+(v=d[1]-h[1])*v;n=p(n,Math.sqrt(_/v)),i=[(c[0]+f[0])/2,(c[1]+f[1])/2],o=[(h[0]+d[0])/2,(h[1]+d[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],o=a.touch0[1]}a.zoom("touch",r(m(n,i,o),a.extent,l))}}function E(){if(this.__zooming){var t,n,i=y(this,arguments),r=jt.changedTouches,o=r.length;for(ul(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),500),t=0;t<o;++t)n=r[t],i.touch0&&i.touch0[2]===n.identifier?delete i.touch0:i.touch1&&i.touch1[2]===n.identifier&&delete i.touch1;if(i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0)i.touch0[1]=this.__zoom.invert(i.touch0[0]);else if(i.end(),2===i.taps){var a=Kt(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return d.transform=function(t,e,n){var i=t.selection?t.selection():t;i.property("__zoom",dl),t!==i?v(t,e,n):i.interrupt().each((function(){y(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},d.scaleBy=function(t,e,n){d.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),n)},d.scaleTo=function(t,e,n){d.transform(t,(function(){var t=i.apply(this,arguments),o=this.__zoom,a=null==n?_(t):"function"==typeof n?n.apply(this,arguments):n,s=o.invert(a),u="function"==typeof e?e.apply(this,arguments):e;return r(m(p(o,u),a,s),t,l)}),n)},d.translateBy=function(t,e,n){d.transform(t,(function(){return r(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),l)}))},d.translateTo=function(t,e,n,o){d.transform(t,(function(){var t=i.apply(this,arguments),a=this.__zoom,s=null==o?_(t):"function"==typeof o?o.apply(this,arguments):o;return r(ll.translate(s[0],s[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,l)}),o)},g.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){Zt(new al(d,t,this.that.__zoom),h.apply,h,[t,this.that,this.args])}},d.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:ol(+t),d):o},d.filter=function(t){return arguments.length?(n="function"==typeof t?t:ol(!!t),d):n},d.touchable=function(t){return arguments.length?(a="function"==typeof t?t:ol(!!t),d):a},d.extent=function(t){return arguments.length?(i="function"==typeof t?t:ol([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),d):i},d.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],d):[s[0],s[1]]},d.translateExtent=function(t){return arguments.length?(l[0][0]=+t[0][0],l[1][0]=+t[1][0],l[0][1]=+t[0][1],l[1][1]=+t[1][1],d):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},d.constrain=function(t){return arguments.length?(r=t,d):r},d.duration=function(t){return arguments.length?(u=+t,d):u},d.interpolate=function(t){return arguments.length?(c=t,d):c},d.on=function(){var t=h.on.apply(h,arguments);return t===h?d:t},d.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,d):Math.sqrt(f)},d})().scaleExtent([.1,20]).on("zoom",this.handleZoom.bind(this))(this.containerMap)}},{key:"handleZoom",value:function(){var t=jt.transform;this.mapTransform.x=t.x,this.mapTransform.y=t.y,this.mapTransform.k=t.k*this.kInit,this.scale.setK(this.mapTransform.k),this.map.setTransform(this.mapTransform),this.emit("zoom",this.mapTransform)}},{key:"initCompass",value:function(){var t=this;this.compass=new Eu({parentElement:this.containerControls,initialPosition:{x:this.width-200,y:0}}),this.compass.render(),this.compass.initDragEvents(),this.compass.on("dragged",(function(e){t.mapTransform.angle=e,t.map.setTransform(t.mapTransform),t.emit("rotate",t.mapTransform)}))}},{key:"initLayerSlider",value:function(){var t=this;if(this.layers.length>1){for(var e=this.layerNames.slice(),n=0;n<this.layers.length;n+=1)e[n]||(e[n]=n);this.layerSlider=new qu({parentElement:this.containerControls,initialPosition:{x:this.width-20,y:this.MARGIN.TOP+160},values:e,height:this.height-this.MARGIN.TOP-this.MARGIN.BOTTOM-160}),this.layerSlider.render(),this.layerSlider.on("change",(function(e){t.map.setLayer(e)}))}}},{key:"initDistanceScale",value:function(){this.scale=new Tu({parentElement:this.containerControls,initialK:this.kInit,origMeter2Px:this.origMeter2Px,initialPosition:{x:45,y:45}}),this.scale.render()}},{key:"initInfoBox",value:function(){this.infoBox=new Bu({parentElement:this.containerControls,initialPosition:{x:0,y:this.height-70}}),this.infoBox.render()}},{key:"initDepthScale",value:function(){this.depthScale=new Ou({parentElement:this.containerControls,scale:this.colorScale,initialPosition:{x:45,y:60},labelMin:"".concat(this._calculateMinVal()," ").concat(this.valUnit),labelMax:"".concat(this._calculateMaxVal()," ").concat(this.valUnit)}),this.depthScale.render()}},{key:"_calculateMinVal",value:function(){return parseFloat(this.valMin.toPrecision(3))}},{key:"_calculateMaxVal",value:function(){return parseFloat(this.valMax.toPrecision(3))}},{key:"initResize",value:function(){var t=this;window.addEventListener("resize",(function(){t.width=Kt(t.elementSelector).node().offsetWidth,t.containerMap.attr("width",t.width),t.containerControls.attr("width",t.width),t.compass.setPosition({x:t.width-200,y:0}),t.layerSlider&&t.layerSlider.setPosition({x:t.width-20,y:t.MARGIN.TOP+160})}))}}])&&Ju(n.prototype,i),r&&Ju(n,r),e}(ru);function nc(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ic(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function rc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function oc(t,e){var n=rc(t,2),i=n[0],r=n[1],o=rc(e,2),a=o[0],s=o[1];return Math.sqrt((a-i)*(a-i)+(s-r)*(s-r))}var ac=function(){function t(e,n,i,r,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._canvas="string"==typeof e?Kt(e).node():e,this._bounds=this._canvas.getBoundingClientRect(),this._colors=p(85,255,10).map((function(t){return"rgba(".concat(t,", ").concat(t,", ").concat(t,", 1.0)")}));var s=(i-n)/this._colors.length;this._colorScale=function t(){var e,n=[.5],i=[0,1],r=1;function o(t){return t<=t?i[h(n,t,0,r)]:e}return o.domain=function(t){return arguments.length?(n=lr.call(t),r=Math.min(n.length,i.length-1),o):n.slice()},o.range=function(t){return arguments.length?(i=lr.call(t),r=Math.min(n.length,i.length-1),o):i.slice()},o.invertExtent=function(t){var e=i.indexOf(t);return[n[e-1],n[e]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return t().domain(n).range(i).unknown(e)},or.apply(o,arguments)}().domain(this._colors.map((function(t,e){return s*e+n}))).range(this._colors),this._particleGenerator=r,this._particles=[],this._numParticles=o,this._context=this._canvas.getContext("2d");this._fpsInterval=1e3/30,this._particles=Array(this._numParticles);for(var l=0;l<this._numParticles;l+=1)this._particles[l]=this._particleGenerator.generate();this._pixelScale=a,this._resetDrawStyle(),this._drawBuckets=new Map}var e,n,i;return e=t,(n=[{key:"_resetDrawStyle",value:function(){this._context.fillStyle="rgba(0, 0, 0, 0.96)",this._context.lineWidth=1}},{key:"_stepParticles",value:function(){var t=this,e=this._particleGenerator.field;this._particles.forEach((function(n,i){if(n.dead&&(t._particles[i]=t._particleGenerator.generate()),!n.abandoned){var r=rc(e.simulate(n.cell,n.normalPosition),2),o=r[0],a=r[1];a&&oc(a,n.normalPosition)<.001&&n.abandon(),o?(n.cell=o,n.normalPosition=a):n.abandon()}n.decay()}))}},{key:"_animate",value:function(){if(!this._stop){this._requestStep&&(this._stepParticles(),this._requestStep=!1),this._requestFillBuckets&&(this._fillDrawBuckets(),this._requestFillBuckets=!1);var t=Date.now(),e=t-this._then;this._animationId=window.requestAnimationFrame(this._animate.bind(this)),e>this._fpsInterval&&(this._then=t-e%this._fpsInterval,this._draw(),this._requestStep=!0,this._requestFillBuckets=!0)}}},{key:"_fadeTrails",value:function(){if(this._context){var t=this._context.globalCompositeOperation;this._context.globalCompositeOperation="destination-in",this._context.fillRect(0,0,this._bounds.width,this._bounds.height),this._context.globalCompositeOperation=t}}},{key:"_fillDrawBuckets",value:function(){var t=this;this._drawBuckets=new Map,this._particles.forEach((function(e){var n=e.position,i=e.previousPosition,r=oc(i,n),o=t._colorScale(r);t._drawBuckets.has(o)||t._drawBuckets.set(o,[]);var a=i.scalarMultiply(t.pixelScale),s=n.scalarMultiply(t.pixelScale);t._drawBuckets.get(o).push([a,s])}))}},{key:"_drawParticleLines",value:function(){var t=this;this._drawBuckets.forEach((function(e,n){e.length>0&&(t._context.strokeStyle=n,t._context.beginPath(),e.forEach((function(e){var n,i,r=rc(e,2),o=r[0],a=r[1];(n=t._context).moveTo.apply(n,nc(o)),(i=t._context).lineTo.apply(i,nc(a))})),t._context.stroke())}))}},{key:"_drawClear",value:function(){this._context.clearRect(0,0,this._bounds.width,this._bounds.height),this._resetDrawStyle()}},{key:"_draw",value:function(){this._requestClear&&(this._drawClear(),this._requestClear=!1),this._fadeTrails(),this._drawParticleLines()}},{key:"start",value:function(){this.stop(),this._then=Date.now(),this._stop=!1,this._animationId=window.requestAnimationFrame(this._animate.bind(this))}},{key:"clear",value:function(){this._requestClear=!0}},{key:"setTransform",value:function(t,e,n,i,r,o){this._context.resetTransform(),this._context.translate(t+o[0],e+o[1]),this._context.rotate(r*Math.PI/180),this._context.translate(-o[0],-o[1]),this._context.scale(n/i,n/i)}},{key:"stop",value:function(){this._stop=!0,this._animationId&&window.cancelAnimationFrame(this._animationId)}},{key:"particleGenerator",get:function(){return this._particleGenerator},set:function(t){this._particleGenerator=t}},{key:"pixelScale",get:function(){return this._pixelScale}}])&&ic(e.prototype,n),i&&ic(e,i),t}();function sc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function uc(t,e,n){return e&&lc(t.prototype,e),n&&lc(t,n),t}function cc(t){return"function"==typeof t[Symbol.iterator]}var hc=function(){function t(){sc(this,t);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];0===n.length?this._initEmpty():1===n.length&&n[0]instanceof Float64Array?this._initArray(n[0],n[0].length):1===n.length&&cc(n[0])?this._initArray(Float64Array.from(n[0]),n[0].length):this._initArray(new Float64Array(n),n.length)}return uc(t,[{key:"_initEmpty",value:function(){this._length=0}},{key:"_initArray",value:function(t,e){this._data=t,this._length=e}},{key:Symbol.iterator,value:function(){var t=0,e=this;return{next:function(){if(t<e._data.length){var n=t;return t+=1,{value:e._data[n],done:!1}}return{done:!0}}}}},{key:"values",value:function(){return Array.from(this._data)}},{key:"value",value:function(t){return this._data[t]}},{key:"multiply",value:function(t){return this.transform((function(e,n){return e*t.value(n)}))}},{key:"scalarMultiply",value:function(t){return this.transform((function(e){return e*t}))}},{key:"sum",value:function(t){return this.transform((function(e,n){return e+t.value(n)}))}},{key:"minus",value:function(t){return this.transform((function(e,n){return e-t.value(n)}))}},{key:"transform",value:function(e){for(var n=new Float64Array(this._length),i=0;i<this._length;i+=1)n[i]=e(this._data[i],i);var r=new t;return r._data=n,r._length=this._length,r}},{key:"length",get:function(){return this._length}},{key:"magnitude",get:function(){return Math.sqrt(this._data.map((function(t){return Math.pow(t,2)})).reduce((function(t,e){return t+e})))}}]),t}(),fc=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;sc(this,t),n?(this._data=e,this._length=i,this._rowLength=r):e.length>0?(this._data=e.map((function(t){return Float64Array.from(t)})),this._length=e.length,this._rowLength=this._data[0].length):(this._data=[],this._rowLength=0,this._length=0)}return uc(t,[{key:"values",value:function(){return this._data.reduce((function(t,e){return t.concat(Array.from(e))}),[])}},{key:Symbol.iterator,value:function(){var t=0,e=this;return{next:function(){if(t<e._data.length){var n=t;t+=1;var i=new hc;return i._data=e._data[n],i._length=e._rowLength,{value:i,done:!1}}return{done:!0}}}}},{key:"column",value:function(t){return new hc(this._data.map((function(e){return e[t]})))}},{key:"row",value:function(t){var e=new hc;return e._data=this._data[t],e._length=this._rowLength,e}},{key:"value",value:function(t,e){return this._data[t][e]}},{key:"determinant",value:function(){if(0===this.length)return 1;if(1===this.length)return this.value(0,0);if(2===this.length)return this.value(0,0)*this.value(1,1)-this.value(1,0)*this.value(0,1);throw Error("Unimplemented determinant of higher dimensions")}},{key:"transpose",value:function(){for(var e=Array(this.rowLength),n=0;n<this.length;n+=1)for(var i=0;i<this.rowLength;i+=1)e[i]||(e[i]=Array(this.length)),e[i][n]=this._data[n][i];return new t(e,!0,this._rowLength,this.length)}},{key:"multiply",value:function(e){if(0===e.length)return new t([]);if(0===this.length)return new t([]);if(this.rowLength!==e.length){var n="".concat(this.length,"x").concat(this.rowLength),i="".concat(e.length,"x").concat(e.rowLength);throw Error("Cannot multiply matrices of size ".concat(n," vs ").concat(i))}for(var r=Array(this.length),o=0;o<this.length;o+=1){r[o]=new Float64Array(e.rowLength);for(var a=0;a<e.rowLength;a+=1){r[o][a]=0;for(var s=0;s<this.rowLength;s+=1)r[o][a]+=this.value(o,s)*e.value(s,a)}}return new t(r,!0,this.length,this.rowLength)}},{key:"scalarMultiply",value:function(e){return new t(this._data.map((function(t){return t.map((function(t){return e*t}))})),!0,this._length,this._rowLength)}},{key:"vectorMultiply",value:function(t){if(0===this.length)return[];if(this.length!==t.length){var e="".concat(this.length,"x").concat(this.rowLength),n="".concat(t.length);throw Error("Cannot vector multiply matrix of size ".concat(e," vs ").concat(n))}for(var i=new Float64Array(this.rowLength),r=0;r<this.rowLength;r+=1){i[r]=0;for(var o=0;o<t.length;o+=1)i[r]+=this.value(o,r)*t.value(o)}var a=new hc;return a._data=i,a._length=this.rowLength,a}},{key:"length",get:function(){return this._length}},{key:"rowLength",get:function(){return this._rowLength}}],[{key:"identity",value:function(e){for(var n=new Array(e),i=0;i<e;i+=1)n[i]=new Float64Array(e),n[i].fill(0),n[i][i]=1;return new t(n)}}]),t}();function dc(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function pc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function mc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var _c=new hc(1,1);function vc(t,e){return t<0||t>1||e<0||e>1}var yc=function(){function t(e,n,i,r,o,a,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._corners=new fc(e),this._i=n,this._j=i,this._flux=new fc([[r,o],[a,s]]),this._leftFlux=this._flux.row(0),this._rightFlux=this._flux.row(1)}var e,n,i;return e=t,(n=[{key:"jacobian",value:function(t){var e=pc(t,2),n=e[0],i=e[1];if(n>1||n<0||i>1||i<0)throw Error("asked for jacobian of values outside unit square: ".concat(n,", ").concat(i));return new fc([[i-1,1-i,i,-i],[n-1,-n,n,1-n]],!0,2,4).multiply(this._corners)}},{key:"denormalize",value:function(t){var e=pc(t,2),n=e[0],i=e[1];if(n>1||n<0||i>1||i<0)throw Error("asked to normalize values outside unit square");var r=new hc((1-n)*(1-i),n*(1-i),n*i,(1-n)*i);return this._corners.vectorMultiply(r)}},{key:"normalVelocity",value:function(t){var e=_c.minus(t),n=t,i=this._leftFlux.multiply(e),r=this._rightFlux.multiply(n),o=this.jacobian(t).determinant();return i.sum(r).scalarMultiply(1/o)}},{key:"corners",get:function(){return this._corners}},{key:"i",get:function(){return this._i},set:function(t){this._i=t}},{key:"j",get:function(){return this._j},set:function(t){this._j=t}},{key:"flux",get:function(){return this._flux}},{key:"maxNormalSpeed",get:function(){var t=this,e=[];return[[0,0],[0,1],[1,0],[1,1]].forEach((function(n){var i=new hc(n[0],n[1]),r=t.normalVelocity(i).magnitude;e.push(r)})),Math.max.apply(Math,dc(e.map((function(t){return t||0}))))}}])&&mc(e.prototype,n),i&&mc(e,i),t}();function gc(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function bc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var wc=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._data=[],e.forEach((function(t){if(n._data[t.i]||(n._data[t.i]=[]),n._data[t.i][t.j])throw Error("Two cells given position (".concat(t.i,", ").concat(t.j,")"));n._data[t.i][t.j]=t}))}var e,n,i;return e=t,(n=[{key:"getCell",value:function(t,e){if(void 0!==this._data[t])return this._data[t][e]}},{key:"getCells",value:function(){return this._data.reduce((function(t,e){return t.concat(e)}),[])}},{key:"numColumn",value:function(t){return void 0===this._data[t]?0:this._data[t].length}},{key:"numRows",get:function(){return this._data.length}},{key:"maxColumn",get:function(){return Math.max.apply(Math,gc((t=this.numRows,pu(Array(t)).map((function(t,e){return e}))).map(this.numColumn.bind(this))));var t}}])&&bc(e.prototype,n),i&&bc(e,i),t}();function xc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Lc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var kc=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._grid=e}var e,n,i;return e=t,(n=[{key:"calculateNewCell",value:function(t,e){for(var n=xc(t,2),i=n[0],r=n[1],o=e.i,a=e.j;vc(i,r);)i<=0?(o-=1,i+=1):i>=1&&(o+=1,i-=1),r<=0?(a-=1,r+=1):r>=1&&(a+=1,r-=1);return[this._grid.getCell(o,a),new hc(i,r)]}},{key:"simulate",value:function(t,e){var n=t.normalVelocity(e),i=e.sum(n),r=xc(this.calculateNewCell(i,t),2),o=r[0],a=r[1];return o?[o,a]:[void 0,void 0]}},{key:"grid",get:function(){return this._grid}}])&&Lc(e.prototype,n),i&&Lc(e,i),t}();function Ec(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Mc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Pc=function(){function t(e,n,i){var r=Ec(e,2),o=r[0],a=r[1];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._field=i,this._normalPosition=new hc([o,a]),this._liveness=300*(.8+.4*Math.random()),this._decayRate=1,this._abandonDecayMult=.1,this._deadThreshold=.1,n?(this._cell=n,this._position=this._cell.denormalize(this._normalPosition)):this._abandoned=!0}var e,n,i;return e=t,(n=[{key:"abandon",value:function(){this._abandoned=!0}},{key:"decay",value:function(){this.abandoned?this._liveness*=this._abandonDecayMult:this._liveness-=this._decayRate}},{key:"position",get:function(){return this._position}},{key:"normalPosition",get:function(){return this._normalPosition},set:function(t){this._previousPosition=this.position,this._normalPosition=t,this._position=this._cell.denormalize(this._normalPosition)}},{key:"cell",set:function(t){this._cell=t},get:function(){return this._cell}},{key:"field",get:function(){return this._field}},{key:"previousPosition",get:function(){return this._previousPosition?this._previousPosition:this.position}},{key:"abandoned",get:function(){return this._abandoned}},{key:"dead",get:function(){return this._liveness<this._deadThreshold}}])&&Mc(e.prototype,n),i&&Mc(e,i),t}();function Tc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Cc=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.field=e}var e,n,i;return e=t,(n=[{key:"generate",value:function(){for(var t,e=this.field.grid;!t;){var n=Math.floor(Math.random()*e.numRows),i=Math.floor(Math.random()*e.maxColumn);t=e.getCell(n,i)}return new Pc([Math.random(),Math.random()],t,this.field)}}])&&Tc(e.prototype,n),i&&Tc(e,i),t}();function Sc(t){return(Sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ac(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Dc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Rc(t,e){return!e||"object"!==Sc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zc(t,e,n){return(zc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jc(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function jc(t){return(jc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ic(t,e){return(Ic=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Nc=function(t){function e(t){var n,i=t.canvasSelector,r=t.layers,o=Ac(t,["canvasSelector","layers"]);return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=Rc(this,jc(e).call(this,Object.assign(o,{layers:r}))),"string"==typeof i&&(n._canvas=Kt(i).attr("width",n.width).attr("height",n.height),n._canvasNode=n._canvas.node()),n._setNormalizedFlux(),n._setLayer(0),n._flowAnimation=new ac(n._canvasNode,0,1,n._particleGenerator,1500,n.kInit),n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ic(t,e)}(e,t),n=e,(i=[{key:"_setNormalizedFlux",value:function(){var t=this,e=[];this.layers.forEach((function(n,i){var r=t._createCells(i),o=[];r.forEach((function(t){o.push(t.maxNormalSpeed)})),e.push(Math.max.apply(Math,o))}));var n=1/Math.max.apply(Math,e);this.layers.forEach((function(t){t.forEach((function(t){t["NORMFLOWI-"]=n*t["FLOWI-"],t["NORMFLOWJ-"]=n*t["FLOWJ-"],t["NORMFLOWI+"]=n*t["FLOWI+"],t["NORMFLOWJ+"]=n*t["FLOWJ+"]}))}))}},{key:"_createCells",value:function(t){var e=[],n=this;return this.layers[t].forEach((function(t){e.push(new yc(t.points.map((function(t){var e=Oc(t,2),i=e[0],r=e[1];return[i-n.xMin,n.yMax-r]})),t.i,t.j,t["NORMFLOWI-"]||t["FLOWI-"],t["NORMFLOWJ-"]||t["FLOWJ-"],t["NORMFLOWI+"]||t["FLOWI+"],t["NORMFLOWJ+"]||t["FLOWJ+"]))})),e}},{key:"_setLayer",value:function(t){var e=new wc(this._createCells(t)),n=new kc(e);this._particleGenerator=new Cc(n)}},{key:"init",value:function(){var t=this;zc(jc(e.prototype),"init",this).call(this);var n=this;this.on("zoom",(function(e){n._flowAnimation.clear(),n._flowAnimation.setTransform(e.x,e.y,e.k,t.kInit,e.angle,[e.k*t.map.mapWidth/2,e.k*t.map.mapHeight/2])})),this.on("rotate",(function(e){n._flowAnimation.clear(),n._flowAnimation.setTransform(e.x,e.y,e.k,t.kInit,e.angle,[e.k*t.map.mapWidth/2,e.k*t.map.mapHeight/2])})),this.layerSlider&&this.layerSlider.on("change",(function(t){n._setLayer(t),n._flowAnimation.clear(),n._flowAnimation.particleGenerator=n._particleGenerator})),this._flowAnimation.setTransform(0,0,this.kInit,this.kInit,0,[0,0]),this._flowAnimation.start()}},{key:"initResize",value:function(){var t=this;zc(jc(e.prototype),"initResize",this).call(this),window.addEventListener("resize",(function(){t._canvas.attr("width",t.width),t._flowAnimation.clear();var e=t.map.mapTransform;t._flowAnimation.setTransform(e.x,e.y,e.k,t.kInit,e.angle,[e.k*t.map.mapWidth/2,e.k*t.map.mapHeight/2])}))}}])&&Dc(n.prototype,i),r&&Dc(n,r),e}(ec);function Bc(t){return(Bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Fc(t,e){return!e||"object"!==Bc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zc(t){return(Zc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Hc(t,e){return(Hc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Gc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wc(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var Yc=function(t){var e=t.layers,n=t.indexies;return e.map((function(t){return t.map((function(t){var e=t.i,i=t.j,r=t.k,o=Wc(t,["i","j","k"]),a=0,s=0;return n[r][e-1]&&n[r][e-1][i]&&void 0!==n[r][e-1][i]["FLOWI+"]&&(a=n[r][e-1][i]["FLOWI+"]),n[r][e][i-1]&&void 0!==n[r][e][i-1]["FLOWJ+"]&&(s=n[r][e][i-1]["FLOWJ+"]),function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vc(Object(n),!0).forEach((function(e){Gc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},o,{k:r,i:e,j:i,"FLOWI-":a,"FLOWJ-":s})}))}))};function qc(t){var e=[],n=t.linearscales.coord[0],i=t.linearscales.coord[1],r=t.linearscales.coord[2],o=t.linearscales.value[0],a=t.linearscales.value[1],s=t.linearscales.flow[0],l=t.linearscales.flow[1];t.values.forEach((function(t){var u=t[2];e[u]||(e[u]=[]),e[u].push({i:t[0],j:t[1],k:t[2],points:[[t[3]/n+i,t[7]/n+r],[t[4]/n+i,t[8]/n+r],[t[5]/n+i,t[9]/n+r],[t[6]/n+i,t[10]/n+r]],value:t[11]/o+a,"FLOWI+":t[12]/s+l,"FLOWJ+":t[13]/s+l})}));var u=function(t){var e={};return t.forEach((function(t){t.forEach((function(t){var n=t.k,i=t.i,r=t.j,o=Wc(t,["k","i","j"]);e[n]||(e[n]={}),e[n][i]||(e[n][i]={}),e[n][i][r]||(e[n][i][r]={},e[n][i][r]["FLOWI+"]=o["FLOWI+"],e[n][i][r]["FLOWJ+"]=o["FLOWJ+"])}))})),e}(e);return Yc({layers:e,indexies:u})}var Xc=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Fc(this,Zc(e).call(this,t))).canvas=null,n.canvasId="canvas-".concat(t.id),n.elementId="container-".concat(t.id),n}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hc(t,e)}(e,t),n=e,(i=[{key:"componentDidMount",value:function(){if(this.canvas){var t=this.props,e=t.data,n=t.height,i=t.layerNames,r=function(t){return"string"==typeof t?JSON.parse(t):t}(e),o=function(t){return"flow"in t.linearscales}(r),a="#".concat(this.canvasId),s="#".concat(this.elementId);o?function(t){var e=t.canvasSelector,n=t.elementSelector,i=t.data,r=t.height,o=t.layerNames,a=qc(i);new Nc({canvasSelector:e,elementSelector:n,layers:a,layerNames:o,height:r}).init()}({canvasSelector:a,elementSelector:s,data:r,height:n,layerNames:i}):function(t){var e=t.elementSelector,n=t.data,i=t.height,r=t.layerNames,o=function(t){var e=[],n=t.linearscales.coord[0],i=t.linearscales.coord[1],r=t.linearscales.coord[2],o=t.linearscales.value[0],a=t.linearscales.value[1];return t.values.forEach((function(t){var s=t[2];e[s]||(e[s]=[]),e[s].push({i:t[0],j:t[1],k:t[2],points:[[t[3]/n+i,t[7]/n+r],[t[4]/n+i,t[8]/n+r],[t[5]/n+i,t[9]/n+r],[t[6]/n+i,t[10]/n+r]],value:t[11]/o+a})})),e}(n);new ec({elementSelector:e,layers:o,layerNames:r,height:i}).init()}({elementSelector:s,data:r,height:n,layerNames:i})}}},{key:"render",value:function(){var t=this,e=this.props.height;return r.a.createElement("div",{style:{height:"".concat(e,"px")}},r.a.createElement("div",{id:this.elementId},r.a.createElement("canvas",{id:this.canvasId,ref:function(e){t.canvas=e},style:{pointerEvents:"none",position:"absolute",zIndex:"1"}})))}}])&&Uc(n.prototype,i),o&&Uc(n,o),e}(i.Component);Xc.defaultProps={height:800,layerNames:[]},Xc.propTypes={id:a.a.string.isRequired,data:a.a.object.isRequired,height:a.a.number,layerNames:a.a.arrayOf(a.a.string)};var Kc=Xc;function Jc(t,e,n,i){function r(t){return t.charAt(0).toUpperCase()+t.slice(1)}var o={init:function(){return this.initContainers().initMeta().initData().initGraphDimensions().initGraphScales().initGraphAxes().initGraphGenerators().initParameterDomains().initSliderDimensions().initSliderPositions().initSliderCellWidths().initSliderWidths().initSliderRanges().initSliderScale().initScaleSelection("interaction").initScaleSelection("main")},initContainers:function(){return Kt("#sensitivity-slider-plot__graph-container").remove(),Kt("#sensitivity-slider-plot__slider-container").remove(),this._graphContainer=Kt(this._target).append("div").attr("id","sensitivity-slider-plot__graph-container").classed("sensitivity-slider-plot__graph-container Pos(st) T(0) Ovx(h)",!0),this._sliderContainer=Kt(this._target).append("div").attr("id","sensitivity-slider-plot__slider-container").classed("sensitivity-slider-plot__slider-container",!0),this},initMeta:function(){return this._sliderColumns=["label","main","interaction"],this._sliderCellRelativeWidths=[2/14,6/14,6/14],this._sliderCellRelativeXPos=[0,2/14,8/14],this},initGraphDimensions:function(){return this._graphHeight=this._graphContainerHeight-this._graphContainerMargin.top-this._graphContainerMargin.bottom,this.updateGraphWidth()},updateGraphWidth:function(){return this._graphWidth=this._graphContainer.node().getBoundingClientRect().width-this._graphContainerMargin.left-this._graphContainerMargin.right,this},initData:function(){return this._bisectDate=l((function(t){return t.time})).left,this.initGraphData().initSliderData()},initGraphData:function(){return this._currentGraphDatumIndex=0,this},initSliderData:function(){this._sliderData=this._sliderColumns.map((function(t,e){return{i:0,j:e,key:e>0?"".concat(r(t)," effect"):null,clazz:"sensitivity-slider-plot__slider-col-header sensitivity-slider-plot__slider-col-header-".concat(t)}})),this._nParameters=this._parameters.length;for(var t=0;t<this._nParameters;t++)for(var e=0;e<3;e++){var n={i:t+1,j:e,key:this._parameters[t].name,type:this._sliderColumns[e]};switch(e){case 0:n.clazz="sensitivity-slider-plot__slider-row-header";break;case 1:n.values={linear:this._parameters[t].main,log:this._parameters[t].main.map((function(t){return Math.log(t)}))},n.clazz="sensitivity-slider-plot__slider-bar-container sensitivity-slider-plot__slider-bar-container-main";break;case 2:n.values={linear:this._parameters[t].interactions,log:this._parameters[t].interactions.map((function(t){return Math.log(t)}))},n.clazz="sensitivity-slider-plot__slider-bar-container sensitivity-slider-plot__slider-bar-container-interaction";break;default:throw new Error("Unknown case")}this._sliderData.push(n)}return this},initGraphScales:function(){return this._graphX=function(){return or.apply(Ha(Gr,Yr,Xr,io,oo,so,uo,ho,Co).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}(),this._graphY=Br(),this.updateGraphScales()},updateGraphScales:function(){return this._graphX.domain(f(this._output,(function(t){return t.time}))).range([0,this._graphWidth]),this._graphY.domain([L(this._output,(function(t){return t.min})),w(this._output,(function(t){return t.max}))]).range([this._graphHeight,0]),this},initGraphAxes:function(){var t;return this._graphXAxis=O(3,t).tickFormat(Co("%d.%m.%Y")),this._graphYAxis=function(t){return O(4,t)}(),this.updateGraphAxes()},initGraphLabel:function(){return this._graphG.append("text").attr("transform","translate(-70, ".concat(this._graphHeight/2,") rotate(-90)")).text(i),this},updateGraphAxes:function(){return this._graphXAxis.scale(this._graphX),this._graphYAxis.scale(this._graphY),this},initGraphGenerators:function(){var t=this;return this._area=function(){var t=ys,e=null,n=ms(0),i=gs,r=ms(!0),o=null,a=vs,s=null;function l(l){var u,c,h,f,d,p=l.length,m=!1,_=new Array(p),v=new Array(p);for(null==o&&(s=a(d=gi())),u=0;u<=p;++u){if(!(u<p&&r(f=l[u],u,l))===m)if(m=!m)c=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=c;--h)s.point(_[h],v[h]);s.lineEnd(),s.areaEnd()}m&&(_[u]=+t(f,u,l),v[u]=+n(f,u,l),s.point(e?+e(f,u,l):_[u],i?+i(f,u,l):v[u]))}if(d)return s=null,d+""||null}function u(){return bs().defined(r).curve(a).context(o)}return l.x=function(n){return arguments.length?(t="function"==typeof n?n:ms(+n),e=null,l):t},l.x0=function(e){return arguments.length?(t="function"==typeof e?e:ms(+e),l):t},l.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:ms(+t),l):e},l.y=function(t){return arguments.length?(n="function"==typeof t?t:ms(+t),i=null,l):n},l.y0=function(t){return arguments.length?(n="function"==typeof t?t:ms(+t),l):n},l.y1=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:ms(+t),l):i},l.lineX0=l.lineY0=function(){return u().x(t).y(n)},l.lineY1=function(){return u().x(t).y(i)},l.lineX1=function(){return u().x(e).y(n)},l.defined=function(t){return arguments.length?(r="function"==typeof t?t:ms(!!t),l):r},l.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),l):a},l.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),l):o},l}().x((function(e){return t._graphX(e.time)})).y0((function(e){return t._graphY(e.min)})).y1((function(e){return t._graphY(e.max)})).curve(vs),this._line=bs().x((function(e){return t._graphX(e.time)})).y((function(e){return t._graphY(e.mean)})).curve(vs),this},initGraphSVG:function(){return this._graphSVG=this._graphContainer.append("svg").classed("sensitivity-slider-plot__graph-svg",!0).attr("height",this._graphHeight+this._graphContainerMargin.top+this._graphContainerMargin.bottom),this.updateGraphSVG(),this._graphG=this._graphSVG.append("g").attr("transform","translate(".concat(this._graphContainerMargin.left,", ").concat(this._graphContainerMargin.top,")")),this},updateGraphSVG:function(){return this._graphSVG.attr("width",this._graphWidth+this._graphContainerMargin.left+this._graphContainerMargin.right),this},initParameterDomains:function(){var t=this._parameters.reduce((function(t,e){return t.concat(e.main)}),[]),e=this._parameters.reduce((function(t,e){return t.concat(e.interactions)}),[]);return this._parameterDomains={main:{linear:f(t),log:f(t.filter((function(t){return 0!==t})).map(Math.log))},interaction:{linear:f(e),log:f(e.filter((function(t){return 0!==t})).map(Math.log))}},this},initSliderDimensions:function(){return this._sliderHeight=this._sliderCellHeight-this._sliderCellPadding.top-this._sliderCellPadding.bottom,this.updateSliderRowWidth()},updateSliderRowWidth:function(){return this._sliderRowWidth=this._sliderContainer.node().getBoundingClientRect().width,this},initSliderPositions:function(){return this.updateSliderPositions()},updateSliderPositions:function(){var t=this;return this._sliderCellXPos=this._sliderColumns.map((function(e,n){return t._sliderCellRelativeXPos[n]*t._sliderRowWidth}),this),this._sliderCellYPos=["header"].concat(this._parameters.map((function(t){return t.name}))).map((function(e,n){return n*t._sliderCellHeight})),this},initSliderCellWidths:function(){return this.updateSliderCellWidths()},updateSliderCellWidths:function(){var t=this;return this._sliderCellWidths=this._sliderColumns.map((function(e,n){return t._sliderCellRelativeWidths[n]*t._sliderRowWidth}),this),this},initSliderWidths:function(){return this.updateSliderWidths()},updateSliderWidths:function(){var t=this;return this._sliderWidths=this._sliderColumns.map((function(e,n){return t._sliderCellRelativeWidths[n]*t._sliderRowWidth-t._sliderCellPadding.left-t._sliderCellPadding.right}),this),this},initSliderRanges:function(){return this.updateSliderRanges()},updateSliderRanges:function(){var t=this;return this._sliderXRanges=this._sliderColumns.map((function(e,n){return[0,t._sliderWidths[n]]}),this),this},initSliderScale:function(){return this._mainX="linear",this._interactionX="linear",this},updateSliderScale:function(t,e){"main"===t?this._mainX=e:this._interactionX=e},initScaleSelection:function(t){self=this;var e=Kt(".sensitivity-slider-plot__slider-container").insert("div",":first-child"),n=(e.append("label").style("font-size","2rem").style("min-width","150px").html("".concat(r(t)," scale")),e.append("select").on("change",(function(){self.updateSliderScale(t,this.value),self.updateSliderBars()})));return n.append("option").attr("value","linear").attr("selected","selected").html("Linear"),n.append("option").attr("value","log").html("Log"),this},initSliderSVG:function(){var t=this;this._sliderSVG=this._sliderContainer.append("svg").classed("sensitivity-slider-plot__slider-svg",!0).attr("height",(1+this._nParameters)*this._sliderCellHeight).attr("width",this._sliderRowWidth);var e=this._sliderSVG.selectAll("g").data(this._sliderData);e.enter().append("g").attr("class",(function(t){return"sensitivity-slider-plot__slider-cell".concat(t.clazz?" ".concat(t.clazz):"")})).attr("height",t._sliderCellHeight).merge(e).attr("transform",(function(e){return"translate(".concat(t._sliderCellXPos[e.j],", ").concat(t._sliderCellYPos[e.i],")")})).attr("width",(function(e){return t._sliderCellWidths[e.j]}));var n=this._sliderSVG.selectAll(".sensitivity-slider-plot__slider-col-header").selectAll("text").data((function(t){return[t]}));n.enter().append("text").classed("sensitivity-slider-plot__slider-col-header-label",!0).attr("y",t._sliderCellHeight/2).text((function(t){return t.key})).merge(n).attr("x",(function(e){return t._sliderCellWidths[e.j]/2}));var i=this._sliderSVG.selectAll(".sensitivity-slider-plot__slider-row-header").selectAll("text").data((function(t){return[t]}));return i.enter().append("text").classed("sensitivity-slider-plot__slider-row-header-label",!0).attr("y",t._sliderCellHeight/2).text((function(t){return t.key})).merge(i).attr("x",(function(e){return t._sliderCellWidths[e.j]})),this},updateSliderSVG:function(){var t=this;return this._sliderSVG.attr("width",this._sliderRowWidth),this._sliderSVG.selectAll("g").attr("transform",(function(e){return"translate(".concat(t._sliderCellXPos[e.j],", ").concat(t._sliderCellYPos[e.i],")")})).attr("width",(function(e){return t._sliderCellWidths[e.j]})),this._sliderSVG.selectAll(".sensitivity-slider-plot__slider-col-header").selectAll("text").attr("x",(function(e){return t._sliderCellWidths[e.j]/2})),this._sliderSVG.selectAll(".sensitivity-slider-plot__slider-row-header").selectAll("text").attr("x",(function(e){return t._sliderCellWidths[e.j]})),this},initSliderBars:function(){return this.updateSliderBars()},updateSliderBars:function(){var t=this,e=this,n=function(n,i,r){function o(t,e,n){return Br().domain(t).range(e)}t._sliderSVG.selectAll(n).each((function(){var t=Kt(this).selectAll(".sensitivity-slider-plot__slider-bar-background").data((function(t){return[t]}));t.enter().append("rect").classed("sensitivity-slider-plot__slider-bar-background",!0).attr("height",e._sliderHeight).attr("y",e._sliderCellPadding.top).attr("x",e._sliderCellPadding.left).merge(t).attr("width",(function(t){return e._sliderWidths[t.j]}))})).each("main"===i?function(t){var n=Kt(this),i=o(e._parameterDomains[t.type][r],e._sliderXRanges[t.j]),a=n.selectAll(".sensitivity-slider-plot__slider-bar-main").data((function(t){return[t]}));a.enter().append("rect").classed("sensitivity-slider-plot__slider-bar-main",!0).attr("height",e._sliderHeight).attr("x",e._sliderCellPadding.left).attr("y",e._sliderCellPadding.top).merge(a).transition().duration(e._transitionDuration).attr("width",(function(t){var n=t.values[r][e._currentGraphDatumIndex];return Number.isFinite(n)?i(n):0}))}:function(t){var n=Kt(this),i=o(e._parameterDomains[t.type][r],e._sliderXRanges[t.j]),a=n.selectAll(".sensitivity-slider-plot__slider-bar-interaction").data((function(t){return[t]}));a.enter().append("rect").classed("sensitivity-slider-plot__slider-bar-interaction",!0).attr("height",e._sliderHeight).attr("x",e._sliderCellPadding.left).attr("y",e._sliderCellPadding.top).merge(a).transition().duration(e._transitionDuration).attr("width",(function(t){var n=t.values[r][e._currentGraphDatumIndex];return Number.isFinite(n)?i(n):0}))}).each((function(t){var n=Kt(this),i=o(e._parameterDomains[t.type][r],e._sliderXRanges[t.j]),a=n.selectAll(".sensitivity-slider-plot__slide-bar-label").data((function(t){return[t]}));a.enter().append("text").classed("sensitivity-slider-plot__slide-bar-label",!0).attr("y",e._sliderCellHeight/2).merge(a).transition().duration(e._transitionDuration).text((function(t){var n=t.values[r][e._currentGraphDatumIndex];return Number.isFinite(n)?n.toPrecision(e._labelNumericPrecision):""})).attr("x",(function(t,n,o){var a=t.values[r][e._currentGraphDatumIndex],s=e._sliderCellPadding.left+50;if(Number.isFinite(a)){var l=i(a);return l>s?l:s}return s}))}))};return n(".sensitivity-slider-plot__slider-bar-container-main","main",this._mainX),n(".sensitivity-slider-plot__slider-bar-container-interaction","interaction",this._interactionX),this},initGraph:function(){return this._graphArea=this._graphG.append("path").datum(this._output).classed("sensitivity-slider-plot__graph-area",!0),this._graphLine=this._graphG.append("path").datum(this._output).classed("sensitivity-slider-plot__graph-line",!0),this.updateGraph()},updateGraph:function(){return this._graphArea.attr("d",this._area),this._graphLine.attr("d",this._line),this},initGraphAxesG:function(){return this._graphG.append("g").classed("x axis",!0).attr("transform","translate(0, ".concat(this._graphHeight,")")),this._graphG.append("g").classed("y axis",!0),this.updateGraphAxesG()},updateGraphAxesG:function(){return this._graphG.select("g.x.axis").call(this._graphXAxis),this._graphG.select("g.y.axis").call(this._graphYAxis),this},initGraphFocus:function(){return this._graphFocus=this._graphG.append("g").classed("sensitivity-slider-plot__graph-focus",!0).style("display","none"),this._graphFocus.append("circle").classed("max sensitivity-slider-plot__graph-focus-circle",!0),this._graphFocus.append("circle").classed("mean sensitivity-slider-plot__graph-focus-circle",!0),this._graphFocus.append("circle").classed("min sensitivity-slider-plot__graph-focus-circle",!0),this._graphFocus.append("text").classed("max sensitivity-slider-plot__graph-focus-text",!0).attr("x",9).attr("dy","-.35em"),this._graphFocus.append("text").classed("mean sensitivity-slider-plot__graph-focus-text",!0).attr("x",9).attr("dy","-.35em"),this._graphFocus.append("text").classed("min sensitivity-slider-plot__graph-focus-text",!0).attr("x",9).attr("dy","-.35em"),this._graphFocus.append("line").classed("sensitivity-slider-plot__graph-focus-line",!0),this.updateGraphFocus()},updateGraphFocus:function(){return this._graphFocus.select("line").attr("y1",this._graphY(this._graphY.domain()[0])).attr("y2",this._graphY(this._graphY.domain()[1])),this},initGraphOverlay:function(){var t=this;return this._graphG.append("rect").classed("sensitivity-slider-plot__graph-overlay",!0).on("mouseover",(function(){return t._graphFocus.style("display",null)})).on("mouseout",(function(){return t._graphFocus.style("display","none")})).on("mousemove",this.createOnMouseMove()),this.updateGraphOverlay()},updateGraphOverlay:function(){return this._graphG.select("rect.sensitivity-slider-plot__graph-overlay").attr("width",this._graphWidth).attr("height",this._graphHeight),this},draw:function(){return this.initGraphSVG().initGraphAxesG().initGraph().initGraphFocus().initGraphLabel().initGraphOverlay().initSliderSVG().initSliderBars()},onResize:function(){return this.updateGraphWidth().updateGraphScales().updateGraphSVG().updateGraphAxesG().updateGraph().updateGraphOverlay().updateSliderRowWidth().updateSliderPositions().updateSliderCellWidths().updateSliderWidths().updateSliderRanges().updateSliderSVG().updateSliderBars()},onGraphDatumSelect:function(t){var e=this._output.indexOf(t);return e!==this._currentGraphDatumIndex&&(this._currentGraphDatumIndex=e,this.updateSliderBars()),this},createOnMouseMove:function(){var t=this;return function(){var e=t._graphX.invert($e(this)[0]),n=t._bisectDate(t._output,e,1),i=t._output[n-1],r=t._output[n],o=e-i.time>r.time-e?r:i,a=t._output.indexOf(o)===t._output.length-1?-80:9,s=t._graphY(o.min)-t._graphY(o.max)<30?t._graphY(o.max)-30:t._graphY(o.max),l=t._graphY(o.min)-t._graphY(o.max)<30?t._graphY(o.mean)-15:t._graphY(o.mean);t._graphFocus.attr("transform","translate(".concat(t._graphX(o.time),", 0)")),t._graphFocus.select("circle.max").attr("cy",t._graphY(o.max)),t._graphFocus.select("text.max").attr("y",s).attr("x",a).text("max: ".concat(o.max.toPrecision(t._labelNumericPrecision))),t._graphFocus.select("circle.mean").attr("cy",t._graphY(o.mean)),t._graphFocus.select("text.mean").attr("y",l).attr("x",a).text("mean: ".concat(o.mean.toPrecision(t._labelNumericPrecision))),t._graphFocus.select("circle.min").attr("cy",t._graphY(o.min)),t._graphFocus.select("text.min").attr("y",t._graphY(o.min)).attr("x",a).text("min: ".concat(o.min.toPrecision(t._labelNumericPrecision))),t.onGraphDatumSelect(o)}}};return Object.assign(Object.create(o),{_target:t,_parameters:n,_output:e,_graphContainerHeight:300,_graphContainerMargin:{top:20,right:30,bottom:50,left:80},_sliderCellHeight:40,_sliderCellPadding:{top:10,right:10,bottom:10,left:20},_parameterDomainPadding:{top:.1,bottom:.4},_labelNumericPrecision:4,_transitionDuration:200}).init()}n(123);function $c(t){return($c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function th(t,e){return!e||"object"!==$c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function eh(t){return(eh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nh(t,e){return(nh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ih=function(t){return"string"==typeof t?JSON.parse(t):t},rh=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=th(this,eh(e).call(this,t))).elementId="container-".concat(t.id),n}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nh(t,e)}(e,t),n=e,(i=[{key:"componentDidMount",value:function(){var t=this.props,e=t.output,n=t.parameters,i=t.parameter,r=t.height;if(e&&n&&i){var o=ih(e);o.time=o.forEach((function(t){t.time=new Date(t.time)}));var a=ih(n);new Jc("#".concat(this.elementId),o,a,i,r).draw()}}},{key:"componentDidUpdate",value:function(){var t=this.props,e=t.output,n=t.parameters,i=t.parameter,r=t.height;if(e&&n&&i){var o=ih(e);o.time=o.forEach((function(t){t.time=new Date(t.time)}));var a=ih(n);new Jc("#".concat(this.elementId),o,a,i,r).draw()}}},{key:"render",value:function(){return r.a.createElement("div",{id:this.elementId})}}])&&Qc(n.prototype,i),o&&Qc(n,o),e}(i.Component);rh.defaultProps={height:800},rh.propTypes={id:a.a.string.isRequired,parameter:a.a.string,output:a.a.arrayOf(a.a.object),parameters:a.a.arrayOf(a.a.object),height:a.a.number};var oh=rh,ah=(n(56),n(2)),sh=n.n(ah);function lh(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}function uh(){return(uh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function ch(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hh(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function fh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var dh=n(14),ph=n.n(dh),mh=Object(i.createContext)({}),_h=mh.Consumer,vh=mh.Provider,yh=function(t){var e=function(e,n){return r.a.createElement(_h,null,(function(i){return r.a.createElement(t,uh({},e,{leaflet:i,ref:n}))}))},n=t.displayName||t.name||"Component";e.displayName="Leaflet("+n+")";var o=Object(i.forwardRef)(e);return ph()(o,t),o},gh=function(t){function e(e){var n;return fh(ch(n=t.call(this,e)||this),"leafletElement",void 0),n.leafletElement=n.createLeafletElement(n.props),n}hh(e,t);var n=e.prototype;return n.createLeafletElement=function(t){throw new Error("createLeafletElement() must be implemented")},n.updateLeafletElement=function(t,e){e.position!==t.position&&this.leafletElement.setPosition(e.position)},n.componentDidMount=function(){this.leafletElement.addTo(this.props.leaflet.map)},n.componentDidUpdate=function(t){this.updateLeafletElement(t,this.props)},n.componentWillUnmount=function(){this.leafletElement.remove()},n.render=function(){return null},e}(i.Component),bh=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return fh(ch(e=t.call.apply(t,[this].concat(i))||this),"contextValue",void 0),fh(ch(e),"layer",void 0),e}hh(e,t);var n=e.prototype;return n.componentDidUpdate=function(t){var e=t.checked;null!=this.props.leaflet.map&&(!0!==this.props.checked||null!=e&&!1!==e?!0!==e||null!=this.props.checked&&!1!==this.props.checked||this.props.leaflet.map.removeLayer(this.layer):this.props.leaflet.map.addLayer(this.layer))},n.componentWillUnmount=function(){this.props.removeLayerControl(this.layer)},n.addLayer=function(){throw new Error("Must be implemented in extending class")},n.removeLayer=function(t){this.props.removeLayer(t)},n.render=function(){var t=this.props.children;return t?r.a.createElement(vh,{value:this.contextValue},t):null},e}(i.Component),wh=function(t){function e(e){var n;return fh(ch(n=t.call(this,e)||this),"addLayer",(function(t){n.layer=t;var e=n.props,i=e.addBaseLayer,r=e.checked;i(t,e.name,r)})),n.contextValue=uh({},e.leaflet,{layerContainer:{addLayer:n.addLayer.bind(ch(n)),removeLayer:n.removeLayer.bind(ch(n))}}),n}return hh(e,t),e}(bh),xh=function(t){function e(e){var n;return fh(ch(n=t.call(this,e)||this),"addLayer",(function(t){n.layer=t;var e=n.props,i=e.addOverlay,r=e.checked;i(t,e.name,r)})),n.contextValue=uh({},e.leaflet,{layerContainer:{addLayer:n.addLayer.bind(ch(n)),removeLayer:n.removeLayer.bind(ch(n))}}),n}return hh(e,t),e}(bh),Lh=yh(function(t){function e(e){var n;return fh(ch(n=t.call(this,e)||this),"controlProps",void 0),n.controlProps={addBaseLayer:n.addBaseLayer.bind(ch(n)),addOverlay:n.addOverlay.bind(ch(n)),leaflet:e.leaflet,removeLayer:n.removeLayer.bind(ch(n)),removeLayerControl:n.removeLayerControl.bind(ch(n))},n}hh(e,t);var n=e.prototype;return n.createLeafletElement=function(t){t.children;var e=lh(t,["children"]);return new ah.Control.Layers(void 0,void 0,e)},n.updateLeafletElement=function(e,n){t.prototype.updateLeafletElement.call(this,e,n),n.collapsed!==e.collapsed&&(!0===n.collapsed?this.leafletElement.collapse():this.leafletElement.expand())},n.componentWillUnmount=function(){var e=this;setTimeout((function(){t.prototype.componentWillUnmount.call(e)}),0)},n.addBaseLayer=function(t,e,n){void 0===n&&(n=!1),n&&null!=this.props.leaflet.map&&this.props.leaflet.map.addLayer(t),this.leafletElement.addBaseLayer(t,e)},n.addOverlay=function(t,e,n){void 0===n&&(n=!1),n&&null!=this.props.leaflet.map&&this.props.leaflet.map.addLayer(t),this.leafletElement.addOverlay(t,e)},n.removeLayer=function(t){null!=this.props.leaflet.map&&this.props.leaflet.map.removeLayer(t)},n.removeLayerControl=function(t){this.leafletElement.removeLayer(t)},n.render=function(){var t=this,e=i.Children.map(this.props.children,(function(e){return e?Object(i.cloneElement)(e,t.controlProps):null}));return r.a.createElement(i.Fragment,null,e)},e}(gh));Lh.BaseLayer=wh,Lh.Overlay=xh;var kh=Lh,Eh=/^on(.+)$/i,Mh=function(t){function e(e){var n;return fh(ch(n=t.call(this,e)||this),"_leafletEvents",void 0),fh(ch(n),"leafletElement",void 0),n._leafletEvents=n.extractLeafletEvents(e),n}hh(e,t);var n=e.prototype;return n.componentDidMount=function(){this.bindLeafletEvents(this._leafletEvents)},n.componentDidUpdate=function(t){this._leafletEvents=this.bindLeafletEvents(this.extractLeafletEvents(this.props),this._leafletEvents)},n.componentWillUnmount=function(){var t=this,e=this.leafletElement;e&&Object.keys(this._leafletEvents).forEach((function(n){e.off(n,t._leafletEvents[n])}))},n.extractLeafletEvents=function(t){return Object.keys(t).reduce((function(e,n){Eh.test(n)&&(null!=t[n]&&(e[n.replace(Eh,(function(t,e){return e.toLowerCase()}))]=t[n]));return e}),{})},n.bindLeafletEvents=function(t,e){void 0===t&&(t={}),void 0===e&&(e={});var n=this.leafletElement;if(null==n||null==n.on)return{};var i=uh({},e);return Object.keys(e).forEach((function(r){null!=t[r]&&e[r]===t[r]||(delete i[r],n.off(r,e[r]))})),Object.keys(t).forEach((function(r){null!=e[r]&&t[r]===e[r]||(i[r]=t[r],n.on(r,t[r]))})),i},n.fireLeafletEvent=function(t,e){var n=this.leafletElement;n&&n.fire(t,e)},e}(i.Component),Ph=function(t){return void 0===t&&(t=""),t.split(" ").filter(Boolean)},Th=function(t,e,n){null!=t&&n!==e&&(null!=e&&e.length>0&&function(t,e){Ph(e).forEach((function(e){ah.DomUtil.removeClass(t,e)}))}(t,e),null!=n&&n.length>0&&function(t,e){Ph(e).forEach((function(e){ah.DomUtil.addClass(t,e)}))}(t,n))};function Ch(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Object.keys(t).reduce((function(e,i){return-1===n.indexOf(i)&&(e[i]=t[i]),e}),{})}var Sh=["children","className","id","style","useFlyTo","whenReady"],Oh=function(t){return Array.isArray(t)?[t[0],t[1]]:[t.lat,t.lon?t.lon:t.lng]},Ah=function(t){function e(e){var n;return fh(ch(n=t.call(this,e)||this),"className",void 0),fh(ch(n),"contextValue",void 0),fh(ch(n),"container",void 0),fh(ch(n),"viewport",{center:void 0,zoom:void 0}),fh(ch(n),"_ready",!1),fh(ch(n),"_updating",!1),fh(ch(n),"onViewportChange",(function(){var t=n.leafletElement.getCenter();n.viewport={center:t?[t.lat,t.lng]:void 0,zoom:n.leafletElement.getZoom()},n.props.onViewportChange&&!n._updating&&n.props.onViewportChange(n.viewport)})),fh(ch(n),"onViewportChanged",(function(){n.props.onViewportChanged&&!n._updating&&n.props.onViewportChanged(n.viewport)})),fh(ch(n),"bindContainer",(function(t){n.container=t})),n.className=e.className,n}hh(e,t);var n=e.prototype;return n.createLeafletElement=function(t){var e=t.viewport,n=lh(t,["viewport"]);return e&&(e.center&&(n.center=e.center),"number"==typeof e.zoom&&(n.zoom=e.zoom)),new ah.Map(this.container,n)},n.updateLeafletElement=function(t,e){this._updating=!0;var n=e.bounds,i=e.boundsOptions,r=e.boxZoom,o=e.center,a=e.className,s=e.doubleClickZoom,l=e.dragging,u=e.keyboard,c=e.maxBounds,h=e.scrollWheelZoom,f=e.tap,d=e.touchZoom,p=e.useFlyTo,m=e.viewport,_=e.zoom;if(Th(this.container,t.className,a),m&&m!==t.viewport){var v=m.center?m.center:o,y=null==m.zoom?_:m.zoom;!0===p?this.leafletElement.flyTo(v,y,this.getZoomPanOptions(e)):this.leafletElement.setView(v,y,this.getZoomPanOptions(e))}else o&&this.shouldUpdateCenter(o,t.center)?!0===p?this.leafletElement.flyTo(o,_,this.getZoomPanOptions(e)):this.leafletElement.setView(o,_,this.getZoomPanOptions(e)):"number"==typeof _&&_!==t.zoom&&(null==t.zoom?this.leafletElement.setView(o,_,this.getZoomPanOptions(e)):this.leafletElement.setZoom(_,this.getZoomPanOptions(e)));c&&this.shouldUpdateBounds(c,t.maxBounds)&&this.leafletElement.setMaxBounds(c),n&&(this.shouldUpdateBounds(n,t.bounds)||i!==t.boundsOptions)&&(!0===p?this.leafletElement.flyToBounds(n,this.getFitBoundsOptions(e)):this.leafletElement.fitBounds(n,this.getFitBoundsOptions(e))),r!==t.boxZoom&&(!0===r?this.leafletElement.boxZoom.enable():this.leafletElement.boxZoom.disable()),s!==t.doubleClickZoom&&(!0===s||"string"==typeof s?(this.leafletElement.options.doubleClickZoom=s,this.leafletElement.doubleClickZoom.enable()):this.leafletElement.doubleClickZoom.disable()),l!==t.dragging&&(!0===l?this.leafletElement.dragging.enable():this.leafletElement.dragging.disable()),u!==t.keyboard&&(!0===u?this.leafletElement.keyboard.enable():this.leafletElement.keyboard.disable()),h!==t.scrollWheelZoom&&(!0===h||"string"==typeof h?(this.leafletElement.options.scrollWheelZoom=h,this.leafletElement.scrollWheelZoom.enable()):this.leafletElement.scrollWheelZoom.disable()),f!==t.tap&&(!0===f?this.leafletElement.tap.enable():this.leafletElement.tap.disable()),d!==t.touchZoom&&(!0===d||"string"==typeof d?(this.leafletElement.options.touchZoom=d,this.leafletElement.touchZoom.enable()):this.leafletElement.touchZoom.disable()),this._updating=!1},n.getZoomPanOptions=function(t){return{animate:t.animate,duration:t.duration,easeLinearity:t.easeLinearity,noMoveStart:t.noMoveStart}},n.getFitBoundsOptions=function(t){return uh({},this.getZoomPanOptions(t),{},t.boundsOptions)},n.componentDidMount=function(){var e=Ch.apply(void 0,[this.props].concat(Sh));this.leafletElement=this.createLeafletElement(e),this.leafletElement.on("move",this.onViewportChange),this.leafletElement.on("moveend",this.onViewportChanged),null!=e.bounds&&this.leafletElement.fitBounds(e.bounds,this.getFitBoundsOptions(e)),this.contextValue={layerContainer:this.leafletElement,map:this.leafletElement},t.prototype.componentDidMount.call(this),this.forceUpdate()},n.componentDidUpdate=function(e){!1===this._ready&&(this._ready=!0,this.props.whenReady&&this.leafletElement.whenReady(this.props.whenReady)),t.prototype.componentDidUpdate.call(this,e),this.updateLeafletElement(e,this.props)},n.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.leafletElement.off("move",this.onViewportChange),this.leafletElement.off("moveend",this.onViewportChanged),!0===this.props.preferCanvas?(this.leafletElement._initEvents(!0),this.leafletElement._stop()):this.leafletElement.remove()},n.shouldUpdateCenter=function(t,e){return!e||(t=Oh(t),e=Oh(e),t[0]!==e[0]||t[1]!==e[1])},n.shouldUpdateBounds=function(t,e){return!e||!Object(ah.latLngBounds)(t).equals(Object(ah.latLngBounds)(e))},n.render=function(){return r.a.createElement("div",{className:this.className,id:this.props.id,ref:this.bindContainer,style:this.props.style},this.contextValue?r.a.createElement(vh,{value:this.contextValue},this.props.children):null)},e}(Mh),Dh=yh(function(t){function e(){return t.apply(this,arguments)||this}return hh(e,t),e.prototype.createLeafletElement=function(t){return new ah.Control.Scale(t)},e}(gh)),Rh=n(59),zh=n.n(Rh);function jh(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ih(t,e,n){return e&&jh(t.prototype,e),n&&jh(t,n),t}var Nh=function(t){function e(){return t.apply(this,arguments)||this}return hh(e,t),e.prototype.getOptions=function(t){return null!=t.pane?t:null!=t.leaflet&&null!=t.leaflet.pane?uh({},t,{pane:t.leaflet.pane}):t},e}(Mh),Bh=function(t){function e(e){var n;return fh(ch(n=t.call(this,e)||this),"contextValue",void 0),fh(ch(n),"leafletElement",void 0),n.leafletElement=n.createLeafletElement(e),n}hh(e,t);var n=e.prototype;return n.createLeafletElement=function(t){throw new Error("createLeafletElement() must be implemented")},n.updateLeafletElement=function(t,e){},n.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.layerContainer.addLayer(this.leafletElement)},n.componentDidUpdate=function(e){if(t.prototype.componentDidUpdate.call(this,e),this.props.attribution!==e.attribution){var n=this.props.leaflet.map;null!=n&&null!=n.attributionControl&&(n.attributionControl.removeAttribution(e.attribution),n.attributionControl.addAttribution(this.props.attribution))}this.updateLeafletElement(e,this.props)},n.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.layerContainer.removeLayer(this.leafletElement)},n.render=function(){var t=this.props.children;return null==t?null:null==this.contextValue?r.a.createElement(i.Fragment,null,t):r.a.createElement(vh,{value:this.contextValue},t)},Ih(e,[{key:"layerContainer",get:function(){return this.props.leaflet.layerContainer||this.props.leaflet.map}}]),e}(Nh);var Uh=["stroke","color","weight","opacity","lineCap","lineJoin","dashArray","dashOffset","fill","fillColor","fillOpacity","fillRule","bubblingMouseEvents","renderer","className","interactive","pane","attribution"],Fh=function(t){function e(e){var n;return null==(n=t.call(this,e)||this).contextValue&&(n.contextValue=uh({},e.leaflet,{popupContainer:n.leafletElement})),n}hh(e,t);var n=e.prototype;return n.componentDidUpdate=function(e){t.prototype.componentDidUpdate.call(this,e),this.setStyleIfChanged(e,this.props)},n.getPathOptions=function(t){return e=t,Uh.reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{});var e},n.setStyle=function(t){void 0===t&&(t={}),this.leafletElement.setStyle(t)},n.setStyleIfChanged=function(t,e){var n=this.getPathOptions(e);zh()(n,this.getPathOptions(t))||this.setStyle(n)},e}(Bh),Zh=yh(function(t){function e(){return t.apply(this,arguments)||this}hh(e,t);var n=e.prototype;return n.createLeafletElement=function(t){var e=new ah.FeatureGroup(this.getOptions(t));return this.contextValue=uh({},t.leaflet,{layerContainer:e,popupContainer:e}),e},n.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.setStyle(this.props)},e}(Fh)),Hh=yh(function(t){function e(){return t.apply(this,arguments)||this}hh(e,t);var n=e.prototype;return n.createLeafletElement=function(t){var e=new ah.CircleMarker(t.center,this.getOptions(t));return this.contextValue=uh({},t.leaflet,{popupContainer:e}),e},n.updateLeafletElement=function(t,e){e.center!==t.center&&this.leafletElement.setLatLng(e.center),e.radius!==t.radius&&this.leafletElement.setRadius(e.radius)},e}(Fh)),Vh=n(4),Gh=n.n(Vh);function Wh(t,e){if(null==t)return{};var n,i,r=lh(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yh(t){var e,n,i="";if(t)if("object"==typeof t)if(t.push)for(e=0;e<t.length;e++)t[e]&&(n=Yh(t[e]))&&(i&&(i+=" "),i+=n);else for(e in t)t[e]&&(n=Yh(e))&&(i&&(i+=" "),i+=n);else"boolean"==typeof t||t.call||(i&&(i+=" "),i+=t);return i}var qh=function(){for(var t,e=0,n="";e<arguments.length;)(t=Yh(arguments[e++]))&&(n&&(n+=" "),n+=t);return n},Xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh="object"===("undefined"==typeof window?"undefined":Xh(window))&&"object"===("undefined"==typeof document?"undefined":Xh(document))&&9===document.nodeType;var Jh={}.constructor;function $h(t){if(null==t||"object"!=typeof t)return t;if(Array.isArray(t))return t.map($h);if(t.constructor!==Jh)return t;var e={};for(var n in t)e[n]=$h(t[n]);return e}function Qh(t,e,n){void 0===t&&(t="unnamed");var i=n.jss,r=$h(e),o=i.plugins.onCreateRule(t,r,n);return o||(t[0],null)}var tf=function(t,e){for(var n="",i=0;i<t.length&&"!important"!==t[i];i++)n&&(n+=e),n+=t[i];return n};function ef(t,e){if(void 0===e&&(e=!1),!Array.isArray(t))return t;var n="";if(Array.isArray(t[0]))for(var i=0;i<t.length&&"!important"!==t[i];i++)n&&(n+=", "),n+=tf(t[i]," ");else n=tf(t,", ");return e||"!important"!==t[t.length-1]||(n+=" !important"),n}function nf(t,e){for(var n="",i=0;i<e;i++)n+="  ";return n+t}function rf(t,e,n){void 0===n&&(n={});var i="";if(!e)return i;var r=n.indent,o=void 0===r?0:r,a=e.fallbacks;if(t&&o++,a)if(Array.isArray(a))for(var s=0;s<a.length;s++){var l=a[s];for(var u in l){var c=l[u];null!=c&&(i&&(i+="\n"),i+=""+nf(u+": "+ef(c)+";",o))}}else for(var h in a){var f=a[h];null!=f&&(i&&(i+="\n"),i+=""+nf(h+": "+ef(f)+";",o))}for(var d in e){var p=e[d];null!=p&&"fallbacks"!==d&&(i&&(i+="\n"),i+=""+nf(d+": "+ef(p)+";",o))}return(i||n.allowEmpty)&&t?(i&&(i="\n"+i+"\n"),nf(t+" {"+i,--o)+nf("}",o)):i}var of=/([[\].#*$><+~=|^:(),"'`\s])/g,af="undefined"!=typeof CSS&&CSS.escape,sf=function(t){return af?af(t):t.replace(of,"\\$1")},lf=function(){function t(t,e,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var i=n.sheet,r=n.Renderer;this.key=t,this.options=n,this.style=e,i?this.renderer=i.renderer:r&&(this.renderer=new r)}return t.prototype.prop=function(t,e,n){if(void 0===e)return this.style[t];var i=!!n&&n.force;if(!i&&this.style[t]===e)return this;var r=e;n&&!1===n.process||(r=this.options.jss.plugins.onChangeValue(e,t,this));var o=null==r||!1===r,a=t in this.style;if(o&&!a&&!i)return this;var s=o&&a;if(s?delete this.style[t]:this.style[t]=r,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,t):this.renderer.setProperty(this.renderable,t,r),this;var l=this.options.sheet;return l&&l.attached,this},t}(),uf=function(t){function e(e,n,i){var r;(r=t.call(this,e,n,i)||this).selectorText=void 0,r.id=void 0,r.renderable=void 0;var o=i.selector,a=i.scoped,s=i.sheet,l=i.generateId;return o?r.selectorText=o:!1!==a&&(r.id=l(ch(ch(r)),s),r.selectorText="."+sf(r.id)),r}hh(e,t);var n=e.prototype;return n.applyTo=function(t){var e=this.renderer;if(e){var n=this.toJSON();for(var i in n)e.setProperty(t,i,n[i])}return this},n.toJSON=function(){var t={};for(var e in this.style){var n=this.style[e];"object"!=typeof n?t[e]=n:Array.isArray(n)&&(t[e]=ef(n))}return t},n.toString=function(t){var e=this.options.sheet,n=!!e&&e.options.link?uh({},t,{allowEmpty:!0}):t;return rf(this.selectorText,this.style,n)},Ih(e,[{key:"selector",set:function(t){if(t!==this.selectorText){this.selectorText=t;var e=this.renderer,n=this.renderable;if(n&&e)e.setSelector(n,t)||e.replaceRule(n,this)}},get:function(){return this.selectorText}}]),e}(lf),cf={onCreateRule:function(t,e,n){return"@"===t[0]||n.parent&&"keyframes"===n.parent.type?null:new uf(t,e,n)}},hf={indent:1,children:!0},ff=/@([\w-]+)/,df=function(){function t(t,e,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.query=n.name;var i=t.match(ff);for(var r in this.at=i?i[1]:"unknown",this.options=n,this.rules=new zf(uh({},n,{parent:this})),e)this.rules.add(r,e[r]);this.rules.process()}var e=t.prototype;return e.getRule=function(t){return this.rules.get(t)},e.indexOf=function(t){return this.rules.indexOf(t)},e.addRule=function(t,e,n){var i=this.rules.add(t,e,n);return i?(this.options.jss.plugins.onProcessRule(i),i):null},e.toString=function(t){if(void 0===t&&(t=hf),null==t.indent&&(t.indent=hf.indent),null==t.children&&(t.children=hf.children),!1===t.children)return this.query+" {}";var e=this.rules.toString(t);return e?this.query+" {\n"+e+"\n}":""},t}(),pf=/@media|@supports\s+/,mf={onCreateRule:function(t,e,n){return pf.test(t)?new df(t,e,n):null}},_f={indent:1,children:!0},vf=/@keyframes\s+([\w-]+)/,yf=function(){function t(t,e,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var i=t.match(vf);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var r=n.scoped,o=n.sheet,a=n.generateId;for(var s in this.id=!1===r?this.name:sf(a(this,o)),this.rules=new zf(uh({},n,{parent:this})),e)this.rules.add(s,e[s],uh({},n,{parent:this}));this.rules.process()}return t.prototype.toString=function(t){if(void 0===t&&(t=_f),null==t.indent&&(t.indent=_f.indent),null==t.children&&(t.children=_f.children),!1===t.children)return this.at+" "+this.id+" {}";var e=this.rules.toString(t);return e&&(e="\n"+e+"\n"),this.at+" "+this.id+" {"+e+"}"},t}(),gf=/@keyframes\s+/,bf=/\$([\w-]+)/g,wf=function(t,e){return"string"==typeof t?t.replace(bf,(function(t,n){return n in e?e[n]:t})):t},xf=function(t,e,n){var i=t[e],r=wf(i,n);r!==i&&(t[e]=r)},Lf={onCreateRule:function(t,e,n){return"string"==typeof t&&gf.test(t)?new yf(t,e,n):null},onProcessStyle:function(t,e,n){return"style"===e.type&&n?("animation-name"in t&&xf(t,"animation-name",n.keyframes),"animation"in t&&xf(t,"animation",n.keyframes),t):t},onChangeValue:function(t,e,n){var i=n.options.sheet;if(!i)return t;switch(e){case"animation":case"animation-name":return wf(t,i.keyframes);default:return t}}},kf=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).renderable=void 0,e}return hh(e,t),e.prototype.toString=function(t){var e=this.options.sheet,n=!!e&&e.options.link?uh({},t,{allowEmpty:!0}):t;return rf(this.key,this.style,n)},e}(lf),Ef={onCreateRule:function(t,e,n){return n.parent&&"keyframes"===n.parent.type?new kf(t,e,n):null}},Mf=function(){function t(t,e,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=e,this.options=n}return t.prototype.toString=function(t){if(Array.isArray(this.style)){for(var e="",n=0;n<this.style.length;n++)e+=rf(this.key,this.style[n]),this.style[n+1]&&(e+="\n");return e}return rf(this.key,this.style,t)},t}(),Pf={onCreateRule:function(t,e,n){return"@font-face"===t?new Mf(t,e,n):null}},Tf=function(){function t(t,e,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=e,this.options=n}return t.prototype.toString=function(t){return rf(this.key,this.style,t)},t}(),Cf={onCreateRule:function(t,e,n){return"@viewport"===t||"@-ms-viewport"===t?new Tf(t,e,n):null}},Sf=function(){function t(t,e,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.value=e,this.options=n}return t.prototype.toString=function(t){if(Array.isArray(this.value)){for(var e="",n=0;n<this.value.length;n++)e+=this.key+" "+this.value[n]+";",this.value[n+1]&&(e+="\n");return e}return this.key+" "+this.value+";"},t}(),Of={"@charset":!0,"@import":!0,"@namespace":!0},Af=[cf,mf,Lf,Ef,Pf,Cf,{onCreateRule:function(t,e,n){return t in Of?new Sf(t,e,n):null}}],Df={process:!0},Rf={force:!0,process:!0},zf=function(){function t(t){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=t,this.classes=t.classes,this.keyframes=t.keyframes}var e=t.prototype;return e.add=function(t,e,n){var i=this.options,r=i.parent,o=i.sheet,a=i.jss,s=i.Renderer,l=i.generateId,u=i.scoped,c=uh({classes:this.classes,parent:r,sheet:o,jss:a,Renderer:s,generateId:l,scoped:u,name:t},n),h=t;t in this.raw&&(h=t+"-d"+this.counter++),this.raw[h]=e,h in this.classes&&(c.selector="."+sf(this.classes[h]));var f=Qh(h,e,c);if(!f)return null;this.register(f);var d=void 0===c.index?this.index.length:c.index;return this.index.splice(d,0,f),f},e.get=function(t){return this.map[t]},e.remove=function(t){this.unregister(t),delete this.raw[t.key],this.index.splice(this.index.indexOf(t),1)},e.indexOf=function(t){return this.index.indexOf(t)},e.process=function(){var t=this.options.jss.plugins;this.index.slice(0).forEach(t.onProcessRule,t)},e.register=function(t){this.map[t.key]=t,t instanceof uf?(this.map[t.selector]=t,t.id&&(this.classes[t.key]=t.id)):t instanceof yf&&this.keyframes&&(this.keyframes[t.name]=t.id)},e.unregister=function(t){delete this.map[t.key],t instanceof uf?(delete this.map[t.selector],delete this.classes[t.key]):t instanceof yf&&delete this.keyframes[t.name]},e.update=function(){var t,e,n;if("string"==typeof(arguments.length<=0?void 0:arguments[0])?(t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],t=null),t)this.updateOne(this.map[t],e,n);else for(var i=0;i<this.index.length;i++)this.updateOne(this.index[i],e,n)},e.updateOne=function(e,n,i){void 0===i&&(i=Df);var r=this.options,o=r.jss.plugins,a=r.sheet;if(e.rules instanceof t)e.rules.update(n,i);else{var s=e,l=s.style;if(o.onUpdate(n,e,a,i),i.process&&l&&l!==s.style){for(var u in o.onProcessStyle(s.style,s,a),s.style){var c=s.style[u];c!==l[u]&&s.prop(u,c,Rf)}for(var h in l){var f=s.style[h],d=l[h];null==f&&f!==d&&s.prop(h,null,Rf)}}}},e.toString=function(t){for(var e="",n=this.options.sheet,i=!!n&&n.options.link,r=0;r<this.index.length;r++){var o=this.index[r].toString(t);(o||i)&&(e&&(e+="\n"),e+=o)}return e},t}(),jf=function(){function t(t,e){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=uh({},e,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),e.Renderer&&(this.renderer=new e.Renderer(this)),this.rules=new zf(this.options),t)this.rules.add(n,t[n]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(t,e,n){var i=this.queue;this.attached&&!i&&(this.queue=[]);var r=this.rules.add(t,e,n);return r?(this.options.jss.plugins.onProcessRule(r),this.attached?this.deployed?(i?i.push(r):(this.insertRule(r),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),r):r:(this.deployed=!1,r)):null},e.insertRule=function(t){this.renderer&&this.renderer.insertRule(t)},e.addRules=function(t,e){var n=[];for(var i in t){var r=this.addRule(i,t[i],e);r&&n.push(r)}return n},e.getRule=function(t){return this.rules.get(t)},e.deleteRule=function(t){var e="object"==typeof t?t:this.rules.get(t);return!!e&&(this.rules.remove(e),!(this.attached&&e.renderable&&this.renderer)||this.renderer.deleteRule(e.renderable))},e.indexOf=function(t){return this.rules.indexOf(t)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var t;return(t=this.rules).update.apply(t,arguments),this},e.updateOne=function(t,e,n){return this.rules.updateOne(t,e,n),this},e.toString=function(t){return this.rules.toString(t)},t}(),If=function(){function t(){this.plugins={internal:[],external:[]},this.registry=void 0}var e=t.prototype;return e.onCreateRule=function(t,e,n){for(var i=0;i<this.registry.onCreateRule.length;i++){var r=this.registry.onCreateRule[i](t,e,n);if(r)return r}return null},e.onProcessRule=function(t){if(!t.isProcessed){for(var e=t.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](t,e);t.style&&this.onProcessStyle(t.style,t,e),t.isProcessed=!0}},e.onProcessStyle=function(t,e,n){for(var i=0;i<this.registry.onProcessStyle.length;i++)e.style=this.registry.onProcessStyle[i](e.style,e,n)},e.onProcessSheet=function(t){for(var e=0;e<this.registry.onProcessSheet.length;e++)this.registry.onProcessSheet[e](t)},e.onUpdate=function(t,e,n,i){for(var r=0;r<this.registry.onUpdate.length;r++)this.registry.onUpdate[r](t,e,n,i)},e.onChangeValue=function(t,e,n){for(var i=t,r=0;r<this.registry.onChangeValue.length;r++)i=this.registry.onChangeValue[r](i,e,n);return i},e.use=function(t,e){void 0===e&&(e={queue:"external"});var n=this.plugins[e.queue];-1===n.indexOf(t)&&(n.push(t),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(t,e){for(var n in e)n in t&&t[n].push(e[n]);return t}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),Nf=new(function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(t){var e=this.registry,n=t.options.index;if(-1===e.indexOf(t))if(0===e.length||n>=this.index)e.push(t);else for(var i=0;i<e.length;i++)if(e[i].options.index>n)return void e.splice(i,0,t)},e.reset=function(){this.registry=[]},e.remove=function(t){var e=this.registry.indexOf(t);this.registry.splice(e,1)},e.toString=function(t){for(var e=void 0===t?{}:t,n=e.attached,i=lh(e,["attached"]),r="",o=0;o<this.registry.length;o++){var a=this.registry[o];null!=n&&a.attached!==n||(r&&(r+="\n"),r+=a.toString(i))}return r},Ih(t,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),t}()),Bf="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),Uf="2f1acc6c3a606b082e5eef5e54414ffb";null==Bf[Uf]&&(Bf[Uf]=0);var Ff=Bf[Uf]++,Zf=function(t){void 0===t&&(t={});var e=0;return function(n,i){e+=1;var r="",o="";return i&&(i.options.classNamePrefix&&(o=i.options.classNamePrefix),null!=i.options.jss.id&&(r=String(i.options.jss.id))),t.minify?""+(o||"c")+Ff+r+e:o+n.key+"-"+Ff+(r?"-"+r:"")+"-"+e}},Hf=function(t){var e;return function(){return e||(e=t()),e}};function Vf(t,e){try{return t.attributeStyleMap?t.attributeStyleMap.get(e):t.style.getPropertyValue(e)}catch(t){return""}}function Gf(t,e,n){try{var i=n;if(Array.isArray(n)&&(i=ef(n,!0),"!important"===n[n.length-1]))return t.style.setProperty(e,i,"important"),!0;t.attributeStyleMap?t.attributeStyleMap.set(e,i):t.style.setProperty(e,i)}catch(t){return!1}return!0}function Wf(t,e){try{t.attributeStyleMap?t.attributeStyleMap.delete(e):t.style.removeProperty(e)}catch(t){}}function Yf(t,e){return t.selectorText=e,t.selectorText===e}var qf=Hf((function(){return document.querySelector("head")}));function Xf(t){var e=Nf.registry;if(e.length>0){var n=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i.attached&&i.options.index>e.index&&i.options.insertionPoint===e.insertionPoint)return i}return null}(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(t,e){for(var n=t.length-1;n>=0;n--){var i=t[n];if(i.attached&&i.options.insertionPoint===e.insertionPoint)return i}return null}(e,t))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var i=t.insertionPoint;if(i&&"string"==typeof i){var r=function(t){for(var e=qf(),n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(8===i.nodeType&&i.nodeValue.trim()===t)return i}return null}(i);if(r)return{parent:r.parentNode,node:r.nextSibling}}return!1}var Kf=Hf((function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null})),Jf=function(t,e,n){var i=t.cssRules.length;(void 0===n||n>i)&&(n=i);try{if("insertRule"in t)t.insertRule(e,n);else if("appendRule"in t){t.appendRule(e)}}catch(t){return!1}return t.cssRules[n]},$f=function(){function t(t){this.getPropertyValue=Vf,this.setProperty=Gf,this.removeProperty=Wf,this.setSelector=Yf,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,t&&Nf.add(t),this.sheet=t;var e,n=this.sheet?this.sheet.options:{},i=n.media,r=n.meta,o=n.element;this.element=o||((e=document.createElement("style")).textContent="\n",e),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),r&&this.element.setAttribute("data-meta",r);var a=Kf();a&&this.element.setAttribute("nonce",a)}var e=t.prototype;return e.attach=function(){if(!this.element.parentNode&&this.sheet){!function(t,e){var n=e.insertionPoint,i=Xf(e);if(!1!==i&&i.parent)i.parent.insertBefore(t,i.node);else if(n&&"number"==typeof n.nodeType){var r=n,o=r.parentNode;o&&o.insertBefore(t,r.nextSibling)}else qf().appendChild(t)}(this.element,this.sheet.options);var t=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&t&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){var t=this.element.parentNode;t&&t.removeChild(this.element)},e.deploy=function(){var t=this.sheet;t&&(t.options.link?this.insertRules(t.rules):this.element.textContent="\n"+t.toString()+"\n")},e.insertRules=function(t,e){for(var n=0;n<t.index.length;n++)this.insertRule(t.index[n],n,e)},e.insertRule=function(t,e,n){if(void 0===n&&(n=this.element.sheet),t.rules){var i=t,r=n;return("conditional"!==t.type&&"keyframes"!==t.type||!1!==(r=Jf(n,i.toString({children:!1}),e)))&&(this.insertRules(i.rules,r),r)}if(t.renderable&&t.renderable.parentStyleSheet===this.element.sheet)return t.renderable;var o=t.toString();if(!o)return!1;var a=Jf(n,o,e);return!1!==a&&(this.hasInsertedRules=!0,t.renderable=a,a)},e.deleteRule=function(t){var e=this.element.sheet,n=this.indexOf(t);return-1!==n&&(e.deleteRule(n),!0)},e.indexOf=function(t){for(var e=this.element.sheet.cssRules,n=0;n<e.length;n++)if(t===e[n])return n;return-1},e.replaceRule=function(t,e){var n=this.indexOf(t);return-1!==n&&(this.element.sheet.deleteRule(n),this.insertRule(e,n))},e.getRules=function(){return this.element.sheet.cssRules},t}(),Qf=0,td=function(){function t(t){this.id=Qf++,this.version="10.0.3",this.plugins=new If,this.options={id:{minify:!1},createGenerateId:Zf,Renderer:Kh?$f:null,plugins:[]},this.generateId=Zf({minify:!1});for(var e=0;e<Af.length;e++)this.plugins.use(Af[e],{queue:"internal"});this.setup(t)}var e=t.prototype;return e.setup=function(t){return void 0===t&&(t={}),t.createGenerateId&&(this.options.createGenerateId=t.createGenerateId),t.id&&(this.options.id=uh({},this.options.id,t.id)),(t.createGenerateId||t.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=t.insertionPoint&&(this.options.insertionPoint=t.insertionPoint),"Renderer"in t&&(this.options.Renderer=t.Renderer),t.plugins&&this.use.apply(this,t.plugins),this},e.createStyleSheet=function(t,e){void 0===e&&(e={});var n=e.index;"number"!=typeof n&&(n=0===Nf.index?0:Nf.index+1);var i=new jf(t,uh({},e,{jss:this,generateId:e.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},e.removeStyleSheet=function(t){return t.detach(),Nf.remove(t),this},e.createRule=function(t,e,n){if(void 0===e&&(e={}),void 0===n&&(n={}),"object"==typeof t)return this.createRule(void 0,t,e);var i=uh({},n,{name:t,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var r=Qh(t,e,i);return r&&this.plugins.onProcessRule(r),r},e.use=function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach((function(e){t.plugins.use(e)})),this},t}();var ed="undefined"!=typeof CSS&&CSS&&"number"in CSS,nd=function(t){return new td(t)};
/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */nd();var id=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.baseClasses,n=t.newClasses;if(t.Component,!n)return e;var i=uh({},e);return Object.keys(n).forEach((function(t){n[t]&&(i[t]="".concat(e[t]," ").concat(n[t]))})),i},rd={set:function(t,e,n,i){var r=t.get(e);r||(r=new Map,t.set(e,r)),r.set(n,i)},get:function(t,e,n){var i=t.get(e);return i?i.get(n):void 0},delete:function(t,e,n){t.get(e).delete(n)}};var od=r.a.createContext(null);function ad(){return r.a.useContext(od)}var sd="function"==typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",ld=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var ud=Date.now(),cd="fnValues"+ud,hd="fnStyle"+ ++ud;var fd=function(){return{onCreateRule:function(t,e,n){if("function"!=typeof e)return null;var i=Qh(t,{},n);return i[hd]=e,i},onProcessStyle:function(t,e){if(cd in e||hd in e)return t;var n={};for(var i in t){var r=t[i];"function"==typeof r&&(delete t[i],n[i]=r)}return e[cd]=n,t},onUpdate:function(t,e,n,i){var r=e,o=r[hd];o&&(r.style=o(t)||{});var a=r[cd];if(a)for(var s in a)r.prop(s,a[s](t),i)}}},dd="@global",pd=function(){function t(t,e,n){for(var i in this.type="global",this.at=dd,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=t,this.options=n,this.rules=new zf(uh({},n,{parent:this})),e)this.rules.add(i,e[i]);this.rules.process()}var e=t.prototype;return e.getRule=function(t){return this.rules.get(t)},e.addRule=function(t,e,n){var i=this.rules.add(t,e,n);return this.options.jss.plugins.onProcessRule(i),i},e.indexOf=function(t){return this.rules.indexOf(t)},e.toString=function(){return this.rules.toString()},t}(),md=function(){function t(t,e,n){this.type="global",this.at=dd,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=t,this.options=n;var i=t.substr("@global ".length);this.rule=n.jss.createRule(i,e,uh({},n,{parent:this}))}return t.prototype.toString=function(t){return this.rule?this.rule.toString(t):""},t}(),_d=/\s*,\s*/g;function vd(t,e){for(var n=t.split(_d),i="",r=0;r<n.length;r++)i+=e+" "+n[r].trim(),n[r+1]&&(i+=", ");return i}var yd=function(){return{onCreateRule:function(t,e,n){if(!t)return null;if(t===dd)return new pd(t,e,n);if("@"===t[0]&&"@global "===t.substr(0,"@global ".length))return new md(t,e,n);var i=n.parent;return i&&("global"===i.type||i.options.parent&&"global"===i.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=t),null},onProcessRule:function(t){"style"===t.type&&(function(t){var e=t.options,n=t.style,i=n?n[dd]:null;if(i){for(var r in i)e.sheet.addRule(r,i[r],uh({},e,{selector:vd(r,t.selector)}));delete n[dd]}}(t),function(t){var e=t.options,n=t.style;for(var i in n)if("@"===i[0]&&i.substr(0,dd.length)===dd){var r=vd(i.substr(dd.length),t.selector);e.sheet.addRule(r,n[i],uh({},e,{selector:r})),delete n[i]}}(t))}}},gd=/\s*,\s*/g,bd=/&/g,wd=/\$([\w-]+)/g;var xd=function(){function t(t,e){return function(n,i){var r=t.getRule(i)||e&&e.getRule(i);return r?(r=r).selector:i}}function e(t,e){for(var n=e.split(gd),i=t.split(gd),r="",o=0;o<n.length;o++)for(var a=n[o],s=0;s<i.length;s++){var l=i[s];r&&(r+=", "),r+=-1!==l.indexOf("&")?l.replace(bd,a):a+" "+l}return r}function n(t,e,n){if(n)return uh({},n,{index:n.index+1});var i=t.options.nestingLevel;i=void 0===i?1:i+1;var r=uh({},t.options,{nestingLevel:i,index:e.indexOf(t)+1});return delete r.name,r}return{onProcessStyle:function(i,r,o){if("style"!==r.type)return i;var a,s,l=r,u=l.options.parent;for(var c in i){var h=-1!==c.indexOf("&"),f="@"===c[0];if(h||f){if(a=n(l,u,a),h){var d=e(c,l.selector);s||(s=t(u,o)),d=d.replace(wd,s),u.addRule(d,i[c],uh({},a,{selector:d}))}else f&&u.addRule(c,{},a).addRule(l.key,i[c],{selector:l.selector});delete i[c]}}return i}}},Ld=/[A-Z]/g,kd=/^ms-/,Ed={};function Md(t){return"-"+t.toLowerCase()}var Pd=function(t){if(Ed.hasOwnProperty(t))return Ed[t];var e=t.replace(Ld,Md);return Ed[t]=kd.test(e)?"-"+e:e};function Td(t){var e={};for(var n in t){e[0===n.indexOf("--")?n:Pd(n)]=t[n]}return t.fallbacks&&(Array.isArray(t.fallbacks)?e.fallbacks=t.fallbacks.map(Td):e.fallbacks=Td(t.fallbacks)),e}var Cd=function(){return{onProcessStyle:function(t){if(Array.isArray(t)){for(var e=0;e<t.length;e++)t[e]=Td(t[e]);return t}return Td(t)},onChangeValue:function(t,e,n){if(0===e.indexOf("--"))return t;var i=Pd(e);return e===i?t:(n.prop(i,t),null)}}},Sd=ed&&CSS?CSS.px:"px",Od=ed&&CSS?CSS.ms:"ms",Ad=ed&&CSS?CSS.percent:"%";function Dd(t){var e=/(-[a-z])/g,n=function(t){return t[1].toUpperCase()},i={};for(var r in t)i[r]=t[r],i[r.replace(e,n)]=t[r];return i}var Rd=Dd({"animation-delay":Od,"animation-duration":Od,"background-position":Sd,"background-position-x":Sd,"background-position-y":Sd,"background-size":Sd,border:Sd,"border-bottom":Sd,"border-bottom-left-radius":Sd,"border-bottom-right-radius":Sd,"border-bottom-width":Sd,"border-left":Sd,"border-left-width":Sd,"border-radius":Sd,"border-right":Sd,"border-right-width":Sd,"border-top":Sd,"border-top-left-radius":Sd,"border-top-right-radius":Sd,"border-top-width":Sd,"border-width":Sd,margin:Sd,"margin-bottom":Sd,"margin-left":Sd,"margin-right":Sd,"margin-top":Sd,padding:Sd,"padding-bottom":Sd,"padding-left":Sd,"padding-right":Sd,"padding-top":Sd,"mask-position-x":Sd,"mask-position-y":Sd,"mask-size":Sd,height:Sd,width:Sd,"min-height":Sd,"max-height":Sd,"min-width":Sd,"max-width":Sd,bottom:Sd,left:Sd,top:Sd,right:Sd,"box-shadow":Sd,"text-shadow":Sd,"column-gap":Sd,"column-rule":Sd,"column-rule-width":Sd,"column-width":Sd,"font-size":Sd,"font-size-delta":Sd,"letter-spacing":Sd,"text-indent":Sd,"text-stroke":Sd,"text-stroke-width":Sd,"word-spacing":Sd,motion:Sd,"motion-offset":Sd,outline:Sd,"outline-offset":Sd,"outline-width":Sd,perspective:Sd,"perspective-origin-x":Ad,"perspective-origin-y":Ad,"transform-origin":Ad,"transform-origin-x":Ad,"transform-origin-y":Ad,"transform-origin-z":Ad,"transition-delay":Od,"transition-duration":Od,"vertical-align":Sd,"flex-basis":Sd,"shape-margin":Sd,size:Sd,grid:Sd,"grid-gap":Sd,"grid-row-gap":Sd,"grid-column-gap":Sd,"grid-template-rows":Sd,"grid-template-columns":Sd,"grid-auto-rows":Sd,"grid-auto-columns":Sd,"box-shadow-x":Sd,"box-shadow-y":Sd,"box-shadow-blur":Sd,"box-shadow-spread":Sd,"font-line-height":Sd,"text-shadow-x":Sd,"text-shadow-y":Sd,"text-shadow-blur":Sd});function zd(t,e,n){if(!e)return e;if(Array.isArray(e))for(var i=0;i<e.length;i++)e[i]=zd(t,e[i],n);else if("object"==typeof e)if("fallbacks"===t)for(var r in e)e[r]=zd(r,e[r],n);else for(var o in e)e[o]=zd(t+"-"+o,e[o],n);else if("number"==typeof e)return n[t]?""+e+n[t]:Rd[t]?"function"==typeof Rd[t]?Rd[t](e).toString():""+e+Rd[t]:e.toString();return e}var jd=function(t){void 0===t&&(t={});var e=Dd(t);return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var i in t)t[i]=zd(i,t[i],e);return t},onChangeValue:function(t,n){return zd(n,t,e)}}};function Id(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Nd="",Bd="",Ud="",Fd=Kh&&"ontouchstart"in document.documentElement;if(Kh){var Zd={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Hd=document.createElement("p").style;for(var Vd in Zd)if(Vd+"Transform"in Hd){Nd=Vd,Bd=Zd[Vd];break}"Webkit"===Nd&&"msHyphens"in Hd&&(Nd="ms",Bd=Zd.ms,"edge"),"Webkit"===Nd&&"-apple-trailing-word"in Hd&&(Ud="apple")}var Gd=Nd,Wd=Bd,Yd=Ud,qd=Fd;var Xd={noPrefill:["appearance"],supportedProperty:function(t){return"appearance"===t&&("ms"===Gd?"-webkit-"+t:Wd+t)}},Kd={noPrefill:["color-adjust"],supportedProperty:function(t){return"color-adjust"===t&&("Webkit"===Gd?Wd+"print-"+t:t)}},Jd=/[-\s]+(.)?/g;function $d(t,e){return e?e.toUpperCase():""}function Qd(t){return t.replace(Jd,$d)}function tp(t){return Qd("-"+t)}var ep,np={noPrefill:["mask"],supportedProperty:function(t,e){if(!/^mask/.test(t))return!1;if("Webkit"===Gd){if(Qd("mask-image")in e)return t;if(Gd+tp("mask-image")in e)return Wd+t}return t}},ip={noPrefill:["text-orientation"],supportedProperty:function(t){return"text-orientation"===t&&("apple"!==Yd||qd?t:Wd+t)}},rp={noPrefill:["transform"],supportedProperty:function(t,e,n){return"transform"===t&&(n.transform?t:Wd+t)}},op={noPrefill:["transition"],supportedProperty:function(t,e,n){return"transition"===t&&(n.transition?t:Wd+t)}},ap={noPrefill:["writing-mode"],supportedProperty:function(t){return"writing-mode"===t&&("Webkit"===Gd||"ms"===Gd?Wd+t:t)}},sp={noPrefill:["user-select"],supportedProperty:function(t){return"user-select"===t&&("Moz"===Gd||"ms"===Gd||"apple"===Yd?Wd+t:t)}},lp={supportedProperty:function(t,e){return!!/^break-/.test(t)&&("Webkit"===Gd?"WebkitColumn"+tp(t)in e&&Wd+"column-"+t:"Moz"===Gd&&("page"+tp(t)in e&&"page-"+t))}},up={supportedProperty:function(t,e){if(!/^(border|margin|padding)-inline/.test(t))return!1;if("Moz"===Gd)return t;var n=t.replace("-inline","");return Gd+tp(n)in e&&Wd+n}},cp={supportedProperty:function(t,e){return Qd(t)in e&&t}},hp={supportedProperty:function(t,e){var n=tp(t);return"-"===t[0]?t:"-"===t[0]&&"-"===t[1]?t:Gd+n in e?Wd+t:"Webkit"!==Gd&&"Webkit"+n in e&&"-webkit-"+t}},fp={supportedProperty:function(t){return"scroll-snap"===t.substring(0,11)&&("ms"===Gd?""+Wd+t:t)}},dp={supportedProperty:function(t){return"overscroll-behavior"===t&&("ms"===Gd?Wd+"scroll-chaining":t)}},pp={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},mp={supportedProperty:function(t,e){var n=pp[t];return!!n&&(Gd+tp(n)in e&&Wd+n)}},_p={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},vp=Object.keys(_p),yp=function(t){return Wd+t},gp=[Xd,Kd,np,ip,rp,op,ap,sp,lp,up,cp,hp,fp,dp,mp,{supportedProperty:function(t,e,n){var i=n.multiple;if(vp.indexOf(t)>-1){var r=_p[t];if(!Array.isArray(r))return Gd+tp(r)in e&&Wd+r;if(!i)return!1;for(var o=0;o<r.length;o++)if(!(Gd+tp(r[0])in e))return!1;return r.map(yp)}return!1}}],bp=gp.filter((function(t){return t.supportedProperty})).map((function(t){return t.supportedProperty})),wp=gp.filter((function(t){return t.noPrefill})).reduce((function(t,e){return t.push.apply(t,Id(e.noPrefill)),t}),[]),xp={};if(Kh){ep=document.createElement("p");var Lp=window.getComputedStyle(document.documentElement,"");for(var kp in Lp)isNaN(kp)||(xp[Lp[kp]]=Lp[kp]);wp.forEach((function(t){return delete xp[t]}))}function Ep(t,e){if(void 0===e&&(e={}),!ep)return t;if(null!=xp[t])return xp[t];"transition"!==t&&"transform"!==t||(e[t]=t in ep.style);for(var n=0;n<bp.length&&(xp[t]=bp[n](t,ep.style,e),!xp[t]);n++);try{ep.style[t]=""}catch(t){return!1}return xp[t]}var Mp,Pp={},Tp={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Cp=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Sp(t,e,n){if("var"===e)return"var";if("all"===e)return"all";if("all"===n)return", all";var i=e?Ep(e):", "+Ep(n);return i||(e||n)}function Op(t,e){var n=e;if(!Mp||"content"===t)return e;if("string"!=typeof n||!isNaN(parseInt(n,10)))return n;var i=t+n;if(null!=Pp[i])return Pp[i];try{Mp.style[t]=n}catch(t){return Pp[i]=!1,!1}if(Tp[t])n=n.replace(Cp,Sp);else if(""===Mp.style[t]&&("-ms-flex"===(n=Wd+n)&&(Mp.style[t]="-ms-flexbox"),Mp.style[t]=n,""===Mp.style[t]))return Pp[i]=!1,!1;return Mp.style[t]="",Pp[i]=n,Pp[i]}Kh&&(Mp=document.createElement("p"));var Ap=function(){function t(e){for(var n in e){var i=e[n];if("fallbacks"===n&&Array.isArray(i))e[n]=i.map(t);else{var r=!1,o=Ep(n);o&&o!==n&&(r=!0);var a=!1,s=Op(o,ef(i));s&&s!==i&&(a=!0),(r||a)&&(r&&delete e[n],e[o||n]=s||i)}}return e}return{onProcessRule:function(t){if("keyframes"===t.type){var e=t;e.at="-"===(n=e.at)[1]?n:"ms"===Gd?n:"@"+Wd+"keyframes"+n.substr(10)}var n},onProcessStyle:function(e,n){return"style"!==n.type?e:t(e)},onChangeValue:function(t,e){return Op(e,ef(t))||t}}};var Dp=function(){var t=function(t,e){return t.length===e.length?t>e?1:-1:t.length-e.length};return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var i={},r=Object.keys(e).sort(t),o=0;o<r.length;o++)i[r[o]]=e[r[o]];return i}}};var Rp=function(){return{plugins:[fd(),yd(),xd(),Cd(),jd(),"undefined"==typeof window?null:Ap(),Dp()]}},zp=nd(Rp()),jp={disableGeneration:!1,generateClassName:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.disableGlobal,n=void 0!==e&&e,i=t.productionPrefix,r=void 0===i?"jss":i,o=t.seed,a=void 0===o?"":o,s=""===a?"":"".concat(a,"-"),l=0;return function(t,e){l+=1;var i=e.options.name;if(i&&0===i.indexOf("Mui")&&!e.options.link&&!n){if(-1!==ld.indexOf(t.key))return"Mui-".concat(t.key);var o="".concat(s).concat(i,"-").concat(t.key);return e.options.theme[sd]&&""===a?"".concat(o,"-").concat(l):o}return"".concat(s).concat(r).concat(l)}}(),jss:zp,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},Ip=r.a.createContext(jp);var Np=-1e9;function Bp(){return Np+=1}function Up(t){return(Up="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fp(t){return t&&"object"===Up(t)&&!Array.isArray(t)}function Zp(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?uh({},t):t;return Fp(t)&&Fp(e)&&Object.keys(e).forEach((function(r){"__proto__"!==r&&(Fp(e[r])&&r in t?i[r]=Zp(t[r],e[r],n):i[r]=e[r])})),i}var Hp=function(t){var e="function"==typeof t;return{create:function(n,i){var r;try{r=e?t(n):t}catch(t){throw t}if(!i||!n.overrides||!n.overrides[i])return r;var o=n.overrides[i],a=uh({},r);return Object.keys(o).forEach((function(t){a[t]=Zp(a[t],o[t])})),a},options:{}}},Vp={};function Gp(t,e,n){var i=t.state;if(t.stylesOptions.disableGeneration)return e||{};i.cacheClasses||(i.cacheClasses={value:null,lastProp:null,lastJSS:{}});var r=!1;return i.classes!==i.cacheClasses.lastJSS&&(i.cacheClasses.lastJSS=i.classes,r=!0),e!==i.cacheClasses.lastProp&&(i.cacheClasses.lastProp=e,r=!0),r&&(i.cacheClasses.value=id({baseClasses:i.cacheClasses.lastJSS,newClasses:e,Component:n})),i.cacheClasses.value}function Wp(t,e){var n=t.state,i=t.theme,r=t.stylesOptions,o=t.stylesCreator,a=t.name;if(!r.disableGeneration){var s=rd.get(r.sheetsManager,o,i);s||(s={refs:0,staticSheet:null,dynamicStyles:null},rd.set(r.sheetsManager,o,i,s));var l=uh({},o.options,{},r,{theme:i,flip:"boolean"==typeof r.flip?r.flip:"rtl"===i.direction});l.generateId=l.serverGenerateClassName||l.generateClassName;var u=r.sheetsRegistry;if(0===s.refs){var c;r.sheetsCache&&(c=rd.get(r.sheetsCache,o,i));var h=o.create(i,a);c||((c=r.jss.createStyleSheet(h,uh({link:!1},l))).attach(),r.sheetsCache&&rd.set(r.sheetsCache,o,i,c)),u&&u.add(c),s.staticSheet=c,s.dynamicStyles=function t(e){var n=null;for(var i in e){var r=e[i],o=typeof r;if("function"===o)n||(n={}),n[i]=r;else if("object"===o&&null!==r&&!Array.isArray(r)){var a=t(r);a&&(n||(n={}),n[i]=a)}}return n}(h)}if(s.dynamicStyles){var f=r.jss.createStyleSheet(s.dynamicStyles,uh({link:!0},l));f.update(e),f.attach(),n.dynamicSheet=f,n.classes=id({baseClasses:s.staticSheet.classes,newClasses:f.classes}),u&&u.add(f)}else n.classes=s.staticSheet.classes;s.refs+=1}}function Yp(t,e){var n=t.state;n.dynamicSheet&&n.dynamicSheet.update(e)}function qp(t){var e=t.state,n=t.theme,i=t.stylesOptions,r=t.stylesCreator;if(!i.disableGeneration){var o=rd.get(i.sheetsManager,r,n);o.refs-=1;var a=i.sheetsRegistry;0===o.refs&&(rd.delete(i.sheetsManager,r,n),i.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),e.dynamicSheet&&(i.jss.removeStyleSheet(e.dynamicSheet),a&&a.remove(e.dynamicSheet))}}function Xp(t,e){var n,i=r.a.useRef([]),o=r.a.useMemo((function(){return{}}),e);i.current!==o&&(i.current=o,n=t()),r.a.useEffect((function(){return function(){n&&n()}}),[o])}var Kp=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.name,i=e.classNamePrefix,o=e.Component,a=e.defaultTheme,s=void 0===a?Vp:a,l=Wh(e,["name","classNamePrefix","Component","defaultTheme"]),u=Hp(t),c=n||i||"makeStyles";return u.options={index:Bp(),name:n,meta:c,classNamePrefix:c},function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=ad()||s,i=uh({},r.a.useContext(Ip),{},l),a=r.a.useRef(),c=r.a.useRef();return Xp((function(){var r={name:n,state:{},stylesCreator:u,stylesOptions:i,theme:e};return Wp(r,t),c.current=!1,a.current=r,function(){qp(r)}}),[e,u]),r.a.useEffect((function(){c.current&&Yp(a.current,t),c.current=!0})),Gp(a.current,t.classes,o)}};var Jp=function(t){var e=t.theme,n=t.name,i=t.props;if(!e||!e.props||!e.props[n])return i;var r,o=e.props[n];for(r in o)void 0===i[r]&&(i[r]=o[r]);return i},$p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var i=e.defaultTheme,o=e.withTheme,a=void 0!==o&&o,s=e.name,l=Wh(e,["defaultTheme","withTheme","name"]);var u=s,c=Kp(t,uh({defaultTheme:i,Component:n,name:s||n.displayName,classNamePrefix:u},l)),h=r.a.forwardRef((function(t,e){t.classes;var o,l=t.innerRef,u=Wh(t,["classes","innerRef"]),h=c(t),f=u;return("string"==typeof s||a)&&(o=ad()||i,s&&(f=Jp({theme:o,name:s,props:u})),a&&!f.theme&&(f.theme=o)),r.a.createElement(n,uh({ref:l||e,classes:h},f))}));return h.defaultProps=n.defaultProps,ph()(h,n),h}},Qp=["xs","sm","md","lg","xl"];function tm(t){var e=t.values,n=void 0===e?{xs:0,sm:600,md:960,lg:1280,xl:1920}:e,i=t.unit,r=void 0===i?"px":i,o=t.step,a=void 0===o?5:o,s=Wh(t,["values","unit","step"]);function l(t){var e="number"==typeof n[t]?n[t]:t;return"@media (min-width:".concat(e).concat(r,")")}function u(t,e){var i=Qp.indexOf(e);return i===Qp.length-1?l(t):"@media (min-width:".concat("number"==typeof n[t]?n[t]:t).concat(r,") and ")+"(max-width:".concat((-1!==i&&"number"==typeof n[Qp[i+1]]?n[Qp[i+1]]:e)-a/100).concat(r,")")}return uh({keys:Qp,values:n,up:l,down:function(t){var e=Qp.indexOf(t)+1,i=n[Qp[e]];return e===Qp.length?l("xs"):"@media (max-width:".concat(("number"==typeof i&&e>0?i:t)-a/100).concat(r,")")},between:u,only:function(t){return u(t,t)},width:function(t){return n[t]}},s)}function em(t,e,n){var i;return uh({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return uh({paddingLeft:e(2),paddingRight:e(2)},n,fh({},t.up("sm"),uh({paddingLeft:e(3),paddingRight:e(3)},n[t.up("sm")])))},toolbar:(i={minHeight:56},fh(i,"".concat(t.up("xs")," and (orientation: landscape)"),{minHeight:48}),fh(i,t.up("sm"),{minHeight:64}),i)},n)}var nm={black:"#000",white:"#fff"},im={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},rm={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},om={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},am={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},sm={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},lm={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},um={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function cm(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)}function hm(t){if(t.type)return t;if("#"===t.charAt(0))return hm(function(t){t=t.substr(1);var e=new RegExp(".{1,".concat(t.length/3,"}"),"g"),n=t.match(e);return n&&1===n[0].length&&(n=n.map((function(t){return t+t}))),n?"rgb(".concat(n.map((function(t){return parseInt(t,16)})).join(", "),")"):""}(t));var e=t.indexOf("("),n=t.substring(0,e);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(["Material-UI: unsupported `".concat(t,"` color."),"We support the following formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()."].join("\n"));var i=t.substring(e+1,t.length-1).split(",");return{type:n,values:i=i.map((function(t){return parseFloat(t)}))}}function fm(t){var e=t.type,n=t.values;return-1!==e.indexOf("rgb")?n=n.map((function(t,e){return e<3?parseInt(t,10):t})):-1!==e.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(e,"(").concat(n.join(", "),")")}function dm(t){var e="hsl"===(t=hm(t)).type?hm(function(t){var e=(t=hm(t)).values,n=e[0],i=e[1]/100,r=e[2]/100,o=i*Math.min(r,1-r),a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+n/30)%12;return r-o*Math.max(Math.min(e-3,9-e,1),-1)},s="rgb",l=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===t.type&&(s+="a",l.push(e[3])),fm({type:s,values:l})}(t)).values:t.values;return e=e.map((function(t){return(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function pm(t,e){return t=hm(t),e=cm(e),"rgb"!==t.type&&"hsl"!==t.type||(t.type+="a"),t.values[3]=e,fm(t)}function mm(t,e){if(t=hm(t),e=cm(e),-1!==t.type.indexOf("hsl"))t.values[2]*=1-e;else if(-1!==t.type.indexOf("rgb"))for(var n=0;n<3;n+=1)t.values[n]*=1-e;return fm(t)}function _m(t,e){if(t=hm(t),e=cm(e),-1!==t.type.indexOf("hsl"))t.values[2]+=(100-t.values[2])*e;else if(-1!==t.type.indexOf("rgb"))for(var n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;return fm(t)}var vm={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:nm.white,default:im[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.08)",hoverOpacity:.08,selected:"rgba(0, 0, 0, 0.14)",disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)"}},ym={text:{primary:nm.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:im[800],default:"#303030"},action:{active:nm.white,hover:"rgba(255, 255, 255, 0.1)",hoverOpacity:.1,selected:"rgba(255, 255, 255, 0.2)",disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)"}};function gm(t,e,n,i){t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:"light"===e?t.light=_m(t.main,i):"dark"===e&&(t.dark=mm(t.main,1.5*i)))}function bm(t){var e=t.primary,n=void 0===e?{light:rm[300],main:rm[500],dark:rm[700]}:e,i=t.secondary,r=void 0===i?{light:om.A200,main:om.A400,dark:om.A700}:i,o=t.error,a=void 0===o?{light:am[300],main:am[500],dark:am[700]}:o,s=t.warning,l=void 0===s?{light:sm[300],main:sm[500],dark:sm[700]}:s,u=t.info,c=void 0===u?{light:lm[300],main:lm[500],dark:lm[700]}:u,h=t.success,f=void 0===h?{light:um[300],main:um[500],dark:um[700]}:h,d=t.type,p=void 0===d?"light":d,m=t.contrastThreshold,_=void 0===m?3:m,v=t.tonalOffset,y=void 0===v?.2:v,g=Wh(t,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function b(t){if(!t)throw new TypeError("Material-UI: missing background argument in getContrastText(".concat(t,")."));return function(t,e){var n=dm(t),i=dm(e);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)}(t,ym.text.primary)>=_?ym.text.primary:vm.text.primary}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;return!(t=uh({},t)).main&&t[e]&&(t.main=t[e]),gm(t,"light",n,y),gm(t,"dark",i,y),t.contrastText||(t.contrastText=b(t.main)),t}var x={dark:ym,light:vm};return Zp(uh({common:nm,type:p,primary:w(n),secondary:w(r,"A400","A200","A700"),error:w(a),warning:w(l),info:w(c),success:w(f),grey:im,contrastThreshold:_,getContrastText:b,augmentColor:w,tonalOffset:y},x[p]),g)}function wm(t){return Math.round(1e5*t)/1e5}var xm={textTransform:"uppercase"};function Lm(t,e){var n="function"==typeof e?e(t):e,i=n.fontFamily,r=void 0===i?'"Roboto", "Helvetica", "Arial", sans-serif':i,o=n.fontSize,a=void 0===o?14:o,s=n.fontWeightLight,l=void 0===s?300:s,u=n.fontWeightRegular,c=void 0===u?400:u,h=n.fontWeightMedium,f=void 0===h?500:h,d=n.fontWeightBold,p=void 0===d?700:d,m=n.htmlFontSize,_=void 0===m?16:m,v=n.allVariants,y=n.pxToRem,g=Wh(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var b=a/14,w=y||function(t){return"".concat(t/_*b,"rem")},x=function(t,e,n,i,o){return uh({fontFamily:r,fontWeight:t,fontSize:w(e),lineHeight:n},'"Roboto", "Helvetica", "Arial", sans-serif'===r?{letterSpacing:"".concat(wm(i/e),"em")}:{},{},o,{},v)},L={h1:x(l,96,1.167,-1.5),h2:x(l,60,1.2,-.5),h3:x(c,48,1.167,0),h4:x(c,34,1.235,.25),h5:x(c,24,1.334,0),h6:x(f,20,1.6,.15),subtitle1:x(c,16,1.75,.15),subtitle2:x(f,14,1.57,.1),body1:x(c,16,1.5,.15),body2:x(c,14,1.43,.15),button:x(f,14,1.75,.4,xm),caption:x(c,12,1.66,.4),overline:x(c,12,2.66,1,xm)};return Zp(uh({htmlFontSize:_,pxToRem:w,round:wm,fontFamily:r,fontSize:a,fontWeightLight:l,fontWeightRegular:c,fontWeightMedium:f,fontWeightBold:p},L),g,{clone:!1})}function km(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var Em=["none",km(0,2,1,-1,0,1,1,0,0,1,3,0),km(0,3,1,-2,0,2,2,0,0,1,5,0),km(0,3,3,-2,0,3,4,0,0,1,8,0),km(0,2,4,-1,0,4,5,0,0,1,10,0),km(0,3,5,-1,0,5,8,0,0,1,14,0),km(0,3,5,-1,0,6,10,0,0,1,18,0),km(0,4,5,-2,0,7,10,1,0,2,16,1),km(0,5,5,-3,0,8,10,1,0,3,14,2),km(0,5,6,-3,0,9,12,1,0,3,16,2),km(0,6,6,-3,0,10,14,1,0,4,18,3),km(0,6,7,-4,0,11,15,1,0,4,20,3),km(0,7,8,-4,0,12,17,2,0,5,22,4),km(0,7,8,-4,0,13,19,2,0,5,24,4),km(0,7,9,-4,0,14,21,2,0,5,26,4),km(0,8,9,-5,0,15,22,2,0,6,28,5),km(0,8,10,-5,0,16,24,2,0,6,30,5),km(0,8,11,-5,0,17,26,2,0,6,32,5),km(0,9,11,-5,0,18,28,2,0,7,34,6),km(0,9,12,-6,0,19,29,2,0,7,36,6),km(0,10,13,-6,0,20,31,3,0,8,38,7),km(0,10,13,-6,0,21,33,3,0,8,40,7),km(0,10,14,-6,0,22,35,3,0,8,42,7),km(0,11,14,-7,0,23,36,3,0,9,44,8),km(0,11,15,-7,0,24,38,3,0,9,46,8)],Mm={borderRadius:4};function Pm(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;t="function"==typeof e?e:function(t){return e*t};var n=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){var n=t(e);return"number"==typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var Tm={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Cm={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195},Sm=function(t){return"".concat(Math.round(t),"ms")},Om={easing:Tm,duration:Cm,create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.duration,i=void 0===n?Cm.standard:n,r=e.easing,o=void 0===r?Tm.easeInOut:r,a=e.delay,s=void 0===a?0:a;Wh(e,["duration","easing","delay"]);return(Array.isArray(t)?t:[t]).map((function(t){return"".concat(t," ").concat("string"==typeof i?i:Sm(i)," ").concat(o," ").concat("string"==typeof s?s:Sm(s))})).join(",")},getAutoHeightDuration:function(t){if(!t)return 0;var e=t/36;return Math.round(10*(4+15*Math.pow(e,.25)+e/5))}},Am={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};var Dm=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.breakpoints,n=void 0===e?{}:e,i=t.mixins,r=void 0===i?{}:i,o=t.palette,a=void 0===o?{}:o,s=t.spacing,l=t.typography,u=void 0===l?{}:l,c=Wh(t,["breakpoints","mixins","palette","spacing","typography"]),h=bm(a),f=tm(n),d=Pm(s),p=Zp({breakpoints:f,direction:"ltr",mixins:em(f,d,r),overrides:{},palette:h,props:{},shadows:Em,typography:Lm(h,u),spacing:d,shape:Mm,transitions:Om,zIndex:Am},c),m=arguments.length,_=new Array(m>1?m-1:0),v=1;v<m;v++)_[v-1]=arguments[v];return p=_.reduce((function(t,e){return Zp(t,e)}),p)}();var Rm=function(t,e){return $p(t,uh({defaultTheme:Dm},e))};function zm(t){return t.charAt(0).toUpperCase()+t.slice(1)}var jm=r.a.createContext();var Im=jm;function Nm(){return r.a.useContext(Im)}function Bm(t,e){"function"==typeof t?t(e):t&&(t.current=e)}function Um(t,e){return r.a.useMemo((function(){return null==t&&null==e?null:function(n){Bm(t,n),Bm(e,n)}}),[t,e])}var Fm="undefined"!=typeof window?r.a.useLayoutEffect:r.a.useEffect;function Zm(t){var e=r.a.useRef(t);return Fm((function(){e.current=t})),r.a.useCallback((function(){return e.current.apply(void 0,arguments)}),[])}var Hm="undefined"!=typeof window?r.a.useLayoutEffect:r.a.useEffect;var Vm=function(t){var e=t.children,n=t.defer,i=void 0!==n&&n,o=t.fallback,a=void 0===o?null:o,s=r.a.useState(!1),l=s[0],u=s[1];return Hm((function(){i||u(!0)}),[i]),r.a.useEffect((function(){i&&u(!0)}),[i]),r.a.createElement(r.a.Fragment,null,l?e:a)},Gm=!0,Wm=!1,Ym=null,qm={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Xm(t){t.metaKey||t.altKey||t.ctrlKey||(Gm=!0)}function Km(){Gm=!1}function Jm(){"hidden"===this.visibilityState&&Wm&&(Gm=!0)}function $m(t){var e=t.target;try{return e.matches(":focus-visible")}catch(t){}return Gm||function(t){var e=t.type,n=t.tagName;return!("INPUT"!==n||!qm[e]||t.readOnly)||("TEXTAREA"===n&&!t.readOnly||!!t.isContentEditable)}(e)}function Qm(){Wm=!0,window.clearTimeout(Ym),Ym=window.setTimeout((function(){Wm=!1}),100)}function t_(){return{isFocusVisible:$m,onBlurVisible:Qm,ref:r.a.useCallback((function(t){var e,n=Gh.a.findDOMNode(t);null!=n&&((e=n.ownerDocument).addEventListener("keydown",Xm,!0),e.addEventListener("mousedown",Km,!0),e.addEventListener("pointerdown",Km,!0),e.addEventListener("touchstart",Km,!0),e.addEventListener("visibilitychange",Jm,!0))}),[])}}var e_=r.a.createContext(null);function n_(t,e){var n=Object.create(null);return t&&i.Children.map(t,(function(t){return t})).forEach((function(t){n[t.key]=function(t){return e&&Object(i.isValidElement)(t)?e(t):t}(t)})),n}function i_(t,e,n){return null!=n[e]?n[e]:t.props[e]}function r_(t,e,n){var r=n_(t.children),o=function(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var i,r=Object.create(null),o=[];for(var a in t)a in e?o.length&&(r[a]=o,o=[]):o.push(a);var s={};for(var l in e){if(r[l])for(i=0;i<r[l].length;i++){var u=r[l][i];s[r[l][i]]=n(u)}s[l]=n(l)}for(i=0;i<o.length;i++)s[o[i]]=n(o[i]);return s}(e,r);return Object.keys(o).forEach((function(a){var s=o[a];if(Object(i.isValidElement)(s)){var l=a in e,u=a in r,c=e[a],h=Object(i.isValidElement)(c)&&!c.props.in;!u||l&&!h?u||!l||h?u&&l&&Object(i.isValidElement)(c)&&(o[a]=Object(i.cloneElement)(s,{onExited:n.bind(null,s),in:c.props.in,exit:i_(s,"exit",t),enter:i_(s,"enter",t)})):o[a]=Object(i.cloneElement)(s,{in:!1}):o[a]=Object(i.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:i_(s,"exit",t),enter:i_(s,"enter",t)})}})),o}var o_=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},a_=function(t){function e(e,n){var i,r=(i=t.call(this,e,n)||this).handleExited.bind(ch(ch(i)));return i.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},i}hh(e,t);var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(t,e){var n,r,o=e.children,a=e.handleExited;return{children:e.firstRender?(n=t,r=a,n_(n.children,(function(t){return Object(i.cloneElement)(t,{onExited:r.bind(null,t),in:!0,appear:i_(t,"appear",n),enter:i_(t,"enter",n),exit:i_(t,"exit",n)})}))):r_(t,o,a),firstRender:!1}},n.handleExited=function(t,e){var n=n_(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var n=uh({},e.children);return delete n[t.key],{children:n}})))},n.render=function(){var t=this.props,e=t.component,n=t.childFactory,i=lh(t,["component","childFactory"]),o=this.state.contextValue,a=o_(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===e?r.a.createElement(e_.Provider,{value:o},a):r.a.createElement(e_.Provider,{value:o},r.a.createElement(e,i,a))},e}(r.a.Component);a_.propTypes={},a_.defaultProps={component:"div",childFactory:function(t){return t}};var s_=a_,l_="undefined"==typeof window?r.a.useEffect:r.a.useLayoutEffect;var u_=function(t){var e=t.classes,n=t.pulsate,i=void 0!==n&&n,o=t.rippleX,a=t.rippleY,s=t.rippleSize,l=t.in,u=t.onExited,c=void 0===u?function(){}:u,h=t.timeout,f=r.a.useState(!1),d=f[0],p=f[1],m=qh(e.ripple,e.rippleVisible,i&&e.ripplePulsate),_={width:s,height:s,top:-s/2+a,left:-s/2+o},v=qh(e.child,d&&e.childLeaving,i&&e.childPulsate),y=Zm(c);return l_((function(){if(!l){p(!0);var t=setTimeout(y,h);return function(){clearTimeout(t)}}}),[y,l,h]),r.a.createElement("span",{className:m,style:_},r.a.createElement("span",{className:v}))},c_=r.a.forwardRef((function(t,e){var n=t.center,i=void 0!==n&&n,o=t.classes,a=t.className,s=Wh(t,["center","classes","className"]),l=r.a.useState([]),u=l[0],c=l[1],h=r.a.useRef(0),f=r.a.useRef(null);r.a.useEffect((function(){f.current&&(f.current(),f.current=null)}),[u]);var d=r.a.useRef(!1),p=r.a.useRef(null),m=r.a.useRef(null),_=r.a.useRef(null);r.a.useEffect((function(){return function(){clearTimeout(p.current)}}),[]);var v=r.a.useCallback((function(t){var e=t.pulsate,n=t.rippleX,i=t.rippleY,a=t.rippleSize,s=t.cb;c((function(t){return[].concat(Id(t),[r.a.createElement(u_,{key:h.current,classes:o,timeout:550,pulsate:e,rippleX:n,rippleY:i,rippleSize:a})])})),h.current+=1,f.current=s}),[o]),y=r.a.useCallback((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=e.pulsate,o=void 0!==r&&r,a=e.center,s=void 0===a?i||e.pulsate:a,l=e.fakeElement,u=void 0!==l&&l;if("mousedown"===t.type&&d.current)d.current=!1;else{"touchstart"===t.type&&(d.current=!0);var c,h,f,y=u?null:_.current,g=y?y.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===t.clientX&&0===t.clientY||!t.clientX&&!t.touches)c=Math.round(g.width/2),h=Math.round(g.height/2);else{var b=t.clientX?t.clientX:t.touches[0].clientX,w=t.clientY?t.clientY:t.touches[0].clientY;c=Math.round(b-g.left),h=Math.round(w-g.top)}if(s)(f=Math.sqrt((2*Math.pow(g.width,2)+Math.pow(g.height,2))/3))%2==0&&(f+=1);else{var x=2*Math.max(Math.abs((y?y.clientWidth:0)-c),c)+2,L=2*Math.max(Math.abs((y?y.clientHeight:0)-h),h)+2;f=Math.sqrt(Math.pow(x,2)+Math.pow(L,2))}t.touches?(m.current=function(){v({pulsate:o,rippleX:c,rippleY:h,rippleSize:f,cb:n})},p.current=setTimeout((function(){m.current&&(m.current(),m.current=null)}),80)):v({pulsate:o,rippleX:c,rippleY:h,rippleSize:f,cb:n})}}),[i,v]),g=r.a.useCallback((function(){y({},{pulsate:!0})}),[y]),b=r.a.useCallback((function(t,e){if(clearTimeout(p.current),"touchend"===t.type&&m.current)return t.persist(),m.current(),m.current=null,void(p.current=setTimeout((function(){b(t,e)})));m.current=null,c((function(t){return t.length>0?t.slice(1):t})),f.current=e}),[]);return r.a.useImperativeHandle(e,(function(){return{pulsate:g,start:y,stop:b}}),[g,y,b]),r.a.createElement("span",uh({className:qh(o.root,a),ref:_},s),r.a.createElement(s_,{component:null,exit:!0},u))}));var h_,f_=Rm((function(t){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(t.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(t.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(t.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(t.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(((h_=r.a.memo(c_)).muiName="MuiTouchRipple",h_)),d_=r.a.forwardRef((function(t,e){var n=t.action,i=t.buttonRef,o=t.centerRipple,a=void 0!==o&&o,s=t.children,l=t.classes,u=t.className,c=t.component,h=void 0===c?"button":c,f=t.disabled,d=void 0!==f&&f,p=t.disableRipple,m=void 0!==p&&p,_=t.disableTouchRipple,v=void 0!==_&&_,y=t.focusRipple,g=void 0!==y&&y,b=t.focusVisibleClassName,w=t.onBlur,x=t.onClick,L=t.onFocus,k=t.onFocusVisible,E=t.onKeyDown,M=t.onKeyUp,P=t.onMouseDown,T=t.onMouseLeave,C=t.onMouseUp,S=t.onTouchEnd,O=t.onTouchMove,A=t.onTouchStart,D=t.onDragLeave,R=t.tabIndex,z=void 0===R?0:R,j=t.TouchRippleProps,I=t.type,N=void 0===I?"button":I,B=Wh(t,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),U=r.a.useRef(null);var F=r.a.useRef(null),Z=r.a.useState(!1),H=Z[0],V=Z[1];d&&H&&V(!1);var G=t_(),W=G.isFocusVisible,Y=G.onBlurVisible,q=G.ref;function X(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;return Zm((function(i){return e&&e(i),!n&&F.current&&F.current[t](i),!0}))}r.a.useImperativeHandle(n,(function(){return{focusVisible:function(){V(!0),U.current.focus()}}}),[]),r.a.useEffect((function(){H&&g&&!m&&F.current.pulsate()}),[m,g,H]);var K=X("start",P),J=X("stop",D),$=X("stop",C),Q=X("stop",(function(t){H&&t.preventDefault(),T&&T(t)})),tt=X("start",A),et=X("stop",S),nt=X("stop",O),it=X("stop",(function(t){H&&(Y(t),V(!1)),w&&w(t)}),!1),rt=Zm((function(t){d||(U.current||(U.current=t.currentTarget),W(t)&&(V(!0),k&&k(t)),L&&L(t))})),ot=function(){var t=Gh.a.findDOMNode(U.current);return h&&"button"!==h&&!("A"===t.tagName&&t.href)},at=r.a.useRef(!1),st=Zm((function(t){g&&!at.current&&H&&F.current&&" "===t.key&&(at.current=!0,t.persist(),F.current.stop(t,(function(){F.current.start(t)}))),E&&E(t),t.target===t.currentTarget&&ot()&&"Enter"===t.key&&(t.preventDefault(),x&&x(t))})),lt=Zm((function(t){g&&" "===t.key&&F.current&&H&&!t.defaultPrevented&&(at.current=!1,t.persist(),F.current.stop(t,(function(){F.current.pulsate(t)}))),M&&M(t),t.target===t.currentTarget&&ot()&&" "===t.key&&!t.defaultPrevented&&(t.preventDefault(),x&&x(t))})),ut=h;"button"===ut&&B.href&&(ut="a");var ct={};"button"===ut?(ct.type=N,ct.disabled=d):("a"===ut&&B.href||(ct.role="button"),ct["aria-disabled"]=d);var ht=Um(i,e),ft=Um(q,U),dt=Um(ht,ft);return r.a.createElement(ut,uh({className:qh(l.root,u,H&&[l.focusVisible,b],d&&l.disabled),onBlur:it,onClick:x,onFocus:rt,onKeyDown:st,onKeyUp:lt,onMouseDown:K,onMouseLeave:Q,onMouseUp:$,onDragLeave:J,onTouchEnd:et,onTouchMove:nt,onTouchStart:tt,ref:dt,tabIndex:d?-1:z},ct,B),s,m||d?null:r.a.createElement(Vm,null,r.a.createElement(f_,uh({ref:F,center:a},j))))})),p_=Rm({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(d_),m_=r.a.forwardRef((function(t,e){var n=t.edge,i=void 0!==n&&n,o=t.children,a=t.classes,s=t.className,l=t.color,u=void 0===l?"default":l,c=t.disabled,h=void 0!==c&&c,f=t.disableFocusRipple,d=void 0!==f&&f,p=t.size,m=void 0===p?"medium":p,_=Wh(t,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return r.a.createElement(p_,uh({className:qh(a.root,s,"default"!==u&&a["color".concat(zm(u))],h&&a.disabled,{small:a["size".concat(zm(m))]}[m],{start:a.edgeStart,end:a.edgeEnd}[i]),centerRipple:!0,focusRipple:!d,disabled:h,ref:e},_),r.a.createElement("span",{className:a.label},o))})),__=Rm((function(t){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:t.palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{backgroundColor:pm(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:t.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:t.palette.primary.main,"&:hover":{backgroundColor:pm(t.palette.primary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:t.palette.secondary.main,"&:hover":{backgroundColor:pm(t.palette.secondary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:t.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(m_),v_=r.a.forwardRef((function(t,e){var n=t.autoFocus,i=t.checked,o=t.checkedIcon,a=t.classes,s=t.className,l=t.defaultChecked,u=t.disabled,c=t.icon,h=t.id,f=t.inputProps,d=t.inputRef,p=t.name,m=t.onBlur,_=t.onChange,v=t.onFocus,y=t.readOnly,g=t.required,b=t.tabIndex,w=t.type,x=t.value,L=Wh(t,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),k=r.a.useRef(null!=i).current,E=r.a.useState(Boolean(l)),M=E[0],P=E[1],T=k?i:M,C=Nm(),S=u;C&&void 0===S&&(S=C.disabled);var O="checkbox"===w||"radio"===w;return r.a.createElement(__,uh({component:"span",className:qh(a.root,s,T&&a.checked,S&&a.disabled),disabled:S,tabIndex:null,role:void 0,onFocus:function(t){v&&v(t),C&&C.onFocus&&C.onFocus(t)},onBlur:function(t){m&&m(t),C&&C.onBlur&&C.onBlur(t)},ref:e},L),r.a.createElement("input",uh({autoFocus:n,checked:i,defaultChecked:l,className:a.input,disabled:S,id:O&&h,name:p,onChange:function(t){var e=t.target.checked;k||P(e),_&&_(t,e)},readOnly:y,ref:d,required:g,tabIndex:b,type:w,value:x},f)),T?o:c)})),y_=Rm({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(v_),g_=r.a.forwardRef((function(t,e){var n=t.classes,i=t.className,o=t.color,a=void 0===o?"secondary":o,s=t.disabled,l=void 0!==s&&s,u=t.edge,c=void 0!==u&&u,h=t.size,f=void 0===h?"medium":h,d=Wh(t,["classes","className","color","disabled","edge","size"]),p=r.a.createElement("span",{className:n.thumb});return r.a.createElement("span",{className:qh(n.root,i,{start:n.edgeStart,end:n.edgeEnd}[c],{small:n["size".concat(zm(f))]}[f])},r.a.createElement(y_,uh({type:"checkbox",icon:p,checkedIcon:p,classes:{root:qh(n.switchBase,n["color".concat(zm(a))]),input:n.input,checked:n.checked,disabled:n.disabled},ref:e,disabled:l},d)),r.a.createElement("span",{className:n.track}))})),b_=Rm((function(t){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle"},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===t.palette.type?t.palette.grey[50]:t.palette.grey[400],transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:"light"===t.palette.type?t.palette.grey[400]:t.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===t.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:t.palette.primary.main,"&:hover":{backgroundColor:pm(t.palette.primary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===t.palette.type?t.palette.grey[400]:t.palette.grey[800]},"&$checked + $track":{backgroundColor:t.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===t.palette.type?t.palette.common.black:t.palette.common.white}},colorSecondary:{"&$checked":{color:t.palette.secondary.main,"&:hover":{backgroundColor:pm(t.palette.secondary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===t.palette.type?t.palette.grey[400]:t.palette.grey[800]},"&$checked + $track":{backgroundColor:t.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===t.palette.type?t.palette.common.black:t.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:t.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:"light"===t.palette.type?t.palette.common.black:t.palette.common.white,opacity:"light"===t.palette.type?.38:.3}}}),{name:"MuiSwitch"})(g_),w_={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},x_=r.a.forwardRef((function(t,e){var n=t.align,i=void 0===n?"inherit":n,o=t.classes,a=t.className,s=t.color,l=void 0===s?"initial":s,u=t.component,c=t.display,h=void 0===c?"initial":c,f=t.gutterBottom,d=void 0!==f&&f,p=t.noWrap,m=void 0!==p&&p,_=t.paragraph,v=void 0!==_&&_,y=t.variant,g=void 0===y?"body1":y,b=t.variantMapping,w=void 0===b?w_:b,x=Wh(t,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),L=u||(v?"p":w[g]||w_[g])||"span";return r.a.createElement(L,uh({className:qh(o.root,a,"inherit"!==g&&o[g],"initial"!==l&&o["color".concat(zm(l))],m&&o.noWrap,d&&o.gutterBottom,v&&o.paragraph,"inherit"!==i&&o["align".concat(zm(i))],"initial"!==h&&o["display".concat(zm(h))]),ref:e},x))})),L_=Rm((function(t){return{root:{margin:0},body2:t.typography.body2,body1:t.typography.body1,caption:t.typography.caption,button:t.typography.button,h1:t.typography.h1,h2:t.typography.h2,h3:t.typography.h3,h4:t.typography.h4,h5:t.typography.h5,h6:t.typography.h6,subtitle1:t.typography.subtitle1,subtitle2:t.typography.subtitle2,overline:t.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},colorTextPrimary:{color:t.palette.text.primary},colorTextSecondary:{color:t.palette.text.secondary},colorError:{color:t.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(x_),k_=r.a.forwardRef((function(t,e){t.checked;var n=t.classes,i=t.className,o=t.control,a=t.disabled,s=(t.inputRef,t.label),l=t.labelPlacement,u=void 0===l?"end":l,c=(t.name,t.onChange,t.value,Wh(t,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),h=Nm(),f=a;void 0===f&&void 0!==o.props.disabled&&(f=o.props.disabled),void 0===f&&h&&(f=h.disabled);var d={disabled:f};return["checked","name","onChange","value","inputRef"].forEach((function(e){void 0===o.props[e]&&void 0!==t[e]&&(d[e]=t[e])})),r.a.createElement("label",uh({className:qh(n.root,i,"end"!==u&&n["labelPlacement".concat(zm(u))],f&&n.disabled),ref:e},c),r.a.cloneElement(o,d),r.a.createElement(L_,{component:"span",className:qh(n.label,f&&n.disabled)},s))})),E_=Rm((function(t){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:t.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(k_);function M_(t){return(M_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P_(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function T_(t,e){return!e||"object"!==M_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C_(t){return(C_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S_(t,e){return(S_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var O_=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=T_(this,C_(e).call(this,t))).state={checked:n.props.checked};var i=n.props.leaflet.map;return n.leafletElement.addTo(i),n}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S_(t,e)}(e,t),n=e,(i=[{key:"handleChange",value:function(){this.setState({checked:!this.state.checked}),this.props.onChange()}},{key:"createLeafletElement",value:function(t){var e=this;return new(sh.a.Control.extend({onAdd:function(){return e.panelDiv=sh.a.DomUtil.create("div","leaflet-custom-control"),e.panelDiv}}))({position:t.position})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Gh.a.createPortal(r.a.createElement(E_,{control:r.a.createElement(b_,{onClick:this.handleChange.bind(this),checked:this.state.checked}),label:this.props.label,style:{paddingLeft:"10px"}}),this.panelDiv)}}])&&P_(n.prototype,i),o&&P_(n,o),e}(gh);O_.propTypes={label:a.a.string,handleChange:a.a.func,checked:a.a.bool};var A_=yh(O_);function D_(t){return(D_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R_(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function z_(t,e){return!e||"object"!==D_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j_(t){return(j_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function I_(t,e){return(I_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var N_=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=(n=z_(this,j_(e).call(this,t))).props.leaflet.map;return n.leafletElement.addTo(i),n}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I_(t,e)}(e,t),n=e,(i=[{key:"createLeafletElement",value:function(t){var e=this;return new(sh.a.Control.extend({onAdd:function(){return e.panelDiv=sh.a.DomUtil.create("div","leaflet-custom-control"),e.panelDiv}}))({position:t.position})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this.props.x?r.a.createElement("div",null,"x = ",Math.floor(this.props.x)," m"):"",e=this.props.y?r.a.createElement("div",null,"y = ",Math.floor(this.props.y)," m"):"",n=this.props.z?r.a.createElement("div",null,"z = ",this.props.z):"";return Gh.a.createPortal(r.a.createElement("div",{className:"leaflet-valueinfobox"},t,e,n),this.panelDiv)}}])&&R_(n.prototype,i),o&&R_(n,o),e}(gh);N_.propTypes={x:a.a.number,y:a.a.number,z:a.a.string};var B_=yh(N_);function U_(t){return(U_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z_(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function H_(t,e){return!e||"object"!==U_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function V_(t){return(V_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function G_(t,e){return(G_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var W_=function(t){function e(){return F_(this,e),H_(this,V_(e).apply(this,arguments))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G_(t,e)}(e,t),n=e,(i=[{key:"render",value:function(){return this.props.showLayersControl?r.a.createElement(kh,{position:"topright",hideSingleBase:!0},this.props.children):this.props.children}}])&&Z_(n.prototype,i),o&&Z_(n,o),e}(r.a.Component);W_.propTypes={showLayersControl:a.a.bool,children:a.a.node};var Y_=W_,q_=yh(function(t){function e(){return t.apply(this,arguments)||this}hh(e,t);var n=e.prototype;return n.createLeafletElement=function(t){var e=new ah.ImageOverlay(t.url,t.bounds,this.getOptions(t));return this.contextValue=uh({},t.leaflet,{popupContainer:e}),e},n.updateLeafletElement=function(t,e){e.url!==t.url&&this.leafletElement.setUrl(e.url),e.bounds!==t.bounds&&this.leafletElement.setBounds(Object(ah.latLngBounds)(e.bounds)),e.opacity!==t.opacity&&this.leafletElement.setOpacity(e.opacity),e.zIndex!==t.zIndex&&this.leafletElement.setZIndex(e.zIndex)},e}(Bh));function X_(t){return(X_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K_(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function J_(t,e){return!e||"object"!==X_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $_(t,e,n){return($_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Q_(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Q_(t){return(Q_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tv(t,e){return(tv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ev=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=J_(this,Q_(e).call(this,t)))._map=n.props.leaflet.map,n._bounds=sh.a.latLngBounds(n.props.bounds),n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tv(t,e)}(e,t),n=e,(i=[{key:"createLeafletElement",value:function(){return null}},{key:"_animateZoom",value:function(t){sh.a.DomUtil.setTransform(this.el,this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min,this._map.getZoomScale(t.zoom))}},{key:"_reset",value:function(){var t=new sh.a.Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),e=t.getSize();sh.a.DomUtil.setPosition(this.el,t.min),this.el.style.width=e.x+"px",this.el.style.height=e.y+"px"}},{key:"componentDidMount",value:function(){var t=this;this.el=sh.a.DomUtil.create("canvas","leaflet-zoom-animated");var n=sh.a.Layer.extend({onAdd:function(e){return e.getPanes().overlayPane.appendChild(t.el)},addTo:function(e){return e.addLayer(t),t},onRemove:function(){return sh.a.DomUtil.remove(t.el)},getEvents:function(){return{zoom:t._reset.bind(t),viewreset:t._reset.bind(t),zoomanim:t._animateZoom.bind(t)}}});this.leafletElement=new n,$_(Q_(e.prototype),"componentDidMount",this).call(this),this.props.drawMethod(this.el),this._reset(),this.el.onclick=function(e){if(t.props.original_data.loaded){var n=t.el.getBoundingClientRect(),i=Math.floor((e.clientX-n.left)/n.width*t.props.original_data.ImageData.width),r=Math.floor((e.clientY-n.top)/n.height*t.props.original_data.ImageData.height),o=t.props.original_data.ImageData.data[4*(r*t.props.original_data.ImageData.width+i)],a=o>0?"".concat(Math.floor((t.props.maxvalue-t.props.minvalue)*(o-1)/255+t.props.minvalue)," ").concat(t.props.unit):null;t._map.fire("onlayeredmapclick",{z:a},!0)}}}},{key:"componentDidUpdate",value:function(t){this.props.drawMethod!==t.drawMethod&&(this._bounds=sh.a.latLngBounds(this.props.bounds),this._reset(),this.props.drawMethod(this.el))}},{key:"componentWillUnmount",value:function(){sh.a.DomUtil.remove(this.el)}}])&&K_(n.prototype,i),r&&K_(n,r),e}(Bh);ev.propTypes={bounds:a.a.array,drawMethod:a.a.func,minvalue:a.a.number,maxvalue:a.a.number,unit:a.a.string};var nv=yh(ev);function iv(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var rv=function(t,e,n,i,r,o){var a=function(t,e,n){var i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i},s=function(t,e,n){var i=t.getParameter(t.CURRENT_PROGRAM),r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,new Float32Array(n),t.STATIC_DRAW);var o=t.getAttribLocation(i,e);t.enableVertexAttribArray(o),t.bindBuffer(t.ARRAY_BUFFER,r),t.vertexAttribPointer(o,2,t.FLOAT,!1,0,0)},l=function(t,e,n,i){var r=t.getParameter(t.CURRENT_PROGRAM);t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,t.createTexture()),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,i),t.uniform1i(t.getUniformLocation(r,n),e)},u=function(t){return new Promise((function(e){var n=new Image;n.src=t,n.onload=function(){return e(n)}}))};Promise.all([u(e),u(n)]).then((function(e){var n=iv(e,2),u=n[0],c=n[1],h=t.getContext("webgl",{premultipliedAlpha:!1});h.getExtension("OES_texture_float"),t.width=u.width,t.height=u.height,h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT),h.viewport(0,0,h.canvas.width,h.canvas.height);var f=function(t,e,n){var i=t.createProgram();return t.attachShader(i,e),t.attachShader(i,n),t.linkProgram(i),i}(h,a(h,h.VERTEX_SHADER,"attribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform vec2 u_resolution_vertex;\n    \nvarying vec2 v_texCoord;\n\nvoid main() {\n    // Convert from pixel range ([0, w] x [0, h]) to clip space ([-1, 1] x [-1, 1]):\n    vec2 clipSpace = (a_position / u_resolution_vertex) * 2.0 - 1.0;\n\n    // Flip y axis\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n\n    // Pass the texCoord to the fragment shader\n    v_texCoord = a_texCoord;\n}\n"),a(h,h.FRAGMENT_SHADER,i?"precision mediump float;\n\nuniform sampler2D u_image;\nuniform sampler2D u_colormap_frame;\nuniform vec2 u_resolution_fragment;\nuniform float u_colormap_length;\nuniform float u_elevation_scale;\nuniform vec3 u_light_direction;\n\nvarying vec2 v_texCoord;\n\nvoid main() {\n    vec2 pixelPos = vec2(gl_FragCoord.x, u_resolution_fragment.y - gl_FragCoord.y);\n\n    float v0 = texture2D(u_image, pixelPos / u_resolution_fragment).r;\n    float vx = texture2D(u_image, (pixelPos + vec2(1.0, 0.0)) / u_resolution_fragment).r;\n    float vy = texture2D(u_image, (pixelPos + vec2(0.0, 1.0)) / u_resolution_fragment).r;\n\n    // Create tangent vector components along terrain\n    // in x and y directions respectively:\n    vec3 dx = vec3(u_elevation_scale, 0.0, vx - v0);\n    vec3 dy = vec3(0.0, u_elevation_scale, v0 - vy);\n\n    // Calculate terrain normal vector by taking cross product of dx and dy.\n    // Then calculate simple hill shading by taking dot product between\n    // normal vector and light direction vector.\n    float light = 0.5 * dot(normalize(cross(dx, dy)), u_light_direction) + 0.5;\n\n    float map_array = texture2D(u_image, v_texCoord).r;\n    vec4 color = texture2D(u_colormap_frame, vec2((map_array * (u_colormap_length - 1.0) + 0.5) / u_colormap_length, 0.5));\n\n    gl_FragColor = color * vec4(light, light, light, 1.0);\n}\n":"precision mediump float;\n\nuniform sampler2D u_image;\nuniform sampler2D u_colormap_frame;\nuniform float u_colormap_length;\n\nvarying vec2 v_texCoord;\n\nvoid main() {\n    float map_array = texture2D(u_image, v_texCoord).r;\n    gl_FragColor = texture2D(u_colormap_frame, vec2((map_array * (u_colormap_length - 1.0) + 0.5) / u_colormap_length, 0.5));\n}\n"));if(h.useProgram(f),s(h,"a_texCoord",[0,0,1,0,0,1,0,1,1,0,1,1]),s(h,"a_position",[0,0,u.width,0,0,u.height,0,u.height,u.width,0,u.width,u.height]),l(h,0,"u_image",u),l(h,1,"u_colormap_frame",c),h.uniform2f(h.getUniformLocation(f,"u_resolution_vertex"),h.canvas.width,h.canvas.height),h.uniform1f(h.getUniformLocation(f,"u_colormap_length"),c.width),i){h.uniform2f(h.getUniformLocation(f,"u_resolution_fragment"),h.canvas.width,h.canvas.height);var d=Math.sqrt(Math.pow(o[0],2)+Math.pow(o[1],2)+Math.pow(o[2],2));h.uniform3f(h.getUniformLocation(f,"u_light_direction"),o[0]/d,o[1]/d,o[2]/d),h.uniform1f(h.getUniformLocation(f,"u_elevation_scale"),r)}h.drawArrays(h.TRIANGLES,0,6)}))};function ov(t){return(ov="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function av(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sv(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function lv(t,e){return!e||"object"!==ov(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uv(t){return(uv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function cv(t,e){return(cv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hv=function(t){function e(){return av(this,e),lv(this,uv(e).apply(this,arguments))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cv(t,e)}(e,t),n=e,(i=[{key:"render",value:function(){var t=this;if(void 0===this.props.colormap)return r.a.createElement(q_,{url:this.props.url,bounds:this.props.bounds});this.original_data={loaded:!1};var e=new Image;return e.onload=function(){var n=document.createElement("canvas"),i=n.getContext("2d");n.width=e.width,n.height=e.height,i.drawImage(e,0,0),t.original_data.ImageData=i.getImageData(0,0,n.width,n.height),t.original_data.loaded=!0},e.src=this.props.url,r.a.createElement(nv,{drawMethod:function(e){return rv(e,t.props.url,t.props.colormap,t.props.hillShading,t.props.elevationScale,t.props.lightDirection)},bounds:this.props.bounds,original_data:this.original_data,minvalue:this.props.minvalue,maxvalue:this.props.maxvalue,unit:this.props.unit})}}])&&sv(n.prototype,i),o&&sv(n,o),e}(i.Component);hv.propTypes={url:a.a.string,colormap:a.a.string,bounds:a.a.array,hillShading:a.a.bool,elevationScale:a.a.number,lightDirection:a.a.array,minvalue:a.a.number,maxvalue:a.a.number,unit:a.a.string};var fv=hv;function dv(t){return(dv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pv(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function mv(t,e){return!e||"object"!==dv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _v(t){return(_v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vv(t,e){return(vv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var yv=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=(n=mv(this,_v(e).call(this,t))).props.leaflet.map;return n.leafletElement.addTo(i),n}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vv(t,e)}(e,t),n=e,(i=[{key:"createLeafletElement",value:function(t){var e=this;return new(sh.a.Control.extend({onAdd:function(){return e.panelDiv=sh.a.DomUtil.create("div","leaflet-custom-control"),e.panelDiv}}))({position:t.position})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Gh.a.createPortal(r.a.createElement("div",{className:"leaflet-colorbar"},r.a.createElement("div",{className:"leaflet-colorbar-image"},r.a.createElement("img",{src:this.props.colormap,style:{width:"100%",height:"10px"}})),r.a.createElement("div",null,this.props.minvalue," ",this.props.unit),r.a.createElement("div",{className:"leaflet-colorbar-right-label"},this.props.maxvalue," ",this.props.unit)),this.panelDiv)}}])&&pv(n.prototype,i),o&&pv(n,o),e}(gh);yv.propTypes={colormap:a.a.string,minvalue:a.a.number,maxvalue:a.a.number,unit:a.a.string};var gv=yh(yv),bv=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return fh(ch(e=t.call.apply(t,[this].concat(i))||this),"onTooltipOpen",(function(t){t.tooltip===e.leafletElement&&e.onOpen()})),fh(ch(e),"onTooltipClose",(function(t){t.tooltip===e.leafletElement&&e.onClose()})),e}hh(e,t);var n=e.prototype;return n.createLeafletElement=function(t){return new ah.Tooltip(this.getOptions(t),t.leaflet.popupContainer)},n.componentDidMount=function(){var t=this.props.leaflet.popupContainer;null!=t&&(t.on({tooltipopen:this.onTooltipOpen,tooltipclose:this.onTooltipClose}),t.bindTooltip(this.leafletElement))},n.componentWillUnmount=function(){var t=this.props.leaflet.popupContainer;null!=t&&(t.off({tooltipopen:this.onTooltipOpen,tooltipclose:this.onTooltipClose}),null!=t._map&&t.unbindTooltip(this.leafletElement))},e}(function(t){function e(e){var n;return fh(ch(n=t.call(this,e)||this),"onClose",(function(){n.props.onClose&&n.props.onClose()})),fh(ch(n),"onOpen",(function(){n.forceUpdate(),n.props.onOpen&&n.props.onOpen()})),n.leafletElement=n.createLeafletElement(e),n}hh(e,t);var n=e.prototype;return n.createLeafletElement=function(t){throw new Error("createLeafletElement() must be implemented")},n.updateLeafletElement=function(t,e){},n.componentDidUpdate=function(t){Th(this.leafletElement._container,t.className,this.props.className),this.updateLeafletElement(t,this.props),this.leafletElement.isOpen()&&(this.leafletElement.update(),this.onRender())},n.onRender=function(){},n.render=function(){return this.leafletElement._contentNode?Object(Vh.createPortal)(this.props.children,this.leafletElement._contentNode):null},e}(Nh));fh(bv,"defaultProps",{pane:"tooltipPane"});var wv=yh(bv),xv=yh(function(t){function e(){return t.apply(this,arguments)||this}hh(e,t);var n=e.prototype;return n.createLeafletElement=function(t){return new ah.Polyline(t.positions,this.getOptions(t))},n.updateLeafletElement=function(t,e){e.positions!==t.positions&&this.leafletElement.setLatLngs(e.positions),this.setStyleIfChanged(t,e)},e}(Fh)),Lv=yh(function(t){function e(){return t.apply(this,arguments)||this}hh(e,t);var n=e.prototype;return n.createLeafletElement=function(t){return new ah.Polygon(t.positions,this.getOptions(t))},n.updateLeafletElement=function(t,e){e.positions!==t.positions&&this.leafletElement.setLatLngs(e.positions),this.setStyleIfChanged(t,e)},e}(Fh)),kv=yh(function(t){function e(){return t.apply(this,arguments)||this}hh(e,t);var n=e.prototype;return n.createLeafletElement=function(t){var e=t.center,n=t.radius,i=lh(t,["center","radius"]);return new ah.Circle(e,n,this.getOptions(i))},n.updateLeafletElement=function(t,e){e.center!==t.center&&this.leafletElement.setLatLng(e.center),e.radius!==t.radius&&this.leafletElement.setRadius(e.radius)},e}(Fh)),Ev=yh(function(t){function e(){return t.apply(this,arguments)||this}return hh(e,t),e.prototype.createLeafletElement=function(t){var e=new ah.LayerGroup([],this.getOptions(t));return this.contextValue=uh({},t.leaflet,{layerContainer:e}),e},e}(Bh));function Mv(t){return(Mv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tv(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Cv(t,e){return!e||"object"!==Mv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sv(t){return(Sv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ov(t,e){return(Ov=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Av(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Dv=function(t){var e=Av(t,2),n=e[0];return[e[1],n]},Rv=function(t){function e(){return Pv(this,e),Cv(this,Sv(e).apply(this,arguments))}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ov(t,e)}(e,t),n=e,(o=[{key:"renderTooltip",value:function(t){return"tooltip"in t?r.a.createElement(wv,{sticky:!0},t.tooltip):null}},{key:"renderItem",value:function(t,e){var n=this;if("polyline"===t.type){var i=t.positions.map((function(t){return Dv(t)}));return r.a.createElement(xv,{onClick:function(){return n.props.lineCoords(i)},color:t.color,positions:i,key:e},this.renderTooltip(t))}if("polygon"===t.type){var o=t.positions.map((function(t){return Dv(t)}));return r.a.createElement(Lv,{onClick:function(){return n.props.polygonCoords(o)},color:t.color,positions:o,key:e},this.renderTooltip(t))}return"circle"===t.type?r.a.createElement(kv,{color:t.color,center:Dv(t.center),radius:t.radius,key:e},this.renderTooltip(t)):"image"===t.type?r.a.createElement(r.a.Fragment,null,r.a.createElement(fv,{url:t.url,colormap:t.colormap,bounds:t.bounds.map((function(t){return Dv(t)})),hillShading:this.props.hillShading&&t.allowHillshading,elevationScale:t.elevationScale||.03,lightDirection:this.props.lightDirection,minvalue:t.minvalue,maxvalue:t.maxvalue,unit:t.unit,key:e}),"colormap"in t&&r.a.createElement(gv,{colormap:t.colormap,unit:t.unit,minvalue:t.minvalue,maxvalue:t.maxvalue,position:"bottomleft",key:"colormap"+e})):null}},{key:"render",value:function(){var t=this;return r.a.createElement(Ev,null,this.props.layer.data.map((function(e,n){return r.a.createElement(i.Fragment,{key:n},t.renderItem(e,n))})))}}])&&Tv(n.prototype,o),a&&Tv(n,a),e}(i.Component);Rv.propTypes={layer:a.a.object,hillShading:a.a.bool,lineCoords:a.a.func,polygonCoords:a.a.func};var zv=Rv;n(126);var jv=function(){this.__data__=[],this.size=0};var Iv=function(t,e){return t===e||t!=t&&e!=e};var Nv=function(t,e){for(var n=t.length;n--;)if(Iv(t[n][0],e))return n;return-1},Bv=Array.prototype.splice;var Uv=function(t){var e=this.__data__,n=Nv(e,t);return!(n<0)&&(n==e.length-1?e.pop():Bv.call(e,n,1),--this.size,!0)};var Fv=function(t){var e=this.__data__,n=Nv(e,t);return n<0?void 0:e[n][1]};var Zv=function(t){return Nv(this.__data__,t)>-1};var Hv=function(t,e){var n=this.__data__,i=Nv(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};function Vv(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Vv.prototype.clear=jv,Vv.prototype.delete=Uv,Vv.prototype.get=Fv,Vv.prototype.has=Zv,Vv.prototype.set=Hv;var Gv=Vv;var Wv=function(){this.__data__=new Gv,this.size=0};var Yv=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var qv=function(t){return this.__data__.get(t)};var Xv=function(t){return this.__data__.has(t)},Kv=n(3),Jv=Kv.a.Symbol,$v=Object.prototype,Qv=$v.hasOwnProperty,ty=$v.toString,ey=Jv?Jv.toStringTag:void 0;var ny=function(t){var e=Qv.call(t,ey),n=t[ey];try{t[ey]=void 0;var i=!0}catch(t){}var r=ty.call(t);return i&&(e?t[ey]=n:delete t[ey]),r},iy=Object.prototype.toString;var ry=function(t){return iy.call(t)},oy=Jv?Jv.toStringTag:void 0;var ay=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":oy&&oy in Object(t)?ny(t):ry(t)};var sy=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};var ly,uy=function(t){if(!sy(t))return!1;var e=ay(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},cy=Kv.a["__core-js_shared__"],hy=(ly=/[^.]+$/.exec(cy&&cy.keys&&cy.keys.IE_PROTO||""))?"Symbol(src)_1."+ly:"";var fy=function(t){return!!hy&&hy in t},dy=Function.prototype.toString;var py=function(t){if(null!=t){try{return dy.call(t)}catch(t){}try{return t+""}catch(t){}}return""},my=/^\[object .+?Constructor\]$/,_y=Function.prototype,vy=Object.prototype,yy=_y.toString,gy=vy.hasOwnProperty,by=RegExp("^"+yy.call(gy).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var wy=function(t){return!(!sy(t)||fy(t))&&(uy(t)?by:my).test(py(t))};var xy=function(t,e){return null==t?void 0:t[e]};var Ly=function(t,e){var n=xy(t,e);return wy(n)?n:void 0},ky=Ly(Kv.a,"Map"),Ey=Ly(Object,"create");var My=function(){this.__data__=Ey?Ey(null):{},this.size=0};var Py=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ty=Object.prototype.hasOwnProperty;var Cy=function(t){var e=this.__data__;if(Ey){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Ty.call(e,t)?e[t]:void 0},Sy=Object.prototype.hasOwnProperty;var Oy=function(t){var e=this.__data__;return Ey?void 0!==e[t]:Sy.call(e,t)};var Ay=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ey&&void 0===e?"__lodash_hash_undefined__":e,this};function Dy(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Dy.prototype.clear=My,Dy.prototype.delete=Py,Dy.prototype.get=Cy,Dy.prototype.has=Oy,Dy.prototype.set=Ay;var Ry=Dy;var zy=function(){this.size=0,this.__data__={hash:new Ry,map:new(ky||Gv),string:new Ry}};var jy=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Iy=function(t,e){var n=t.__data__;return jy(e)?n["string"==typeof e?"string":"hash"]:n.map};var Ny=function(t){var e=Iy(this,t).delete(t);return this.size-=e?1:0,e};var By=function(t){return Iy(this,t).get(t)};var Uy=function(t){return Iy(this,t).has(t)};var Fy=function(t,e){var n=Iy(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this};function Zy(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Zy.prototype.clear=zy,Zy.prototype.delete=Ny,Zy.prototype.get=By,Zy.prototype.has=Uy,Zy.prototype.set=Fy;var Hy=Zy;var Vy=function(t,e){var n=this.__data__;if(n instanceof Gv){var i=n.__data__;if(!ky||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Hy(i)}return n.set(t,e),this.size=n.size,this};function Gy(t){var e=this.__data__=new Gv(t);this.size=e.size}Gy.prototype.clear=Wv,Gy.prototype.delete=Yv,Gy.prototype.get=qv,Gy.prototype.has=Xv,Gy.prototype.set=Vy;var Wy=Gy;var Yy=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var qy=function(t){return this.__data__.has(t)};function Xy(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Hy;++e<n;)this.add(t[e])}Xy.prototype.add=Xy.prototype.push=Yy,Xy.prototype.has=qy;var Ky=Xy;var Jy=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1};var $y=function(t,e){return t.has(e)};var Qy=function(t,e,n,i,r,o){var a=1&n,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var c=-1,h=!0,f=2&n?new Ky:void 0;for(o.set(t,e),o.set(e,t);++c<s;){var d=t[c],p=e[c];if(i)var m=a?i(p,d,c,e,t,o):i(d,p,c,t,e,o);if(void 0!==m){if(m)continue;h=!1;break}if(f){if(!Jy(e,(function(t,e){if(!$y(f,e)&&(d===t||r(d,t,n,i,o)))return f.push(e)}))){h=!1;break}}else if(d!==p&&!r(d,p,n,i,o)){h=!1;break}}return o.delete(t),o.delete(e),h},tg=Kv.a.Uint8Array;var eg=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n};var ng=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},ig=Jv?Jv.prototype:void 0,rg=ig?ig.valueOf:void 0;var og=function(t,e,n,i,r,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new tg(t),new tg(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Iv(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=eg;case"[object Set]":var l=1&i;if(s||(s=ng),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;i|=2,a.set(t,e);var c=Qy(s(t),s(e),i,r,o,a);return a.delete(t),c;case"[object Symbol]":if(rg)return rg.call(t)==rg.call(e)}return!1};var ag=function(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t},sg=Array.isArray;var lg=function(t,e,n){var i=e(t);return sg(t)?i:ag(i,n(t))};var ug=function(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o};var cg=function(){return[]},hg=Object.prototype.propertyIsEnumerable,fg=Object.getOwnPropertySymbols,dg=fg?function(t){return null==t?[]:(t=Object(t),ug(fg(t),(function(e){return hg.call(t,e)})))}:cg;var pg=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i};var mg=function(t){return null!=t&&"object"==typeof t};var _g=function(t){return mg(t)&&"[object Arguments]"==ay(t)},vg=Object.prototype,yg=vg.hasOwnProperty,gg=vg.propertyIsEnumerable,bg=_g(function(){return arguments}())?_g:function(t){return mg(t)&&yg.call(t,"callee")&&!gg.call(t,"callee")},wg=n(10),xg=/^(?:0|[1-9]\d*)$/;var Lg=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&xg.test(t))&&t>-1&&t%1==0&&t<e};var kg=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Eg={};Eg["[object Float32Array]"]=Eg["[object Float64Array]"]=Eg["[object Int8Array]"]=Eg["[object Int16Array]"]=Eg["[object Int32Array]"]=Eg["[object Uint8Array]"]=Eg["[object Uint8ClampedArray]"]=Eg["[object Uint16Array]"]=Eg["[object Uint32Array]"]=!0,Eg["[object Arguments]"]=Eg["[object Array]"]=Eg["[object ArrayBuffer]"]=Eg["[object Boolean]"]=Eg["[object DataView]"]=Eg["[object Date]"]=Eg["[object Error]"]=Eg["[object Function]"]=Eg["[object Map]"]=Eg["[object Number]"]=Eg["[object Object]"]=Eg["[object RegExp]"]=Eg["[object Set]"]=Eg["[object String]"]=Eg["[object WeakMap]"]=!1;var Mg=function(t){return mg(t)&&kg(t.length)&&!!Eg[ay(t)]};var Pg=function(t){return function(e){return t(e)}},Tg=n(22),Cg=Tg.a&&Tg.a.isTypedArray,Sg=Cg?Pg(Cg):Mg,Og=Object.prototype.hasOwnProperty;var Ag=function(t,e){var n=sg(t),i=!n&&bg(t),r=!n&&!i&&Object(wg.a)(t),o=!n&&!i&&!r&&Sg(t),a=n||i||r||o,s=a?pg(t.length,String):[],l=s.length;for(var u in t)!e&&!Og.call(t,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Lg(u,l))||s.push(u);return s},Dg=Object.prototype;var Rg=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Dg)};var zg=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),jg=Object.prototype.hasOwnProperty;var Ig=function(t){if(!Rg(t))return zg(t);var e=[];for(var n in Object(t))jg.call(t,n)&&"constructor"!=n&&e.push(n);return e};var Ng=function(t){return null!=t&&kg(t.length)&&!uy(t)};var Bg=function(t){return Ng(t)?Ag(t):Ig(t)};var Ug=function(t){return lg(t,Bg,dg)},Fg=Object.prototype.hasOwnProperty;var Zg=function(t,e,n,i,r,o){var a=1&n,s=Ug(t),l=s.length;if(l!=Ug(e).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in e:Fg.call(e,c)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var f=!0;o.set(t,e),o.set(e,t);for(var d=a;++u<l;){var p=t[c=s[u]],m=e[c];if(i)var _=a?i(m,p,c,e,t,o):i(p,m,c,t,e,o);if(!(void 0===_?p===m||r(p,m,n,i,o):_)){f=!1;break}d||(d="constructor"==c)}if(f&&!d){var v=t.constructor,y=e.constructor;v!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y)&&(f=!1)}return o.delete(t),o.delete(e),f},Hg=Ly(Kv.a,"DataView"),Vg=Ly(Kv.a,"Promise"),Gg=Ly(Kv.a,"Set"),Wg=Ly(Kv.a,"WeakMap"),Yg=py(Hg),qg=py(ky),Xg=py(Vg),Kg=py(Gg),Jg=py(Wg),$g=ay;(Hg&&"[object DataView]"!=$g(new Hg(new ArrayBuffer(1)))||ky&&"[object Map]"!=$g(new ky)||Vg&&"[object Promise]"!=$g(Vg.resolve())||Gg&&"[object Set]"!=$g(new Gg)||Wg&&"[object WeakMap]"!=$g(new Wg))&&($g=function(t){var e=ay(t),n="[object Object]"==e?t.constructor:void 0,i=n?py(n):"";if(i)switch(i){case Yg:return"[object DataView]";case qg:return"[object Map]";case Xg:return"[object Promise]";case Kg:return"[object Set]";case Jg:return"[object WeakMap]"}return e});var Qg=$g,tb=Object.prototype.hasOwnProperty;var eb=function(t,e,n,i,r,o){var a=sg(t),s=sg(e),l=a?"[object Array]":Qg(t),u=s?"[object Array]":Qg(e),c="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),h="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),f=l==u;if(f&&Object(wg.a)(t)){if(!Object(wg.a)(e))return!1;a=!0,c=!1}if(f&&!c)return o||(o=new Wy),a||Sg(t)?Qy(t,e,n,i,r,o):og(t,e,l,n,i,r,o);if(!(1&n)){var d=c&&tb.call(t,"__wrapped__"),p=h&&tb.call(e,"__wrapped__");if(d||p){var m=d?t.value():t,_=p?e.value():e;return o||(o=new Wy),r(m,_,n,i,o)}}return!!f&&(o||(o=new Wy),Zg(t,e,n,i,r,o))};var nb=function t(e,n,i,r,o){return e===n||(null==e||null==n||!mg(e)&&!mg(n)?e!=e&&n!=n:eb(e,n,i,r,t,o))};var ib=function(t,e){return nb(t,e)};function rb(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){db(t,e,n[e])}))}return t}function ob(t){return(ob="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ab(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sb(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function lb(t,e){return!e||"object"!==ob(e)&&"function"!=typeof e?fb(t):e}function ub(t,e,n){return(ub="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=cb(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function cb(t){return(cb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function hb(t,e){return(hb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function db(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pb={onEdited:"draw:edited",onDrawStart:"draw:drawstart",onDrawStop:"draw:drawstop",onDrawVertex:"draw:drawvertex",onEditStart:"draw:editstart",onEditMove:"draw:editmove",onEditResize:"draw:editresize",onEditVertex:"draw:editvertex",onEditStop:"draw:editstop",onDeleted:"draw:deleted",onDeleteStart:"draw:deletestart",onDeleteStop:"draw:deletestop"},mb=function(t){function e(){var t,n;ab(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return db(fb(fb(n=lb(this,(t=cb(e)).call.apply(t,[this].concat(r))))),"onDrawCreate",(function(t){var e=n.props.onCreated;n.props.leaflet.layerContainer.addLayer(t.layer),e&&e(t)})),n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hb(t,e)}(e,t),n=e,(i=[{key:"createLeafletElement",value:function(t){return _b(t)}},{key:"componentDidMount",value:function(){ub(cb(e.prototype),"componentDidMount",this).call(this);var t=this.props.leaflet.map,n=this.props.onMounted;for(var i in pb)this.props[i]&&t.on(pb[i],this.props[i]);t.on(sh.a.Draw.Event.CREATED,this.onDrawCreate),n&&n(this.leafletElement)}},{key:"componentWillUnmount",value:function(){ub(cb(e.prototype),"componentWillUnmount",this).call(this);var t=this.props.leaflet.map;for(var n in t.off(sh.a.Draw.Event.CREATED,this.onDrawCreate),pb)this.props[n]&&t.off(pb[n],this.props[n])}},{key:"componentDidUpdate",value:function(t){if(ub(cb(e.prototype),"componentDidUpdate",this).call(this,t),ib(this.props.draw,t.draw)||this.props.position!==t.position)return!1;var n=this.props.leaflet.map;return this.leafletElement.remove(n),this.leafletElement=_b(this.props),this.leafletElement.addTo(n),null}}])&&sb(n.prototype,i),r&&sb(n,r),e}(gh);function _b(t){var e=t.leaflet.layerContainer,n=t.draw,i=t.edit,r=t.position,o={edit:rb({},i,{featureGroup:e})};return n&&(o.draw=rb({},n)),r&&(o.position=r),new ah.Control.Draw(o)}db(mb,"propTypes",rb({},Object.keys(pb).reduce((function(t,e){return t[e]=o.PropTypes.func,t}),{}),{onCreated:o.PropTypes.func,onMounted:o.PropTypes.func,draw:o.PropTypes.shape({polyline:o.PropTypes.oneOfType([o.PropTypes.object,o.PropTypes.bool]),polygon:o.PropTypes.oneOfType([o.PropTypes.object,o.PropTypes.bool]),rectangle:o.PropTypes.oneOfType([o.PropTypes.object,o.PropTypes.bool]),circle:o.PropTypes.oneOfType([o.PropTypes.object,o.PropTypes.bool]),marker:o.PropTypes.oneOfType([o.PropTypes.object,o.PropTypes.bool])}),edit:o.PropTypes.shape({edit:o.PropTypes.oneOfType([o.PropTypes.object,o.PropTypes.bool]),remove:o.PropTypes.oneOfType([o.PropTypes.object,o.PropTypes.bool]),poly:o.PropTypes.oneOfType([o.PropTypes.object,o.PropTypes.bool]),allowIntersection:o.PropTypes.bool}),position:o.PropTypes.oneOf(["topright","topleft","bottomright","bottomleft"]),leaflet:o.PropTypes.shape({map:o.PropTypes.instanceOf(ah.Map),layerContainer:o.PropTypes.shape({addLayer:o.PropTypes.func.isRequired,removeLayer:o.PropTypes.func.isRequired})})}));var vb=yh(mb);n(127);function yb(t){return(yb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bb(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function wb(t,e){return!e||"object"!==yb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xb(t){return(xb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Lb(t,e){return(Lb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}delete sh.a.Icon.Default.prototype._getIconUrl,sh.a.Icon.Default.mergeOptions({iconRetinaUrl:n(128),iconUrl:n(20),shadowUrl:n(21)});var kb=function(t){return t instanceof sh.a.Rectangle?"rectangle":t instanceof sh.a.Circle?"circle":t instanceof sh.a.Marker?"marker":t instanceof sh.a.Polygon?"polygon":t instanceof sh.a.Polyline?"polyline":void 0},Eb=function(t){function e(){return gb(this,e),wb(this,xb(e).apply(this,arguments))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lb(t,e)}(e,t),n=e,(i=[{key:"_onEdited",value:function(t){var e=this;t.layers.eachLayer((function(t){var n=kb(t);if("polyline"===n){var i=t._latlngs.map((function(t){return[t.lat,t.lng]}));e.props.lineCoords(i)}if("polygon"===n){var r=t._latlngs[0].map((function(t){return[t.lat,t.lng]}));e.props.polygonCoords(r)}"marker"===n&&e.props.markerCoords([t._latlng.lat,t._latlng.lng])}))}},{key:"removeLayers",value:function(t){for(var e=this.refs.edit.leafletElement.options.edit.featureGroup,n=e._layers,i=Object.keys(n),r=0;r<i.length-1;r++){var o=n[i[r]];kb(o)===t&&e.removeLayer(o._leaflet_id)}}},{key:"_onCreated",value:function(t){var e=t.layerType,n=t.layer;if("marker"===e&&(this.props.markerCoords([n._latlng.lat,n._latlng.lng]),this.removeLayers("marker")),"polyline"===e){var i=n._latlngs.map((function(t){return[t.lat,t.lng]}));this.props.lineCoords(i),this.removeLayers("polyline")}if("polygon"===e){var r=n._latlngs[0].map((function(t){return[t.lat,t.lng]}));this.props.polygonCoords(r),this.removeLayers("polygon")}}},{key:"render",value:function(){var t=this.props,e=t.drawPolygon,n=t.drawMarker,i=t.drawPolyline;return r.a.createElement(vb,{ref:"edit",position:"topright",onEdited:this._onEdited.bind(this),onCreated:this._onCreated.bind(this),draw:{rectangle:!1,circle:!1,circlemarker:!1,polygon:e,marker:n,polyline:i}})}}])&&bb(n.prototype,i),o&&bb(n,o),e}(i.Component);Eb.defaultProps={drawMarker:!0,drawPolygon:!0,drawPolyline:!0},Eb.propTypes={drawMarker:a.a.bool,drawPolygon:a.a.bool,drawPolyline:a.a.bool,markerCoords:a.a.func,lineCoords:a.a.func,polygonCoords:a.a.func};var Mb=yh(Eb);var Pb=function(t){return t&&t.ownerDocument||document};var Tb=Rm((function(t){return{thumb:{"&$open":{"& $offset":{transform:"scale(1) translateY(-10px)"}}},open:{},offset:uh({zIndex:1},t.typography.body2,{fontSize:t.typography.pxToRem(12),lineHeight:1.2,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),top:-34,left:"calc(-50% + -4px)",transformOrigin:"bottom center",transform:"scale(0)",position:"absolute"}),circle:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50% 50% 50% 0",backgroundColor:"currentColor",transform:"rotate(-45deg)"},label:{color:t.palette.primary.contrastText,transform:"rotate(45deg)"}}}),{name:"PrivateValueLabel"})((function(t){var e=t.children,n=t.classes,i=t.className,o=t.open,a=t.value,s=t.valueLabelDisplay;return"off"===s?e:r.a.cloneElement(e,{className:qh(e.props.className,(o||"on"===s)&&n.open,n.thumb)},r.a.createElement("span",{className:qh(n.offset,i)},r.a.createElement("span",{className:n.circle},r.a.createElement("span",{className:n.label},a))))}));function Cb(t,e){return t-e}function Sb(t,e,n){return Math.min(Math.max(e,t),n)}function Ob(t,e){return t.reduce((function(t,n,i){var r=Math.abs(e-n);return null===t||r<t.distance||r===t.distance?{distance:r,index:i}:t}),null).index}function Ab(t,e){if(void 0!==e.current&&t.changedTouches){for(var n=0;n<t.changedTouches.length;n+=1){var i=t.changedTouches[n];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function Db(t,e,n){return 100*(t-e)/(n-e)}function Rb(t,e,n){var i=Math.round((t-n)/e)*e+n;return Number(i.toFixed(function(t){if(Math.abs(t)<1){var e=t.toExponential().split("e-"),n=e[0].split(".")[1];return(n?n.length:0)+parseInt(e[1],10)}var i=t.toString().split(".")[1];return i?i.length:0}(e)))}function zb(t){var e=t.values,n=t.source,i=t.newValue,r=t.index;if(e[r]===i)return n;var o=Id(e);return o[r]=i,o}function jb(t){var e=t.sliderRef,n=t.activeIndex,i=t.setActive;e.current.contains(document.activeElement)&&Number(document.activeElement.getAttribute("data-index"))===n||e.current.querySelector('[data-index="'.concat(n,'"]')).focus(),i&&i(n)}var Ib={horizontal:{offset:function(t){return{left:"".concat(t,"%")}},leap:function(t){return{width:"".concat(t,"%")}}},"horizontal-reverse":{offset:function(t){return{right:"".concat(t,"%")}},leap:function(t){return{width:"".concat(t,"%")}}},vertical:{offset:function(t){return{bottom:"".concat(t,"%")}},leap:function(t){return{height:"".concat(t,"%")}}}},Nb=[],Bb=function(t){return t},Ub=r.a.forwardRef((function(t,e){var n=t["aria-label"],i=t["aria-labelledby"],o=t["aria-valuetext"],a=t.classes,s=t.className,l=t.color,u=void 0===l?"primary":l,c=t.component,h=void 0===c?"span":c,f=t.defaultValue,d=t.disabled,p=void 0!==d&&d,m=t.getAriaLabel,_=t.getAriaValueText,v=t.marks,y=void 0===v?Nb:v,g=t.max,b=void 0===g?100:g,w=t.min,x=void 0===w?0:w,L=t.name,k=t.onChange,E=t.onChangeCommitted,M=t.onMouseDown,P=t.orientation,T=void 0===P?"horizontal":P,C=t.step,S=void 0===C?1:C,O=t.ThumbComponent,A=void 0===O?"span":O,D=t.track,R=void 0===D?"normal":D,z=t.value,j=t.ValueLabelComponent,I=void 0===j?Tb:j,N=t.valueLabelDisplay,B=void 0===N?"off":N,U=t.valueLabelFormat,F=void 0===U?Bb:U,Z=Wh(t,["aria-label","aria-labelledby","aria-valuetext","classes","className","color","component","defaultValue","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","step","ThumbComponent","track","value","ValueLabelComponent","valueLabelDisplay","valueLabelFormat"]),H=ad()||Dm,V=r.a.useRef(),G=r.a.useState(-1),W=G[0],Y=G[1],q=r.a.useState(-1),X=q[0],K=q[1],J=r.a.useRef(null!=z).current,$=r.a.useState(f),Q=$[0],tt=$[1],et=J?z:Q;var nt=Array.isArray(et),it=r.a.useRef(),rt=nt?Id(et).sort(Cb):[et];rt=rt.map((function(t){return Sb(t,x,b)}));var ot=!0===y&&null!==S?Id(Array(Math.floor((b-x)/S)+1)).map((function(t,e){return{value:x+S*e}})):y;it.current={source:et};var at=t_(),st=at.isFocusVisible,lt=at.onBlurVisible,ut=at.ref,ct=r.a.useState(-1),ht=ct[0],ft=ct[1],dt=r.a.useRef(),pt=Um(ut,dt),mt=Um(e,pt),_t=Zm((function(t){var e=Number(t.currentTarget.getAttribute("data-index"));st(t)&&ft(e),K(e)})),vt=Zm((function(){-1!==ht&&(ft(-1),lt()),K(-1)})),yt=Zm((function(t){var e=Number(t.currentTarget.getAttribute("data-index"));K(e)})),gt=Zm((function(){K(-1)})),bt=Zm((function(t){var e,n=Number(t.currentTarget.getAttribute("data-index")),i=rt[n],r=(b-x)/10,o=ot.map((function(t){return t.value})),a=o.indexOf(i);switch(t.key){case"Home":e=x;break;case"End":e=b;break;case"PageUp":S&&(e=i+r);break;case"PageDown":S&&(e=i-r);break;case"ArrowRight":case"ArrowUp":e=S?i+S:o[a+1]||o[o.length-1];break;case"ArrowLeft":case"ArrowDown":e=S?i-S:o[a-1]||o[0];break;default:return}if(t.preventDefault(),S&&(e=Rb(e,S,x)),e=Sb(e,x,b),nt){var s=e;e=zb({values:rt,source:et,newValue:e,index:n}).sort(Cb),jb({sliderRef:dt,activeIndex:e.indexOf(s)})}J||tt(e),ft(n),k&&k(t,e),E&&E(t,e)})),wt=r.a.useRef(),xt=T;"rtl"===H.direction&&"vertical"!==T&&(xt+="-reverse");var Lt=r.a.useCallback((function(t){var e,n,i=t.finger,r=t.move,o=void 0!==r&&r,a=t.values,s=t.source,l=dt.current.getBoundingClientRect(),u=l.width,c=l.height,h=l.bottom,f=l.left;if(e=0===xt.indexOf("vertical")?(h-i.y)/c:(i.x-f)/u,-1!==xt.indexOf("-reverse")&&(e=1-e),n=function(t,e,n){return(n-e)*t+e}(e,x,b),S)n=Rb(n,S,x);else{var d=ot.map((function(t){return t.value}));n=d[Ob(d,n)]}n=Sb(n,x,b);var p=0;if(nt){var m=n;p=(n=zb({values:a,source:s,newValue:n,index:p=o?wt.current:Ob(a,n)}).sort(Cb)).indexOf(m),wt.current=p}return{newValue:n,activeIndex:p}}),[b,x,xt,nt,S,ot]),kt=Zm((function(t){var e=Ab(t,V);if(e){var n=Lt({finger:e,move:!0,values:rt,source:et}),i=n.newValue,r=n.activeIndex;jb({sliderRef:dt,activeIndex:r,setActive:Y}),J||tt(i),k&&k(t,i)}})),Et=Zm((function(t){var e=Ab(t,V);if(e){var n=Lt({finger:e,values:rt,source:et}).newValue;Y(-1),"touchend"===t.type&&K(-1),E&&E(t,n),V.current=void 0;var i=Pb(dt.current);i.removeEventListener("mousemove",kt),i.removeEventListener("mouseup",Et),i.removeEventListener("touchmove",kt),i.removeEventListener("touchend",Et)}})),Mt=Zm((function(t){t.preventDefault();var e=t.changedTouches[0];null!=e&&(V.current=e.identifier);var n=Ab(t,V),i=Lt({finger:n,values:rt,source:et}),r=i.newValue,o=i.activeIndex;jb({sliderRef:dt,activeIndex:o,setActive:Y}),J||tt(r),k&&k(t,r);var a=Pb(dt.current);a.addEventListener("touchmove",kt),a.addEventListener("touchend",Et)}));r.a.useEffect((function(){var t=dt.current;t.addEventListener("touchstart",Mt);var e=Pb(t);return function(){t.removeEventListener("touchstart",Mt),e.removeEventListener("mousemove",kt),e.removeEventListener("mouseup",Et),e.removeEventListener("touchmove",kt),e.removeEventListener("touchend",Et)}}),[Et,kt,Mt]);var Pt=Zm((function(t){M&&M(t),t.preventDefault();var e=Ab(t,V),n=Lt({finger:e,values:rt,source:et}),i=n.newValue,r=n.activeIndex;jb({sliderRef:dt,activeIndex:r,setActive:Y}),J||tt(i),k&&k(t,i);var o=Pb(dt.current);o.addEventListener("mousemove",kt),o.addEventListener("mouseup",Et)})),Tt=Db(nt?rt[0]:x,x,b),Ct=Db(rt[rt.length-1],x,b)-Tt,St=uh({},Ib[xt].offset(Tt),{},Ib[xt].leap(Ct));return r.a.createElement(h,uh({ref:mt,className:qh(a.root,a["color".concat(zm(u))],s,p&&a.disabled,ot.length>0&&ot.some((function(t){return t.label}))&&a.marked,!1===R&&a.trackFalse,{vertical:a.vertical}[T],{inverted:a.trackInverted}[R]),onMouseDown:Pt},Z),r.a.createElement("span",{className:a.rail}),r.a.createElement("span",{className:a.track,style:St}),r.a.createElement("input",{value:rt.join(","),name:L,type:"hidden"}),ot.map((function(t){var e,n=Db(t.value,x,b),i=Ib[xt].offset(n);return e=!1===R?-1!==rt.indexOf(t.value):"normal"===R&&(nt?t.value>=rt[0]&&t.value<=rt[rt.length-1]:t.value<=rt[0])||"inverted"===R&&(nt?t.value<=rt[0]||t.value>=rt[rt.length-1]:t.value>=rt[0]),r.a.createElement(r.a.Fragment,{key:t.value},r.a.createElement("span",{style:i,className:qh(a.mark,e&&a.markActive)}),r.a.createElement("span",{"aria-hidden":!0,style:i,className:qh(a.markLabel,e&&a.markLabelActive)},t.label))})),rt.map((function(t,e){var s=Db(t,x,b),l=Ib[xt].offset(s);return r.a.createElement(I,{key:e,valueLabelFormat:F,valueLabelDisplay:B,className:a.valueLabel,value:"function"==typeof F?F(t,e):F,index:e,open:X===e||W===e||"on"===B,disabled:p},r.a.createElement(A,{className:qh(a.thumb,a["thumbColor".concat(zm(u))],W===e&&a.active,p&&a.disabled,ht===e&&a.focusVisible),tabIndex:p?null:0,role:"slider",style:l,"data-index":e,"aria-label":m?m(e):n,"aria-labelledby":i,"aria-orientation":T,"aria-valuemax":b,"aria-valuemin":x,"aria-valuenow":t,"aria-valuetext":_?_(t,e):o,onKeyDown:bt,onFocus:_t,onBlur:vt,onMouseOver:yt,onMouseLeave:gt}))})))})),Fb=Rm((function(t){return{root:{height:2,width:"100%",boxSizing:"content-box",padding:"13px 0",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:t.palette.primary.main,WebkitTapHighlightColor:"transparent","&$disabled":{pointerEvents:"none",cursor:"default",color:t.palette.grey[400]},"&$vertical":{width:2,height:"100%",padding:"0 13px"},"@media (pointer: coarse)":{padding:"20px 0","&$vertical":{padding:"0 20px"}}},colorPrimary:{},colorSecondary:{color:t.palette.secondary.main},marked:{marginBottom:20,"&$vertical":{marginBottom:"auto",marginRight:20}},vertical:{},disabled:{},rail:{display:"block",position:"absolute",width:"100%",height:2,borderRadius:1,backgroundColor:"currentColor",opacity:.38,"$vertical &":{height:"100%",width:2}},track:{display:"block",position:"absolute",height:2,borderRadius:1,backgroundColor:"currentColor","$vertical &":{width:2}},trackFalse:{"& $track":{display:"none"}},trackInverted:{"& $track":{backgroundColor:"light"===t.palette.type?_m(t.palette.primary.main,.62):mm(t.palette.primary.main,.5)},"& $rail":{opacity:1}},thumb:{position:"absolute",width:12,height:12,marginLeft:-6,marginTop:-5,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow"],{duration:t.transitions.duration.shortest}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",left:-15,top:-15,right:-15,bottom:-15},"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat(pm(t.palette.primary.main,.16)),"@media (hover: none)":{boxShadow:"none"}},"&$active":{boxShadow:"0px 0px 0px 14px ".concat(pm(t.palette.primary.main,.16))},"&$disabled":{width:8,height:8,marginLeft:-4,marginTop:-3,"&:hover":{boxShadow:"none"}},"$vertical &":{marginLeft:-5,marginBottom:-6},"$vertical &$disabled":{marginLeft:-3,marginBottom:-4}},thumbColorPrimary:{},thumbColorSecondary:{"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat(pm(t.palette.secondary.main,.16))},"&$active":{boxShadow:"0px 0px 0px 14px ".concat(pm(t.palette.secondary.main,.16))}},active:{},focusVisible:{},valueLabel:{},mark:{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},markActive:{backgroundColor:t.palette.background.paper,opacity:.8},markLabel:uh({},t.typography.body2,{color:t.palette.text.secondary,position:"absolute",top:26,transform:"translateX(-50%)",whiteSpace:"nowrap","$vertical &":{top:"auto",left:26,transform:"translateY(50%)"},"@media (pointer: coarse)":{top:40,"$vertical &":{left:31}}}),markLabelActive:{color:t.palette.text.primary}}}),{name:"MuiSlider"})(Ub);function Zb(t){return(Zb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hb(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Vb(t,e){return!e||"object"!==Zb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Gb(t){return(Gb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wb(t,e){return(Wb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Yb=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Vb(this,Gb(e).call(this,t))).updateVerticalZoom(n.props.scaleY);var i=n.props.leaflet.map;return n.leafletElement.addTo(i),n}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wb(t,e)}(e,t),n=e,(i=[{key:"componentDidUpdate",value:function(t){t.scaleY!==this.props.scaleY&&this.updateVerticalZoom(this.props.scaleY)}},{key:"handleChange",value:function(t,e){this.updateVerticalZoom(e)}},{key:"updateVerticalZoom",value:function(t){var e=this.props.leaflet.map,n=e.getCenter();e.options.crs=sh.a.extend({},sh.a.CRS.Simple,{projection:sh.a.Projection.LonLat,transformation:new sh.a.Transformation(1,0,-t,0)}),e.setView(n),e._resetView(e.getCenter(),e.getZoom())}},{key:"componentDidMount",value:function(){}},{key:"createLeafletElement",value:function(t){var e=this;return new(sh.a.Control.extend({onAdd:function(){return e.panelDiv=sh.a.DomUtil.create("div","leaflet-custom-control"),e.panelDiv.addEventListener("mouseover",(function(){return e.props.leaflet.map.dragging.disable()})),e.panelDiv.addEventListener("mouseout",(function(){return e.props.leaflet.map.dragging.enable()})),e.panelDiv.style.height="200px",e.panelDiv.style.paddingBottom="10px",e.panelDiv.style.paddingTop="10px",e.panelDiv}}))({position:t.position})}},{key:"render",value:function(){return Gh.a.createPortal(r.a.createElement(Fb,{orientation:"vertical",valueLabelDisplay:"auto",defaultValue:1,min:this.props.minScaleY,max:this.props.maxScaleY,onChange:this.handleChange.bind(this)}),this.panelDiv)}}])&&Hb(n.prototype,i),o&&Hb(n,o),e}(gh);Yb.defaultProps={scaleY:1,minScaleY:1,maxScaleY:10},Yb.propTypes={scaleY:a.a.number,minScaleY:a.a.number,maxScaleY:a.a.number};var qb=yh(Yb);n(129);function Xb(t){return(Xb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kb(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Jb(t,e){return!e||"object"!==Xb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $b(t){return($b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qb(t,e){return(Qb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tw(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ew=kh.BaseLayer,nw=kh.Overlay,iw={},rw=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Jb(this,$b(e).call(this,t))).mapRef=r.a.createRef(),n.state={hillShading:n.props.hillShading,x:null,y:null,z:null},n}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qb(t,e)}(e,t),n=e,(o=[{key:"handleHillshadingChange",value:function(){this.setState({hillShading:!this.state.hillShading})}},{key:"calculateBounds",value:function(){var t=[],e=[];return 0===this.props.layers.length?[[0,0],[1,1]]:(this.props.layers.map((function(n){n.data.map((function(n){["polyline","polygon"].includes(n.type)?n.positions.map((function(n){t.push(n[0]),e.push(n[1])})):"circle"===n.type?(t.push(n.center[0]+n.radius),t.push(n.center[0]-n.radius),e.push(n.center[1]+n.radius),e.push(n.center[1]-n.radius)):"image"===n.type&&(t.push(n.bounds[0][0]),t.push(n.bounds[1][0]),e.push(n.bounds[0][1]),e.push(n.bounds[1][1]))}))})),[[Math.min.apply(Math,t),Math.min.apply(Math,e)],[Math.max.apply(Math,t),Math.max.apply(Math,e)]])}},{key:"resetView",value:function(){var t,e,n=tw(this.calculateBounds(),2),i=tw(n[0],2),r=i[0],o=i[1],a=tw(n[1],2),s=a[0],l=a[1],u=[.5*(r+s),.5*(o+l)],c=this.mapRef.current.container.offsetWidth,h=this.mapRef.current.container.offsetHeight,f=Math.min(Math.log2(h/(l-o)),Math.log2(c/(s-r)));this.mapRef.current.leafletElement.options.minZoom=f-2,this.mapRef.current.leafletElement.setView((t=tw(u,2),e=t[0],[t[1],e]),f)}},{key:"updateCircleMarkerPosition",value:function(t,e){this.setState({x:t,y:e,z:"z_timestamp"in this.state&&Date.now()-this.state.z_timestamp<50?this.state.z:null})}},{key:"setEvents",value:function(){var t=this;this.mapRef.current.leafletElement.on("zoomanim",(function(e){t.props.sync_ids.filter((function(e){return e!==t.props.id})).map((function(t){iw[t].mapRef.current.leafletElement.getZoom()!==e.zoom&&iw[t].mapRef.current.leafletElement.setView(e.center,e.zoom)}))})),this.mapRef.current.leafletElement.on("onlayeredmapclick",(function(e){t.setState({z:e.z,z_timestamp:Date.now()})})),this.mapRef.current.leafletElement.on("click",(function(e){t.updateCircleMarkerPosition(e.latlng.lng,e.latlng.lat),t.props.sync_ids.map((function(t){iw[t].updateCircleMarkerPosition(e.latlng.lng,e.latlng.lat)}))})),this.mapRef.current.leafletElement.on("move",(function(e){t.props.sync_ids.filter((function(e){return e!==t.props.id})).map((function(t){void 0!==e.originalEvent&&iw[t].mapRef.current.leafletElement.setView(e.target.getCenter())}))}))}},{key:"componentDidMount",value:function(){this.resetView(),this.setEvents(),iw[this.props.id]=this}},{key:"componentWillUnmount",value:function(){delete iw[this.props.id]}},{key:"componentDidUpdate",value:function(t){(this.props.uirevision!==t.uirevision||this.props.layers.length>0&&0===t.layers.length)&&this.resetView()}},{key:"render",value:function(){var t=this,e=this.props,n=e.draw_toolbar_marker,o=e.draw_toolbar_polygon,a=e.draw_toolbar_polyline,s=e.setProps,l=!!(n||o||a),u=this.props.layers.some((function(t){return t.data.some((function(t){return t.allowHillshading}))})),c=this.props.layers.length>1,h=function(e,n){return r.a.createElement(zv,{layer:e,key:n,hillShading:t.state.hillShading,lightDirection:t.props.lightDirection})},f=function(e,n){return r.a.createElement(zv,{layer:e,key:n,hillShading:t.state.hillShading,lightDirection:t.props.lightDirection,lineCoords:function(t){return s({polyline_points:t})},polygonCoords:function(t){return s({polygon_points:t})}})};return r.a.createElement(Ah,{id:this.props.id,style:{zIndex:0,height:this.props.height},ref:this.mapRef,attributionControl:!1,crs:ah.CRS.Simple},this.props.showScaleY&&r.a.createElement(qb,{position:"topleft",scaleY:this.props.scaleY,minScaleY:1,maxScaleY:10}),r.a.createElement(Dh,{position:"bottomright",imperial:!1,metric:!0}),r.a.createElement(Y_,{showLayersControl:c},this.props.layers.filter((function(t){return t.base_layer})).map((function(t){return c?r.a.createElement(ew,{checked:t.checked,name:t.name,key:t.name},h(t)):h(t,t.name)})),this.props.layers.filter((function(t){return!t.base_layer})).map((function(t){return c?r.a.createElement(nw,{checked:t.checked,name:t.name,key:t.name},f(t)):f(t,t.name)}))),l&&r.a.createElement(Zh,null,r.a.createElement(Mb,{drawMarker:n,drawPolygon:o,drawPolyline:a,lineCoords:function(t){return s({polyline_points:t})},markerCoords:function(t){return s({marker_point:t})},polygonCoords:function(t){return s({polygon_points:t})}})),u&&r.a.createElement(A_,{position:"bottomleft",label:"Hillshading",checked:this.props.hillShading,onChange:this.handleHillshadingChange.bind(this)}),null!==this.state.x&&r.a.createElement(i.Fragment,null,r.a.createElement(Hh,{center:[this.state.y,this.state.x],color:"red",radius:5}),r.a.createElement(B_,{position:"bottomleft",x:this.state.x,y:this.state.y,z:this.state.z})))}}])&&Kb(n.prototype,o),a&&Kb(n,a),e}(i.Component);rw.defaultProps={height:800,sync_ids:[],hillShading:!0,lightDirection:[1,1,1],scaleY:1,showScaleY:!1,draw_toolbar_marker:!1,draw_toolbar_polygon:!1,draw_toolbar_polyline:!1,uirevision:""},rw.propTypes={id:a.a.string.isRequired,sync_ids:a.a.array,scaleY:a.a.number,showScaleY:a.a.bool,height:a.a.oneOfType([a.a.string,a.a.number]),draw_toolbar_polyline:a.a.bool,draw_toolbar_polygon:a.a.bool,draw_toolbar_marker:a.a.bool,polyline_points:a.a.array,polygon_points:a.a.array,marker_point:a.a.array,lightDirection:a.a.array,setProps:a.a.func,layers:a.a.array,hillShading:a.a.bool,uirevision:a.a.string};var ow=rw,aw=n(20),sw=n.n(aw),lw=n(21),uw=n.n(lw);n(130);function cw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function hw(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cw(Object(n),!0).forEach((function(e){fw(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cw(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function fw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var dw=sh.a.icon({iconUrl:sw.a,shadowUrl:uw.a});function pw(t){var e=t.id,n=t.options,o=t.baseLayer,a=t.width,s=t.height,l=t.simpleCRS,u=hw({layers:[],bounds:[[0,0],[1e3,1e3]],center:[500,500],zoom:0,maxZoom:10,maxBounds:null},n),c=Object(i.useRef)(null),h=Object(i.useRef)(null),f=Object(i.useRef)(null),d={width:a,height:s};return Object(i.useEffect)((function(){c.current=sh.a.map(e,hw({},u,{crs:l?sh.a.CRS.Simple:sh.a.CRS.EPSG3857}))})),Object(i.useEffect)((function(){h.current=sh.a.layerGroup().addTo(c.current),f.current=sh.a.layerGroup().addTo(c.current)})),Object(i.useEffect)((function(){if("tiles"===o.type&&(h.current.clearLayers(),sh.a.tileLayer(o.url,{noWrap:!0,attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(h.current)),"tiles_sidebyside"===o.type){h.current.clearLayers();var t=sh.a.tileLayer(o.url_left,{noWrap:!0,attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(h.current),e=sh.a.tileLayer(o.url_right,{noWrap:!0,attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(h.current);sh.a.control.sideBySide(t,e).addTo(c.current)}var n=o.hasOwnProperty("bounds")?o.bounds:u.bounds;if("image"===o.type&&(h.current.clearLayers(),sh.a.imageOverlay(o.url,n,{}).addTo(h.current)),"image_sidebyside"===o.type){h.current.clearLayers(),c.current.createPane("left"),c.current.createPane("right");var i=sh.a.imageOverlay(o.url_left,n,{pane:"left"}).addTo(h.current),r=sh.a.imageOverlay(o.url_right,n,{pane:"right"}).addTo(h.current);sh.a.control.sideBySide(i,r).addTo(c.current)}}),[o]),r.a.createElement("div",{id:e,style:d})}sh.a.Marker.prototype.options.icon=dw,pw.defaultProps={width:"100%",height:"800px",options:{},simpleCRS:!1},pw.propTypes={id:a.a.string,options:a.a.object,baseLayer:a.a.object,width:a.a.string,height:a.a.string,simpleCRS:a.a.bool};var mw=pw;n.d(e,"HistoryMatch",(function(){return tu})),n.d(e,"Morris",(function(){return oh})),n.d(e,"Map",(function(){return Kc})),n.d(e,"LayeredMap",(function(){return ow})),n.d(e,"Leaflet",(function(){return mw}))},14:function(t,e,n){"use strict";var i=n(124),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(t){return i.isMemo(t)?a:s[t.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,n,i){if("string"!=typeof n){if(p){var r=d(n);r&&r!==p&&t(e,r,i)}var a=c(n);h&&(a=a.concat(h(n)));for(var s=l(e),m=l(n),_=0;_<a.length;++_){var v=a[_];if(!(o[v]||i&&i[v]||m&&m[v]||s&&s[v])){var y=f(n,v);try{u(e,v,y)}catch(t){}}}}return e}},15:function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(57))},2:function(t,e,n){
/* @preserve
 * Leaflet 1.6.0, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2019 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
!function(t){"use strict";var e=Object.freeze;function n(t){var e,n,i,r;for(n=1,i=arguments.length;n<i;n++)for(e in r=arguments[n])t[e]=r[e];return t}Object.freeze=function(t){return t};var i=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function r(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}var o=0;function a(t){return t._leaflet_id=t._leaflet_id||++o,t._leaflet_id}function s(t,e,n){var i,r,o,a;return a=function(){i=!1,r&&(o.apply(n,r),r=!1)},o=function(){i?r=arguments:(t.apply(n,arguments),setTimeout(a,e),i=!0)}}function l(t,e,n){var i=e[1],r=e[0],o=i-r;return t===i&&n?t:((t-r)%o+o)%o+r}function u(){return!1}function c(t,e){var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function h(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function f(t){return h(t).split(/\s+/)}function d(t,e){for(var n in t.hasOwnProperty("options")||(t.options=t.options?i(t.options):{}),e)t.options[n]=e[n];return t.options}function p(t,e,n){var i=[];for(var r in t)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}var m=/\{ *([\w_-]+) *\}/g;function _(t,e){return t.replace(m,(function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(e)),i}))}var v=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function y(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var g="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var w=0;function x(t){var e=+new Date,n=Math.max(0,16-(e-w));return w=e+n,window.setTimeout(t,n)}var k=window.requestAnimationFrame||b("RequestAnimationFrame")||x,E=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function M(t,e,n){if(!n||k!==x)return k.call(window,r(t,e));t.call(e)}function P(t){t&&E.call(window,t)}var T=(Object.freeze||Object)({freeze:e,extend:n,create:i,bind:r,lastId:o,stamp:a,throttle:s,wrapNum:l,falseFn:u,formatNum:c,trim:h,splitWords:f,setOptions:d,getParamString:p,template:_,isArray:v,indexOf:y,emptyImageUrl:g,requestFn:k,cancelFn:E,requestAnimFrame:M,cancelAnimFrame:P});function C(){}C.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=e.__super__=this.prototype,o=i(r);for(var a in o.constructor=e,e.prototype=o,this)this.hasOwnProperty(a)&&"prototype"!==a&&"__super__"!==a&&(e[a]=this[a]);return t.statics&&(n(e,t.statics),delete t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=v(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),n.apply(null,[o].concat(t.includes)),delete t.includes),o.options&&(t.options=n(i(o.options),t.options)),n(o,t),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},e},C.include=function(t){return n(this.prototype,t),this},C.mergeOptions=function(t){return n(this.prototype.options,t),this},C.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var S={on:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e);else for(var r=0,o=(t=f(t)).length;r<o;r++)this._on(t[r],e,n);return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var i in t)this._off(i,t[i],e);else for(var r=0,o=(t=f(t)).length;r<o;r++)this._off(t[r],e,n);else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(i=[],this._events[t]=i),n===this&&(n=void 0);for(var r={fn:e,ctx:n},o=i,a=0,s=o.length;a<s;a++)if(o[a].fn===e&&o[a].ctx===n)return;o.push(r)},_off:function(t,e,n){var i,r,o;if(this._events&&(i=this._events[t]))if(e){if(n===this&&(n=void 0),i)for(r=0,o=i.length;r<o;r++){var a=i[r];if(a.ctx===n&&a.fn===e)return a.fn=u,this._firingCount&&(this._events[t]=i=i.slice()),void i.splice(r,1)}}else{for(r=0,o=i.length;r<o;r++)i[r].fn=u;delete this._events[t]}},fire:function(t,e,i){if(!this.listens(t,i))return this;var r=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var l=o[a];l.fn.call(l.ctx||this,r)}this._firingCount--}}return i&&this._propagateEvent(r),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var i in t)this.once(i,t[i],e);return this}var o=r((function(){this.off(t,e,n).off(t,o,n)}),this);return this.on(t,e,n).on(t,o,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[a(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[a(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};S.addEventListener=S.on,S.removeEventListener=S.clearAllEventListeners=S.off,S.addOneTimeEventListener=S.once,S.fireEvent=S.fire,S.hasEventListeners=S.listens;var O=C.extend(S);function A(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var D=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function R(t,e,n){return t instanceof A?t:v(t)?new A(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new A(t.x,t.y):new A(t,e,n)}function z(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function j(t,e){return!t||t instanceof z?t:new z(t,e)}function I(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function N(t,e){return t instanceof I?t:new I(t,e)}function B(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function U(t,e,n){return t instanceof B?t:v(t)&&"object"!=typeof t[0]?3===t.length?new B(t[0],t[1],t[2]):2===t.length?new B(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new B(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new B(t,e,n)}A.prototype={clone:function(){return new A(this.x,this.y)},add:function(t){return this.clone()._add(R(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(R(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new A(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new A(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=D(this.x),this.y=D(this.y),this},distanceTo:function(t){var e=(t=R(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=R(t)).x===this.x&&t.y===this.y},contains:function(t){return t=R(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},z.prototype={extend:function(t){return t=R(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new A((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new A(this.min.x,this.max.y)},getTopRight:function(){return new A(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof A?R(t):j(t))instanceof z?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=j(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>=e.x&&i.x<=n.x,a=r.y>=e.y&&i.y<=n.y;return o&&a},overlaps:function(t){t=j(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>e.x&&i.x<n.x,a=r.y>e.y&&i.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)}},I.prototype={extend:function(t){var e,n,i=this._southWest,r=this._northEast;if(t instanceof B)e=t,n=t;else{if(!(t instanceof I))return t?this.extend(U(t)||N(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||r?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new B(e.lat,e.lng),this._northEast=new B(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new I(new B(e.lat-i,e.lng-r),new B(n.lat+i,n.lng+r))},getCenter:function(){return new B((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new B(this.getNorth(),this.getWest())},getSouthEast:function(){return new B(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof B||"lat"in t?U(t):N(t);var e,n,i=this._southWest,r=this._northEast;return t instanceof I?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=r.lat&&e.lng>=i.lng&&n.lng<=r.lng},intersects:function(t){t=N(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>=e.lat&&i.lat<=n.lat,a=r.lng>=e.lng&&i.lng<=n.lng;return o&&a},overlaps:function(t){t=N(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>e.lat&&i.lat<n.lat,a=r.lng>e.lng&&i.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=N(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},B.prototype={equals:function(t,e){return!!t&&(t=U(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+c(this.lat,t)+", "+c(this.lng,t)+")"},distanceTo:function(t){return H.distance(this,U(t))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return N([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new B(this.lat,this.lng,this.alt)}};var F,Z={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new z(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?l(t.lng,this.wrapLng,!0):t.lng;return new B(this.wrapLat?l(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,r=e.lng-n.lng;if(0===i&&0===r)return t;var o=t.getSouthWest(),a=t.getNorthEast();return new I(new B(o.lat-i,o.lng-r),new B(a.lat-i,a.lng-r))}},H=n({},Z,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,r=e.lat*n,o=Math.sin((e.lat-t.lat)*n/2),a=Math.sin((e.lng-t.lng)*n/2),s=o*o+Math.cos(i)*Math.cos(r)*a*a,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*l}}),V={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=Math.sin(i*e);return new A(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new B((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(F=6378137*Math.PI,new z([-F,-F],[F,F]))};function G(t,e,n,i){if(v(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function W(t,e,n,i){return new G(t,e,n,i)}G.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new A((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var Y=n({},H,{code:"EPSG:3857",projection:V,transformation:function(){var t=.5/(Math.PI*V.R);return W(t,.5,-t,.5)}()}),q=n({},Y,{code:"EPSG:900913"});function X(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function K(t,e){var n,i,r,o,a,s,l="";for(n=0,r=t.length;n<r;n++){for(i=0,o=(a=t[n]).length;i<o;i++)l+=(i?"L":"M")+(s=a[i]).x+" "+s.y;l+=e?Tt?"z":"x":""}return l||"M0 0"}var J=document.documentElement.style,$="ActiveXObject"in window,Q=$&&!document.addEventListener,tt="msLaunchUri"in navigator&&!("documentMode"in document),et=St("webkit"),nt=St("android"),it=St("android 2")||St("android 3"),rt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ot=nt&&St("Google")&&rt<537&&!("AudioNode"in window),at=!!window.opera,st=St("chrome"),lt=St("gecko")&&!et&&!at&&!$,ut=!st&&St("safari"),ct=St("phantom"),ht="OTransition"in J,ft=0===navigator.platform.indexOf("Win"),dt=$&&"transition"in J,pt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!it,mt="MozPerspective"in J,_t=!window.L_DISABLE_3D&&(dt||pt||mt)&&!ht&&!ct,vt="undefined"!=typeof orientation||St("mobile"),yt=vt&&et,gt=vt&&pt,bt=!window.PointerEvent&&window.MSPointerEvent,wt=!(et||!window.PointerEvent&&!bt),xt=!window.L_NO_TOUCH&&(wt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Lt=vt&&at,kt=vt&&lt,Et=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Mt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",u,e),window.removeEventListener("testPassiveEventSupport",u,e)}catch(t){}return t},Pt=!!document.createElement("canvas").getContext,Tt=!(!document.createElementNS||!X("svg").createSVGRect),Ct=!Tt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function St(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Ot=(Object.freeze||Object)({ie:$,ielt9:Q,edge:tt,webkit:et,android:nt,android23:it,androidStock:ot,opera:at,chrome:st,gecko:lt,safari:ut,phantom:ct,opera12:ht,win:ft,ie3d:dt,webkit3d:pt,gecko3d:mt,any3d:_t,mobile:vt,mobileWebkit:yt,mobileWebkit3d:gt,msPointer:bt,pointer:wt,touch:xt,mobileOpera:Lt,mobileGecko:kt,retina:Et,passiveEvents:Mt,canvas:Pt,svg:Tt,vml:Ct}),At=bt?"MSPointerDown":"pointerdown",Dt=bt?"MSPointerMove":"pointermove",Rt=bt?"MSPointerUp":"pointerup",zt=bt?"MSPointerCancel":"pointercancel",jt=["INPUT","SELECT","OPTION"],It={},Nt=!1,Bt=0;function Ut(t,e,n,i){return"touchstart"===e?function(t,e,n){var i=r((function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(jt.indexOf(t.target.tagName)<0))return;Ie(t)}Vt(t,e)}));t["_leaflet_touchstart"+n]=i,t.addEventListener(At,i,!1),Nt||(document.documentElement.addEventListener(At,Ft,!0),document.documentElement.addEventListener(Dt,Zt,!0),document.documentElement.addEventListener(Rt,Ht,!0),document.documentElement.addEventListener(zt,Ht,!0),Nt=!0)}(t,n,i):"touchmove"===e?function(t,e,n){var i=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&Vt(t,e)};t["_leaflet_touchmove"+n]=i,t.addEventListener(Dt,i,!1)}(t,n,i):"touchend"===e&&function(t,e,n){var i=function(t){Vt(t,e)};t["_leaflet_touchend"+n]=i,t.addEventListener(Rt,i,!1),t.addEventListener(zt,i,!1)}(t,n,i),this}function Ft(t){It[t.pointerId]=t,Bt++}function Zt(t){It[t.pointerId]&&(It[t.pointerId]=t)}function Ht(t){delete It[t.pointerId],Bt--}function Vt(t,e){for(var n in t.touches=[],It)t.touches.push(It[n]);t.changedTouches=[t],e(t)}var Gt=bt?"MSPointerDown":wt?"pointerdown":"touchstart",Wt=bt?"MSPointerUp":wt?"pointerup":"touchend",Yt="_leaflet_";function qt(t,e,n){var i,r,o=!1;function a(t){var e;if(wt){if(!tt||"mouse"===t.pointerType)return;e=Bt}else e=t.touches.length;if(!(e>1)){var n=Date.now(),a=n-(i||n);r=t.touches?t.touches[0]:t,o=a>0&&a<=250,i=n}}function s(t){if(o&&!r.cancelBubble){if(wt){if(!tt||"mouse"===t.pointerType)return;var n,a,s={};for(a in r)n=r[a],s[a]=n&&n.bind?n.bind(r):n;r=s}r.type="dblclick",r.button=0,e(r),i=null}}return t[Yt+Gt+n]=a,t[Yt+Wt+n]=s,t[Yt+"dblclick"+n]=e,t.addEventListener(Gt,a,!!Mt&&{passive:!1}),t.addEventListener(Wt,s,!!Mt&&{passive:!1}),t.addEventListener("dblclick",e,!1),this}function Xt(t,e){var n=t[Yt+Gt+e],i=t[Yt+Wt+e],r=t[Yt+"dblclick"+e];return t.removeEventListener(Gt,n,!!Mt&&{passive:!1}),t.removeEventListener(Wt,i,!!Mt&&{passive:!1}),tt||t.removeEventListener("dblclick",r,!1),this}var Kt,Jt,$t,Qt,te,ee=ve(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ne=ve(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ie="webkitTransition"===ne||"OTransition"===ne?ne+"End":"transitionend";function re(t){return"string"==typeof t?document.getElementById(t):t}function oe(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function ae(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function se(t){var e=t.parentNode;e&&e.removeChild(t)}function le(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ue(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function ce(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function he(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=me(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function fe(t,e){if(void 0!==t.classList)for(var n=f(e),i=0,r=n.length;i<r;i++)t.classList.add(n[i]);else if(!he(t,e)){var o=me(t);pe(t,(o?o+" ":"")+e)}}function de(t,e){void 0!==t.classList?t.classList.remove(e):pe(t,h((" "+me(t)+" ").replace(" "+e+" "," ")))}function pe(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function me(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function _e(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}(t,e)}function ve(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function ye(t,e,n){var i=e||new A(0,0);t.style[ee]=(dt?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function ge(t,e){t._leaflet_pos=e,_t?ye(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function be(t){return t._leaflet_pos||new A(0,0)}if("onselectstart"in document)Kt=function(){Ce(window,"selectstart",Ie)},Jt=function(){Oe(window,"selectstart",Ie)};else{var we=ve(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Kt=function(){if(we){var t=document.documentElement.style;$t=t[we],t[we]="none"}},Jt=function(){we&&(document.documentElement.style[we]=$t,$t=void 0)}}function xe(){Ce(window,"dragstart",Ie)}function Le(){Oe(window,"dragstart",Ie)}function ke(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Ee(),Qt=t,te=t.style.outline,t.style.outline="none",Ce(window,"keydown",Ee))}function Ee(){Qt&&(Qt.style.outline=te,Qt=void 0,te=void 0,Oe(window,"keydown",Ee))}function Me(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function Pe(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Te=(Object.freeze||Object)({TRANSFORM:ee,TRANSITION:ne,TRANSITION_END:ie,get:re,getStyle:oe,create:ae,remove:se,empty:le,toFront:ue,toBack:ce,hasClass:he,addClass:fe,removeClass:de,setClass:pe,getClass:me,setOpacity:_e,testProp:ve,setTransform:ye,setPosition:ge,getPosition:be,disableTextSelection:Kt,enableTextSelection:Jt,disableImageDrag:xe,enableImageDrag:Le,preventOutline:ke,restoreOutline:Ee,getSizedParentNode:Me,getScale:Pe});function Ce(t,e,n,i){if("object"==typeof e)for(var r in e)Ae(t,r,e[r],n);else for(var o=0,a=(e=f(e)).length;o<a;o++)Ae(t,e[o],n,i);return this}var Se="_leaflet_events";function Oe(t,e,n,i){if("object"==typeof e)for(var r in e)De(t,r,e[r],n);else if(e)for(var o=0,a=(e=f(e)).length;o<a;o++)De(t,e[o],n,i);else{for(var s in t[Se])De(t,s,t[Se][s]);delete t[Se]}return this}function Ae(t,e,n,i){var r=e+a(n)+(i?"_"+a(i):"");if(t[Se]&&t[Se][r])return this;var o=function(e){return n.call(i||t,e||window.event)},s=o;wt&&0===e.indexOf("touch")?Ut(t,e,o,r):!xt||"dblclick"!==e||!qt||wt&&st?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",o,!!Mt&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(o=function(e){e=e||window.event,We(t,e)&&s(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",o,!1)):("click"===e&&nt&&(o=function(t){!function(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,i=Ze&&n-Ze;i&&i>100&&i<500||t.target._simulatedClick&&!t._simulated?Ne(t):(Ze=n,e(t))}(t,s)}),t.addEventListener(e,o,!1)):"attachEvent"in t&&t.attachEvent("on"+e,o):qt(t,o,r),t[Se]=t[Se]||{},t[Se][r]=o}function De(t,e,n,i){var r=e+a(n)+(i?"_"+a(i):""),o=t[Se]&&t[Se][r];if(!o)return this;wt&&0===e.indexOf("touch")?function(t,e,n){var i=t["_leaflet_"+e+n];"touchstart"===e?t.removeEventListener(At,i,!1):"touchmove"===e?t.removeEventListener(Dt,i,!1):"touchend"===e&&(t.removeEventListener(Rt,i,!1),t.removeEventListener(zt,i,!1))}(t,e,r):!xt||"dblclick"!==e||!Xt||wt&&st?"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",o,!!Mt&&{passive:!1}):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,o,!1):"detachEvent"in t&&t.detachEvent("on"+e,o):Xt(t,r),t[Se][r]=null}function Re(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,Ge(t),this}function ze(t){return Ae(t,"mousewheel",Re),this}function je(t){return Ce(t,"mousedown touchstart dblclick",Re),Ae(t,"click",Ve),this}function Ie(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ne(t){return Ie(t),Re(t),this}function Be(t,e){if(!e)return new A(t.clientX,t.clientY);var n=Pe(e),i=n.boundingClientRect;return new A((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}var Ue=ft&&st?2*window.devicePixelRatio:lt?window.devicePixelRatio:1;function Fe(t){return tt?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Ue:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var Ze,He={};function Ve(t){He[t.type]=!0}function Ge(t){var e=He[t.type];return He[t.type]=!1,e}function We(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}var Ye=(Object.freeze||Object)({on:Ce,off:Oe,stopPropagation:Re,disableScrollPropagation:ze,disableClickPropagation:je,preventDefault:Ie,stop:Ne,getMousePosition:Be,getWheelDelta:Fe,fakeStop:Ve,skipped:Ge,isExternalTarget:We,addListener:Ce,removeListener:Oe}),qe=O.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=be(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=M(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),ge(this._el,n),this.fire("step")},_complete:function(){P(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Xe=O.extend({options:{crs:Y,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=d(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(U(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ne&&_t&&!Lt&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ce(this._proxy,ie,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(U(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=n({animate:i.animate},i.zoom),i.pan=n({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(_t?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(_t?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),r=this.getSize().divideBy(2),o=(t instanceof A?t:this.latLngToContainerPoint(t)).subtract(r).multiplyBy(1-1/i),a=this.containerPointToLatLng(r.add(o));return this.setView(a,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():N(t);var n=R(e.paddingTopLeft||e.padding||[0,0]),i=R(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,n.add(i));if((r="number"==typeof e.maxZoom?Math.min(e.maxZoom,r):r)===1/0)return{center:t.getCenter(),zoom:r};var o=i.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),r),s=this.project(t.getNorthEast(),r);return{center:this.unproject(a.add(s).divideBy(2).add(o),r),zoom:r}},fitBounds:function(t,e){if(!(t=N(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=R(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qe,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){fe(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!_t)return this.setView(t,e,n);this._stop();var i=this.project(this.getCenter()),r=this.project(t),o=this.getSize(),a=this._zoom;t=U(t),e=void 0===e?a:e;var s=Math.max(o.x,o.y),l=s*this.getZoomScale(a,e),u=r.distanceTo(i)||1;function c(t){var e=(l*l-s*s+2.0164*(t?-1:1)*2.0164*u*u)/(2*(t?l:s)*2.0164*u),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function h(t){return(Math.exp(t)-Math.exp(-t))/2}function f(t){return(Math.exp(t)+Math.exp(-t))/2}var d=c(0);function p(t){return s*(f(d)*(h(e=d+1.42*t)/f(e))-h(d))/2.0164;var e}var m=Date.now(),_=(c(1)-d)/1.42,v=n.duration?1e3*n.duration:1e3*_*.8;return this._moveStart(!0,n.noMoveStart),function n(){var o=(Date.now()-m)/v,l=function(t){return 1-Math.pow(1-t,1.5)}(o)*_;o<=1?(this._flyToFrame=M(n,this),this._move(this.unproject(i.add(r.subtract(i).multiplyBy(p(l)/u)),a),this.getScaleZoom(s/function(t){return s*(f(d)/f(d+1.42*t))}(l),a),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=N(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,N(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=R((e=e||{}).paddingTopLeft||e.padding||[0,0]),i=R(e.paddingBottomRight||e.padding||[0,0]),r=this.getCenter(),o=this.project(r),a=this.project(t),s=this.getPixelBounds(),l=s.getSize().divideBy(2),u=j([s.min.add(n),s.max.subtract(i)]);if(!u.contains(a)){this._enforcingBounds=!0;var c=o.subtract(a),h=R(a.x+c.x,a.y+c.y);(a.x<u.min.x||a.x>u.max.x)&&(h.x=o.x-c.x,c.x>0?h.x+=l.x-n.x:h.x-=l.x-i.x),(a.y<u.min.y||a.y>u.max.y)&&(h.y=o.y-c.y,c.y>0?h.y+=l.y-n.y:h.y-=l.y-i.y),this.panTo(this.unproject(h),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),o=e.divideBy(2).round(),a=i.divideBy(2).round(),s=o.subtract(a);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=r(this._handleGeolocationResponse,this),i=r(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=new B(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),i=this._locateOptions;if(i.setView){var r=this.getBoundsZoom(n);this.setView(e,i.maxZoom?Math.min(r,i.maxZoom):r)}var o={latlng:e,bounds:n,timestamp:t.timestamp};for(var a in t.coords)"number"==typeof t.coords[a]&&(o[a]=t.coords[a]);this.fire("locationfound",o)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),se(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(P(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)se(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=ae("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new I(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=N(t),n=R(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),l=this.getSize().subtract(n),u=j(this.project(s,i),this.project(a,i)).getSize(),c=_t?this.options.zoomSnap:1,h=l.x/u.x,f=l.y/u.y,d=e?Math.max(h,f):Math.min(h,f);return i=this.getScaleZoom(d,i),c&&(i=Math.round(i/(c/100))*(c/100),i=e?Math.ceil(i/c)*c:Math.floor(i/c)*c),Math.max(r,Math.min(o,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new A(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new z(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(U(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(R(t),e)},layerPointToLatLng:function(t){var e=R(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(U(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(U(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(N(t))},distance:function(t,e){return this.options.crs.distance(U(t),U(e))},containerPointToLayerPoint:function(t){return R(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return R(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(R(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(t)))},mouseEventToContainerPoint:function(t){return Be(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=re(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Ce(e,"scroll",this._onScroll,this),this._containerId=a(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&_t,fe(t,"leaflet-container"+(xt?" leaflet-touch":"")+(Et?" leaflet-retina":"")+(Q?" leaflet-oldie":"")+(ut?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=oe(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ge(this._mapPane,new A(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(fe(t.markerPane,"leaflet-zoom-hide"),fe(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){ge(this._mapPane,new A(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i,!1)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return P(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){ge(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[a(this._container)]=this;var e=t?Oe:Ce;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),_t&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){P(this._resizeRequest),this._resizeRequest=M((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],r="mouseout"===e||"mouseover"===e,o=t.target||t.srcElement,s=!1;o;){if((n=this._targets[a(o)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(e,!0)){if(r&&!We(o,t))break;if(i.push(n),r)break}if(o===this._container)break;o=o.parentNode}return i.length||s||r||!We(o,t)||(i=[this]),i},_handleDOMEvent:function(t){if(this._loaded&&!Ge(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e&&"keyup"!==e&&"keydown"!==e||ke(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){if("click"===t.type){var r=n({},t);r.type="preclick",this._fireDOMEvent(r,r.type,i)}if(!t._stopped&&(i=(i||[]).concat(this._findEventTargets(t,e))).length){var o=i[0];"contextmenu"===e&&o.listens(e,!0)&&Ie(t);var a={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var s=o.getLatLng&&(!o._radius||o._radius<=10);a.containerPoint=s?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=s?o.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var l=0;l<i.length;l++)if(i[l].fire(e,a,!0),a.originalEvent._stopped||!1===i[l].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return be(this._mapPane)||new A(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return j([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),r=this.getSize().divideBy(2),o=new z(i.subtract(r),i.add(r)),a=this._getBoundsOffset(o,n,e);return a.round().equals([0,0])?t:this.unproject(i.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new z(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=j(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),r=i.min.subtract(t.min),o=i.max.subtract(t.max);return new A(this._rebound(r.x,-o.x),this._rebound(r.y,-o.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=_t?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){de(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=ae("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=ee,n=this._proxy.style[e];ye(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){se(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();ye(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(r)||(M((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),0))},_animateZoom:function(t,e,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,fe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&de(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),M((function(){this._moveEnd(!0)}),this))}}),Ke=C.extend({options:{position:"topright"},initialize:function(t){d(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return fe(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(se(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Je=function(t){return new Ke(t)};Xe.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=ae("div",e+"control-container",this._container);function i(i,r){var o=e+i+" "+e+r;t[i+r]=ae("div",o,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)se(this._controlCorners[t]);se(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var $e=Ke.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){for(var i in d(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ke.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(a(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){fe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(fe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):de(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return de(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=ae("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),je(e),ze(e);var i=this._section=ae("section",t+"-list");n&&(this._map.on("click",this.collapse,this),nt||Ce(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var r=this._layersLink=ae("a",t+"-toggle",e);r.href="#",r.title="Layers",xt?(Ce(r,"click",Ne),Ce(r,"click",this.expand,this)):Ce(r,"focus",this.expand,this),n||this.expand(),this._baseLayersList=ae("div",t+"-base",i),this._separator=ae("div",t+"-separator",i),this._overlaysList=ae("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&a(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(r((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;le(this._baseLayersList),le(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,r=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,r+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&r>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(a(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers_"+a(this),i),this._layerControlInputs.push(e),e.layerId=a(t.layer),Ce(e,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+t.name;var o=document.createElement("div");return n.appendChild(o),o.appendChild(e),o.appendChild(r),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||r.push(e);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])&&this._map.removeLayer(r[o]);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])||this._map.addLayer(i[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Qe=Ke.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=ae("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,r){var o=ae("a",n,i);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),je(o),Ce(o,"click",Ne),Ce(o,"click",r,this),Ce(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";de(this._zoomInButton,e),de(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&fe(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&fe(this._zoomInButton,e)}});Xe.mergeOptions({zoomControl:!0}),Xe.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Qe,this.addControl(this.zoomControl))}));var tn=Ke.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=ae("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",e),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=ae("div",e,n)),t.imperial&&(this._iScale=ae("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,r=3.2808399*t;r>5280?(e=r/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(r),this._updateScale(this._iScale,i+" ft",i/r))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),en=Ke.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){d(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=ae("div","leaflet-control-attribution"),je(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});Xe.mergeOptions({attributionControl:!0}),Xe.addInitHook((function(){this.options.attributionControl&&(new en).addTo(this)})),Ke.Layers=$e,Ke.Zoom=Qe,Ke.Scale=tn,Ke.Attribution=en,Je.layers=function(t,e,n){return new $e(t,e,n)},Je.zoom=function(t){return new Qe(t)},Je.scale=function(t){return new tn(t)},Je.attribution=function(t){return new en(t)};var nn=C.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});nn.addTo=function(t,e){return t.addHandler(e,this),this};var rn,on={Events:S},an=xt?"touchstart mousedown":"mousedown",sn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},ln={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},un=O.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){d(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Ce(this._dragStartTarget,an,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(un._dragging===this&&this.finishDrag(),Oe(this._dragStartTarget,an,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!he(this._element,"leaflet-zoom-anim")&&!(un._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(un._dragging=this,this._preventOutline&&ke(this._element),xe(),Kt(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t,n=Me(this._element);this._startPoint=new A(e.clientX,e.clientY),this._parentScale=Pe(n),Ce(document,ln[t.type],this._onMove,this),Ce(document,sn[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new A(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Ie(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=be(this._element).subtract(n),fe(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),fe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,P(this._animRequest),this._lastEvent=t,this._animRequest=M(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),ge(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in de(document.body,"leaflet-dragging"),this._lastTarget&&(de(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ln)Oe(document,ln[t],this._onMove,this),Oe(document,sn[t],this._onUp,this);Le(),Jt(),this._moved&&this._moving&&(P(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,un._dragging=!1}});function cn(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=function(t,e){var n=t.length,i=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,function t(e,n,i,r,o){var a,s,l,u=0;for(s=r+1;s<=o-1;s++)(l=mn(e[s],e[r],e[o],!0))>u&&(a=s,u=l);u>i&&(n[a]=1,t(e,n,i,r,a),t(e,n,i,a,o))}(t,i,e,0,n-1);var r,o=[];for(r=0;r<n;r++)i[r]&&o.push(t[r]);return o}(t=function(t,e){for(var n=[t[0]],i=1,r=0,o=t.length;i<o;i++)a=t[i],s=t[r],l=void 0,u=void 0,l=s.x-a.x,u=s.y-a.y,l*l+u*u>e&&(n.push(t[i]),r=i);var a,s,l,u;return r<o-1&&n.push(t[o-1]),n}(t,n),n)}function hn(t,e,n){return Math.sqrt(mn(t,e,n,!0))}function fn(t,e,n,i,r){var o,a,s,l=i?rn:pn(t,n),u=pn(e,n);for(rn=u;;){if(!(l|u))return[t,e];if(l&u)return!1;s=pn(a=dn(t,e,o=l||u,n,r),n),o===l?(t=a,l=s):(e=a,u=s)}}function dn(t,e,n,i,r){var o,a,s=e.x-t.x,l=e.y-t.y,u=i.min,c=i.max;return 8&n?(o=t.x+s*(c.y-t.y)/l,a=c.y):4&n?(o=t.x+s*(u.y-t.y)/l,a=u.y):2&n?(o=c.x,a=t.y+l*(c.x-t.x)/s):1&n&&(o=u.x,a=t.y+l*(u.x-t.x)/s),new A(o,a,r)}function pn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function mn(t,e,n,i){var r,o=e.x,a=e.y,s=n.x-o,l=n.y-a,u=s*s+l*l;return u>0&&((r=((t.x-o)*s+(t.y-a)*l)/u)>1?(o=n.x,a=n.y):r>0&&(o+=s*r,a+=l*r)),s=t.x-o,l=t.y-a,i?s*s+l*l:new A(o,a)}function _n(t){return!v(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function vn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),_n(t)}var yn=(Object.freeze||Object)({simplify:cn,pointToSegmentDistance:hn,closestPointOnSegment:function(t,e,n){return mn(t,e,n)},clipSegment:fn,_getEdgeIntersection:dn,_getBitCode:pn,_sqClosestPointOnSegment:mn,isFlat:_n,_flat:vn});function gn(t,e,n){var i,r,o,a,s,l,u,c,h,f=[1,4,2,8];for(r=0,u=t.length;r<u;r++)t[r]._code=pn(t[r],e);for(a=0;a<4;a++){for(c=f[a],i=[],r=0,o=(u=t.length)-1;r<u;o=r++)s=t[r],l=t[o],s._code&c?l._code&c||((h=dn(l,s,c,e,n))._code=pn(h,e),i.push(h)):(l._code&c&&((h=dn(l,s,c,e,n))._code=pn(h,e),i.push(h)),i.push(s));t=i}return t}var bn=(Object.freeze||Object)({clipPolygon:gn}),wn={project:function(t){return new A(t.lng,t.lat)},unproject:function(t){return new B(t.y,t.x)},bounds:new z([-180,-90],[180,90])},xn={R:6378137,R_MINOR:6356752.314245179,bounds:new z([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),a=o*Math.sin(i),s=Math.tan(Math.PI/4-i/2)/Math.pow((1-a)/(1+a),o/2);return i=-n*Math.log(Math.max(s,1e-10)),new A(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,o=Math.sqrt(1-r*r),a=Math.exp(-t.y/i),s=Math.PI/2-2*Math.atan(a),l=0,u=.1;l<15&&Math.abs(u)>1e-7;l++)e=o*Math.sin(s),e=Math.pow((1-e)/(1+e),o/2),s+=u=Math.PI/2-2*Math.atan(a*e)-s;return new B(s*n,t.x*n/i)}},Ln=(Object.freeze||Object)({LonLat:wn,Mercator:xn,SphericalMercator:V}),kn=n({},H,{code:"EPSG:3395",projection:xn,transformation:function(){var t=.5/(Math.PI*xn.R);return W(t,.5,-t,.5)}()}),En=n({},H,{code:"EPSG:4326",projection:wn,transformation:W(1/180,1,-1/180,.5)}),Mn=n({},Z,{projection:wn,transformation:W(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});Z.Earth=H,Z.EPSG3395=kn,Z.EPSG3857=Y,Z.EPSG900913=q,Z.EPSG4326=En,Z.Simple=Mn;var Pn=O.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[a(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[a(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",(function(){e.off(n,this)}),this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});Xe.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=a(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=a(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&a(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?v(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[a(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=a(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;t=void 0===r.minZoom?t:Math.min(t,r.minZoom),e=void 0===r.maxZoom?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Tn=Pn.extend({initialize:function(t,e){var n,i;if(d(this,e),this._layers={},t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return a(t)}}),Cn=Tn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Tn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Tn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new I;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Sn=C.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){d(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var r=R(i),o=R("shadow"===e&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Et&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),On=Sn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return On.imagePath||(On.imagePath=this._detectIconPath()),(this.options.imagePath||On.imagePath)+Sn.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=ae("div","leaflet-default-icon-path",document.body),e=oe(t,"background-image")||oe(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),An=nn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new un(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),fe(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&de(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,o=be(e._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),l=j(a.min._subtract(s).add(r),a.max._subtract(s).subtract(r));if(!l.contains(o)){var u=R((Math.max(l.max.x,o.x)-l.max.x)/(a.max.x-l.max.x)-(Math.min(l.min.x,o.x)-l.min.x)/(a.min.x-l.min.x),(Math.max(l.max.y,o.y)-l.max.y)/(a.max.y-l.max.y)-(Math.min(l.min.y,o.y)-l.min.y)/(a.min.y-l.min.y)).multiplyBy(i);n.panBy(u,{animate:!1}),this._draggable._newPos._add(u),this._draggable._startPos._add(u),ge(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=M(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(P(this._panRequest),this._panRequest=M(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=be(e._icon),r=e._map.layerPointToLatLng(i);n&&ge(n,i),e._latlng=r,t.latlng=r,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){P(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Dn=Pn.extend({options:{icon:new On,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){d(this,e),this._latlng=U(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=U(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),fe(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var r=t.icon.createShadow(this._shadow),o=!1;r!==this._shadow&&(this._removeShadow(),o=!0),r&&(fe(r,e),r.alt=""),this._shadow=r,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&o&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),se(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&se(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&ge(this._icon,t),this._shadow&&ge(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(fe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),An)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new An(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&_e(this._icon,t),this._shadow&&_e(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),Rn=Pn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return d(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&t.hasOwnProperty("weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),zn=Rn.extend({options:{fill:!0,radius:10},initialize:function(t,e){d(this,e),this._latlng=U(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=U(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Rn.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new z(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),jn=zn.extend({initialize:function(t,e,i){if("number"==typeof e&&(e=n({},i,{radius:e})),d(this,e),this._latlng=U(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new I(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Rn.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===H.distance){var r=Math.PI/180,o=this._mRadius/H.R/r,a=n.project([e+o,t]),s=n.project([e-o,t]),l=a.add(s).divideBy(2),u=n.unproject(l).lat,c=Math.acos((Math.cos(o*r)-Math.sin(e*r)*Math.sin(u*r))/(Math.cos(e*r)*Math.cos(u*r)))/r;(isNaN(c)||0===c)&&(c=o/Math.cos(Math.PI/180*e)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:l.x-n.project([u,t-c]).x,this._radiusY=l.y-a.y}else{var h=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}}),In=Rn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){d(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,r=null,o=mn,a=0,s=this._parts.length;a<s;a++)for(var l=this._parts[a],u=1,c=l.length;u<c;u++){var h=o(t,e=l[u-1],n=l[u],!0);h<i&&(i=h,r=o(t,e,n))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,a,s=this._rings[0],l=s.length;if(!l)return null;for(t=0,e=0;t<l-1;t++)e+=s[t].distanceTo(s[t+1])/2;if(0===e)return this._map.layerPointToLatLng(s[0]);for(t=0,i=0;t<l-1;t++)if(r=s[t],o=s[t+1],(i+=n=r.distanceTo(o))>e)return a=(i-e)/n,this._map.layerPointToLatLng([o.x-a*(o.x-r.x),o.y-a*(o.y-r.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=U(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new I,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return _n(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=_n(t),i=0,r=t.length;i<r;i++)n?(e[i]=U(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new A(t,t);this._pxBounds=new z([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)])},_projectLatlngs:function(t,e,n){var i,r,o=t[0]instanceof B,a=t.length;if(o){for(r=[],i=0;i<a;i++)r[i]=this._map.latLngToLayerPoint(t[i]),n.extend(r[i]);e.push(r)}else for(i=0;i<a;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,i,r,o,a,s,l=this._parts;for(e=0,i=0,r=this._rings.length;e<r;e++)for(n=0,o=(s=this._rings[e]).length;n<o-1;n++)(a=fn(s[n],s[n+1],t,n,!0))&&(l[i]=l[i]||[],l[i].push(a[0]),a[1]===s[n+1]&&n!==o-2||(l[i].push(a[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=cn(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,r,o,a,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,o=this._parts.length;n<o;n++)for(i=0,r=(a=(s=this._parts[n]).length)-1;i<a;r=i++)if((e||0!==i)&&hn(t,s[r],s[i])<=l)return!0;return!1}});In._flat=vn;var Nn=In.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,a,s,l,u=this._rings[0],c=u.length;if(!c)return null;for(o=a=s=0,t=0,e=c-1;t<c;e=t++)n=u[t],i=u[e],r=n.y*i.x-i.y*n.x,a+=(n.x+i.x)*r,s+=(n.y+i.y)*r,o+=3*r;return l=0===o?u[0]:[a/o,s/o],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=In.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof B&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){In.prototype._setLatLngs.call(this,t),_n(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return _n(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new A(e,e);if(t=new z(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,r=0,o=this._rings.length;r<o;r++)(i=gn(this._rings[r],t,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,r,o,a,s,l,u=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,s=this._parts.length;r<s;r++)for(o=0,a=(l=(e=this._parts[r]).length)-1;o<l;a=o++)n=e[o],i=e[a],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(u=!u);return u||In.prototype._containsPoint.call(this,t,!0)}}),Bn=Cn.extend({initialize:function(t,e){d(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,r=v(t)?t:t.features;if(r){for(e=0,n=r.length;e<n;e++)((i=r[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var a=Un(t,o);return a?(a.feature=Yn(t),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function Un(t,e){var n,i,r,o,a="Feature"===t.type?t.geometry:t,s=a?a.coordinates:null,l=[],u=e&&e.pointToLayer,c=e&&e.coordsToLatLng||Zn;if(!s&&!a)return null;switch(a.type){case"Point":return Fn(u,t,n=c(s),e);case"MultiPoint":for(r=0,o=s.length;r<o;r++)n=c(s[r]),l.push(Fn(u,t,n,e));return new Cn(l);case"LineString":case"MultiLineString":return i=Hn(s,"LineString"===a.type?0:1,c),new In(i,e);case"Polygon":case"MultiPolygon":return i=Hn(s,"Polygon"===a.type?1:2,c),new Nn(i,e);case"GeometryCollection":for(r=0,o=a.geometries.length;r<o;r++){var h=Un({geometry:a.geometries[r],type:"Feature",properties:t.properties},e);h&&l.push(h)}return new Cn(l);default:throw new Error("Invalid GeoJSON object.")}}function Fn(t,e,n,i){return t?t(e,n):new Dn(n,i&&i.markersInheritOptions&&i)}function Zn(t){return new B(t[1],t[0],t[2])}function Hn(t,e,n){for(var i,r=[],o=0,a=t.length;o<a;o++)i=e?Hn(t[o],e-1,n):(n||Zn)(t[o]),r.push(i);return r}function Vn(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[c(t.lng,e),c(t.lat,e),c(t.alt,e)]:[c(t.lng,e),c(t.lat,e)]}function Gn(t,e,n,i){for(var r=[],o=0,a=t.length;o<a;o++)r.push(e?Gn(t[o],e-1,n,i):Vn(t[o],i));return!e&&n&&r.push(r[0]),r}function Wn(t,e){return t.feature?n({},t.feature,{geometry:e}):Yn(e)}function Yn(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var qn={toGeoJSON:function(t){return Wn(this,{type:"Point",coordinates:Vn(this.getLatLng(),t)})}};function Xn(t,e){return new Bn(t,e)}Dn.include(qn),jn.include(qn),zn.include(qn),In.include({toGeoJSON:function(t){var e=!_n(this._latlngs);return Wn(this,{type:(e?"Multi":"")+"LineString",coordinates:Gn(this._latlngs,e?1:0,!1,t)})}}),Nn.include({toGeoJSON:function(t){var e=!_n(this._latlngs),n=e&&!_n(this._latlngs[0]),i=Gn(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),Wn(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),Tn.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),Wn(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer((function(e){if(e.toGeoJSON){var r=e.toGeoJSON(t);if(n)i.push(r.geometry);else{var o=Yn(r);"FeatureCollection"===o.type?i.push.apply(i,o.features):i.push(o)}}})),n?Wn(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var Kn=Xn,Jn=Pn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=N(e),d(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(fe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){se(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ue(this._image),this},bringToBack:function(){return this._map&&ce(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=N(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:ae("img");fe(e,"leaflet-image-layer"),this._zoomAnimated&&fe(e,"leaflet-zoom-animated"),this.options.className&&fe(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onload=r(this.fire,this,"load"),e.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ye(this._image,n,e)},_reset:function(){var t=this._image,e=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();ge(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){_e(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),$n=Jn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:ae("video");if(fe(e,"leaflet-image-layer"),this._zoomAnimated&&fe(e,"leaflet-zoom-animated"),this.options.className&&fe(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onloadeddata=r(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),i=[],o=0;o<n.length;o++)i.push(n[o].src);this._url=n.length>0?i:[e.src]}else{v(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&e.style.hasOwnProperty("objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var a=0;a<this._url.length;a++){var s=ae("source");s.src=this._url[a],e.appendChild(s)}}}}),Qn=Jn.extend({_initImage:function(){var t=this._image=this._url;fe(t,"leaflet-image-layer"),this._zoomAnimated&&fe(t,"leaflet-zoom-animated"),this.options.className&&fe(t,this.options.className),t.onselectstart=u,t.onmousemove=u}}),ti=Pn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){d(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&_e(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&_e(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(_e(this._container,0),this._removeTimeout=setTimeout(r(se,void 0,this._container),200)):se(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=U(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ue(this._container),this},bringToBack:function(){return this._map&&ce(this._container),this},_prepareOpen:function(t,e,n){if(e instanceof Pn||(n=e,e=t),e instanceof Cn)for(var i in t._layers){e=t._layers[i];break}if(!n)if(e.getCenter)n=e.getCenter();else{if(!e.getLatLng)throw new Error("Unable to get source layer LatLng.");n=e.getLatLng()}return this._source=e,this.update(),n},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=R(this.options.offset),n=this._getAnchor();this._zoomAnimated?ge(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}}),ei=ti.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){ti.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Rn||this._source.on("preclick",Re))},onRemove:function(t){ti.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Rn||this._source.off("preclick",Re))},getEvents:function(){var t=ti.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=ae("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ae("div",t+"-content-wrapper",e);if(this._contentNode=ae("div",t+"-content",n),je(n),ze(this._contentNode),Ce(n,"contextmenu",Re),this._tipContainer=ae("div",t+"-tip-container",e),this._tip=ae("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=ae("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",Ce(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,r=this.options.maxHeight;r&&i>r?(e.height=r+"px",fe(t,"leaflet-popup-scrolled")):de(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();ge(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(oe(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,r=new A(this._containerLeft,-n-this._containerBottom);r._add(be(this._container));var o=t.layerPointToContainerPoint(r),a=R(this.options.autoPanPadding),s=R(this.options.autoPanPaddingTopLeft||a),l=R(this.options.autoPanPaddingBottomRight||a),u=t.getSize(),c=0,h=0;o.x+i+l.x>u.x&&(c=o.x+i-u.x+l.x),o.x-c-s.x<0&&(c=o.x-s.x),o.y+n+l.y>u.y&&(h=o.y+n-u.y+l.y),o.y-h-s.y<0&&(h=o.y-s.y),(c||h)&&t.fire("autopanstart").panBy([c,h])}},_onCloseButtonClick:function(t){this._close(),Ne(t)},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Xe.mergeOptions({closePopupOnClick:!0}),Xe.include({openPopup:function(t,e,n){return t instanceof ei||(t=new ei(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),Pn.include({bindPopup:function(t,e){return t instanceof ei?(d(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new ei(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(Ne(t),e instanceof Rn?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var ni=ti.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){ti.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){ti.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=ti.prototype.getEvents.call(this);return xt&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ae("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,i=e.latLngToContainerPoint(e.getCenter()),r=e.layerPointToContainerPoint(t),o=this.options.direction,a=n.offsetWidth,s=n.offsetHeight,l=R(this.options.offset),u=this._getAnchor();"top"===o?t=t.add(R(-a/2+l.x,-s+l.y+u.y,!0)):"bottom"===o?t=t.subtract(R(a/2-l.x,-l.y,!0)):"center"===o?t=t.subtract(R(a/2+l.x,s/2-u.y+l.y,!0)):"right"===o||"auto"===o&&r.x<i.x?(o="right",t=t.add(R(l.x+u.x,u.y-s/2+l.y,!0))):(o="left",t=t.subtract(R(a+u.x-l.x,s/2-u.y-l.y,!0))),de(n,"leaflet-tooltip-right"),de(n,"leaflet-tooltip-left"),de(n,"leaflet-tooltip-top"),de(n,"leaflet-tooltip-bottom"),fe(n,"leaflet-tooltip-"+o),ge(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&_e(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Xe.include({openTooltip:function(t,e,n){return t instanceof ni||(t=new ni(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),Pn.include({bindTooltip:function(t,e){return t instanceof ni?(d(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new ni(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),xt&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(fe(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(de(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var ii=Sn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(le(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=R(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});Sn.Default=On;var ri=Pn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:vt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){d(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),se(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ue(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ce(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof A?t:new A(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),r=0,o=n.length;r<o;r++)e=n[r].style.zIndex,n[r]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Q){_e(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var r=this._tiles[i];if(r.current&&r.loaded){var o=Math.min(1,(t-r.loaded)/200);_e(r.el,o),o<1?e=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(P(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this))}},_onOpaqueTile:u,_initContainer:function(){this._container||(this._container=ae("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(se(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],r=this._map;return i||((i=this._levels[t]={}).el=ae("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,r.getCenter(),r.getZoom()),i.el.offsetWidth,this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:u,_onRemoveLevel:u,_onCreateLevel:u,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)se(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var r=Math.floor(t/2),o=Math.floor(e/2),a=n-1,s=new A(+r,+o);s.z=+a;var l=this._tileCoordsToKey(s),u=this._tiles[l];return u&&u.active?(u.retain=!0,!0):(u&&u.loaded&&(u.retain=!0),a>i&&this._retainParent(r,o,a,i))},_retainChildren:function(t,e,n,i){for(var r=2*t;r<2*t+2;r++)for(var o=2*e;o<2*e+2;o++){var a=new A(r,o);a.z=n+1;var s=this._tileCoordsToKey(a),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<i&&this._retainChildren(r,o,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var r=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom)&&(r=void 0);var o=this.options.updateWhenZooming&&r!==this._tileZoom;i&&!o||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),r=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();_t?ye(t.el,r,i):ge(t.el,r)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),r=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*i);return new z(r.subtract(o),r.add(o))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(i),o=r.getCenter(),a=[],s=this.options.keepBuffer,l=new z(r.getBottomLeft().subtract([s,-s]),r.getTopRight().add([s,-s]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var u in this._tiles){var c=this._tiles[u].coords;c.z===this._tileZoom&&l.contains(new A(c.x,c.y))||(this._tiles[u].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var h=r.min.y;h<=r.max.y;h++)for(var f=r.min.x;f<=r.max.x;f++){var d=new A(f,h);if(d.z=this._tileZoom,this._isValidTile(d)){var p=this._tiles[this._tileCoordsToKey(d)];p?p.current=!0:a.push(d)}}if(a.sort((function(t,e){return t.distanceTo(o)-e.distanceTo(o)})),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(f=0;f<a.length;f++)this._addTile(a[f],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return N(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),r=i.add(n);return[e.unproject(i,t.z),e.unproject(r,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new I(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new A(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(se(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){fe(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=u,t.onmousemove=u,Q&&this.options.opacity<1&&_e(t,this.options.opacity),nt&&!it&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),r(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&M(r(this._tileReady,this,t,null,o)),ge(o,n),this._tiles[i]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(_e(n.el,0),P(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(fe(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Q||!this._map._fadeAnimated?M(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new A(this._wrapX?l(t.x,this._wrapX):t.x,this._wrapY?l(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new z(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),oi=ri.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=d(this,e)).detectRetina&&Et&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),nt||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Ce(n,"load",r(this._tileOnLoad,this,e,n)),Ce(n,"error",r(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:Et?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return _(this._url,n(e,this.options))},_tileOnLoad:function(t,e){Q?setTimeout(r(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=u,e.onerror=u,e.complete||(e.src=g,se(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return ot||e.el.setAttribute("src",g),ri.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==g))return ri.prototype._tileReady.call(this,t,e,n)}});function ai(t,e){return new oi(t,e)}var si=oi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=n({},this.defaultWmsParams);for(var r in e)r in this.options||(i[r]=e[r]);var o=(e=d(this,e)).detectRetina&&Et?2:1,a=this.getTileSize();i.width=a.x*o,i.height=a.y*o,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,oi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=j(n.project(e[0]),n.project(e[1])),r=i.min,o=i.max,a=(this._wmsVersion>=1.3&&this._crs===En?[r.y,r.x,o.y,o.x]:[r.x,r.y,o.x,o.y]).join(","),s=oi.prototype.getTileUrl.call(this,t);return s+p(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});oi.WMS=si,ai.wms=function(t,e){return new si(t,e)};var li=Pn.extend({options:{padding:.1,tolerance:0},initialize:function(t){d(this,t),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&fe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=be(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),a=this._map.project(t,e).subtract(o),s=r.multiplyBy(-n).add(i).add(r).subtract(a);_t?ye(this._container,s,n):ge(this._container,s)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new z(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ui=li.extend({getEvents:function(){var t=li.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){li.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Ce(t,"mousemove",this._onMouseMove,this),Ce(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ce(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){P(this._redrawRequest),delete this._ctx,se(this._container),Oe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){li.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=Et?2:1;ge(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Et&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){li.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[a(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[a(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,n,i=t.options.dashArray.split(/[, ]+/),r=[];for(n=0;n<i.length;n++){if(e=Number(i[n]),isNaN(e))return;r.push(e)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||M(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,r,o,a=t._parts,s=a.length,l=this._ctx;if(s){for(l.beginPath(),n=0;n<s;n++){for(i=0,r=a[n].length;i<r;i++)o=a[n][i],l[i?"lineTo":"moveTo"](o.x,o.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),r=(Math.max(Math.round(t._radiusY),1)||i)/i;1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(e.x,e.y/r,i,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),r=this._drawFirst;r;r=r.next)(e=r.layer).options.interactive&&e._containsPoint(i)&&!this._map._draggableMoved(e)&&(n=e);n&&(Ve(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(de(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,i,r=this._drawFirst;r;r=r.next)(n=r.layer).options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(fe(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(L.bind((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function ci(t){return Pt?new ui(t):null}var hi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),fi={_initContainer:function(){this._container=ae("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(li.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=hi("shape");fe(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=hi("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;se(e),t.removeInteractiveTarget(e),delete this._layers[a(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,r=t._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(e||(e=t._stroke=hi("stroke")),r.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=v(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(r.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=hi("fill")),r.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(r.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ue(t._container)},_bringToBack:function(t){ce(t._container)}},di=Ct?hi:X,pi=li.extend({getEvents:function(){var t=li.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=di("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=di("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){se(this._container),Oe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){li.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),ge(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=di("path");t.options.className&&fe(e,t.options.className),t.options.interactive&&fe(e,"leaflet-interactive"),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){se(t._path),t.removeInteractiveTarget(t._path),delete this._layers[a(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,K(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",r=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(t,r)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ue(t._path)},_bringToBack:function(t){ce(t._path)}});function mi(t){return Tt||Ct?new pi(t):null}Ct&&pi.include(fi),Xe.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&ci(t)||mi(t)}});var _i=Nn.extend({initialize:function(t,e){Nn.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=N(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});pi.create=di,pi.pointsToPath=K,Bn.geometryToLayer=Un,Bn.coordsToLatLng=Zn,Bn.coordsToLatLngs=Hn,Bn.latLngToCoords=Vn,Bn.latLngsToCoords=Gn,Bn.getFeature=Wn,Bn.asFeature=Yn,Xe.mergeOptions({boxZoom:!0});var vi=nn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Ce(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Oe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){se(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Kt(),xe(),this._startPoint=this._map.mouseEventToContainerPoint(t),Ce(document,{contextmenu:Ne,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ae("div","leaflet-zoom-box",this._container),fe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new z(this._point,this._startPoint),n=e.getSize();ge(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(se(this._box),de(this._container,"leaflet-crosshair")),Jt(),Le(),Oe(document,{contextmenu:Ne,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var e=new I(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});Xe.addInitHook("addHandler","boxZoom",vi),Xe.mergeOptions({doubleClickZoom:!0});var yi=nn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,r=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(r):e.setZoomAround(t.containerPoint,r)}});Xe.addInitHook("addHandler","doubleClickZoom",yi),Xe.mergeOptions({dragging:!0,inertia:!it,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var gi=nn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new un(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}fe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){de(this._map._container,"leaflet-grab"),de(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=N(this._map.options.maxBounds);this._offsetLimit=j(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,o=(i+e+n)%t-e-n,a=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=r.multiplyBy(a/o),l=s.distanceTo([0,0]),u=Math.min(n.inertiaMaxSpeed,l),c=s.multiplyBy(u/l),h=u/(n.inertiaDeceleration*a),f=c.multiplyBy(-h/2).round();f.x||f.y?(f=e._limitOffset(f,e.options.maxBounds),M((function(){e.panBy(f,{duration:h,easeLinearity:a,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});Xe.addInitHook("addHandler","dragging",gi),Xe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var bi=nn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Ce(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Oe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},r=this.keyCodes;for(e=0,n=r.left.length;e<n;e++)i[r.left[e]]=[-1*t,0];for(e=0,n=r.right.length;e<n;e++)i[r.right[e]]=[t,0];for(e=0,n=r.down.length;e<n;e++)i[r.down[e]]=[0,t];for(e=0,n=r.up.length;e<n;e++)i[r.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},r=this.keyCodes;for(e=0,n=r.zoomIn.length;e<n;e++)i[r.zoomIn[e]]=t;for(e=0,n=r.zoomOut.length;e<n;e++)i[r.zoomOut[e]]=-t},_addHooks:function(){Ce(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Oe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys)i._panAnim&&i._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=R(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}Ne(t)}}});Xe.addInitHook("addHandler","keyboard",bi),Xe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var wi=nn.extend({addHooks:function(){Ce(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Oe(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Fe(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),i),Ne(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,o=n?Math.ceil(r/n)*n:r,a=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}});Xe.addInitHook("addHandler","scrollWheelZoom",wi),Xe.mergeOptions({tap:!0,tapTolerance:15});var xi=nn.extend({addHooks:function(){Ce(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Oe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(Ie(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new A(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&fe(n,"leaflet-active"),this._holdTimeout=setTimeout(r((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))}),this),1e3),this._simulateEvent("mousedown",e),Ce(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Oe(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&de(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new A(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});xt&&!wt&&Xe.addInitHook("addHandler","tap",xi),Xe.mergeOptions({touchZoom:xt&&!it,bounceAtZoomLimits:!0});var Li=nn.extend({addHooks:function(){fe(this._map._container,"leaflet-touch-zoom"),Ce(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){de(this._map._container,"leaflet-touch-zoom"),Oe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Ce(document,"touchmove",this._onTouchMove,this),Ce(document,"touchend",this._onTouchEnd,this),Ie(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),P(this._animRequest);var s=r(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=M(s,this,!0),Ie(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,P(this._animRequest),Oe(document,"touchmove",this._onTouchMove),Oe(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Xe.addInitHook("addHandler","touchZoom",Li),Xe.BoxZoom=vi,Xe.DoubleClickZoom=yi,Xe.Drag=gi,Xe.Keyboard=bi,Xe.ScrollWheelZoom=wi,Xe.Tap=xi,Xe.TouchZoom=Li,Object.freeze=e,t.version="1.6.0",t.Control=Ke,t.control=Je,t.Browser=Ot,t.Evented=O,t.Mixin=on,t.Util=T,t.Class=C,t.Handler=nn,t.extend=n,t.bind=r,t.stamp=a,t.setOptions=d,t.DomEvent=Ye,t.DomUtil=Te,t.PosAnimation=qe,t.Draggable=un,t.LineUtil=yn,t.PolyUtil=bn,t.Point=A,t.point=R,t.Bounds=z,t.bounds=j,t.Transformation=G,t.transformation=W,t.Projection=Ln,t.LatLng=B,t.latLng=U,t.LatLngBounds=I,t.latLngBounds=N,t.CRS=Z,t.GeoJSON=Bn,t.geoJSON=Xn,t.geoJson=Kn,t.Layer=Pn,t.LayerGroup=Tn,t.layerGroup=function(t,e){return new Tn(t,e)},t.FeatureGroup=Cn,t.featureGroup=function(t){return new Cn(t)},t.ImageOverlay=Jn,t.imageOverlay=function(t,e,n){return new Jn(t,e,n)},t.VideoOverlay=$n,t.videoOverlay=function(t,e,n){return new $n(t,e,n)},t.SVGOverlay=Qn,t.svgOverlay=function(t,e,n){return new Qn(t,e,n)},t.DivOverlay=ti,t.Popup=ei,t.popup=function(t,e){return new ei(t,e)},t.Tooltip=ni,t.tooltip=function(t,e){return new ni(t,e)},t.Icon=Sn,t.icon=function(t){return new Sn(t)},t.DivIcon=ii,t.divIcon=function(t){return new ii(t)},t.Marker=Dn,t.marker=function(t,e){return new Dn(t,e)},t.TileLayer=oi,t.tileLayer=ai,t.GridLayer=ri,t.gridLayer=function(t){return new ri(t)},t.SVG=pi,t.svg=mi,t.Renderer=li,t.Canvas=ui,t.canvas=ci,t.Path=Rn,t.CircleMarker=zn,t.circleMarker=function(t,e){return new zn(t,e)},t.Circle=jn,t.circle=function(t,e,n){return new jn(t,e,n)},t.Polyline=In,t.polyline=function(t,e){return new In(t,e)},t.Polygon=Nn,t.polygon=function(t,e){return new Nn(t,e)},t.Rectangle=_i,t.rectangle=function(t,e){return new _i(t,e)},t.Map=Xe,t.map=function(t,e){return new Xe(t,e)};var ki=window.L;t.noConflict=function(){return window.L=ki,this},window.L=t}(e)},20:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII="},21:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC"},22:function(t,e,n){"use strict";(function(t){var i=n(15),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===r&&i.a.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();e.a=s}).call(this,n(58)(t))},3:function(t,e,n){"use strict";var i=n(15),r="object"==typeof self&&self&&self.Object===Object&&self,o=i.a||r||Function("return this")();e.a=o},4:function(t,e){t.exports=window.ReactDOM},56:function(t,e,n){},57:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},58:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},59:function(t,e,n){"use strict";t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var i,r,o;if(Array.isArray(e)){if((i=e.length)!=n.length)return!1;for(r=i;0!=r--;)if(!t(e[r],n[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((i=(o=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(r=i;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=i;0!=r--;){var a=o[r];if(!t(e[a],n[a]))return!1}return!0}return e!=e&&n!=n}},60:function(t,e,n){"use strict";e.a=function(){return!1}}});